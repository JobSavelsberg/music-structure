{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/views/Callback.vue?e81a","webpack:///./src/App.vue?bceb","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/views/Home.vue?819c","webpack:///./src/components/TrackSelector.vue?6191","webpack:///./src/components/Album.vue?865c","webpack:///src/components/Album.vue","webpack:///./src/components/Album.vue?ef28","webpack:///./src/components/Album.vue?aeb0","webpack:///./src/app/authentication.js","webpack:///./src/app/audioUtil.js","webpack:///./src/app/Segment.js","webpack:///./src/app/similarity.js","webpack:///./src/app/workers/tsneWorker/tsneWorker.js","webpack:///./src/app/workers/tsneWorker/index.js","webpack:///./src/app/workers/ssmWorker/ssmWorker.js","webpack:///./src/app/workers/ssmWorker/index.js","webpack:///./src/app/workers/clusterWorker/clusterWorker.js","webpack:///./src/app/workers/clusterWorker/index.js","webpack:///./src/store/index.js","webpack:///./src/app/Track.js","webpack:///./src/app/app.js","webpack:///src/components/TrackSelector.vue","webpack:///./src/components/TrackSelector.vue?635c","webpack:///./src/components/TrackSelector.vue","webpack:///./src/components/Visualization.vue?b52b","webpack:///./src/app/player.js","webpack:///./src/app/vis.js","webpack:///src/components/Visualization.vue","webpack:///./src/components/Visualization.vue?6d7e","webpack:///./src/components/Visualization.vue?0ab9","webpack:///./src/components/Player.vue?3a57","webpack:///src/components/Player.vue","webpack:///./src/components/Player.vue?5c64","webpack:///./src/components/Player.vue?d892","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?f458","webpack:///./src/views/Home.vue?1dce","webpack:///./src/views/Callback.vue?b562","webpack:///src/views/Callback.vue","webpack:///./src/views/Callback.vue?2a5f","webpack:///./src/views/Callback.vue?7303","webpack:///./src/views/Login.vue?699e","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue?0b6d","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/Player.vue?1a7f","webpack:///./src/components/Album.vue?fd95","webpack:///./src/components/Visualization.vue?6ce7","webpack:///./src/views/Home.vue?9878","webpack:///./src/views/Login.vue?b712"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","this","oldJsonpFunction","slice","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","components","elHtml","style","overflowY","destroyed","component","VApp","staticClass","_v","on","$event","preventDefault","search","model","callback","$$v","searchQuery","expression","getVolumeIcon","volume","clickVolume","trackList","padding","nativeOn","onScroll","selected","_l","track","index","scopedSlots","_u","fn","ref","active","toggle","trackData","albumSize","class","directives","rawName","clicked","imgSize","album","images","imgIndex","url","_s","artists","VBtn","VCard","VCardActions","VCardText","VImg","Ripple","token","refreshToken","api","axios","baseURL","withCredentials","requestFirstToken","code","a","post","then","res","access_token","window","sessionStorage","setItem","expires_in","Date","getTime","toString","catch","err","console","log","isAuthorized","undefined","getItem","d3","require","circleOfFifths","noteColor","scaleLinear","domain","interpolate","interpolateHcl","range","rgb","Math","PI","TWO_PI","OFFSET","tonality","pitches","x","y","energy","angle","radius","cos","sin","atan2","sqrt","tonalVectorColor","color","hsl","saturation","min","hex","loudness","db","max","Segment","segment","start","duration","loudness_start","loudness_max","loudness_max_time","loudness_end","GAMMA","forEach","pitch","audioUtil","tonalityAngle","tonalityRadius","tonalityEnergy","minDuration","decay","shortness","percussiony","prevSegment","nextSegment","biggest","totalBiggest","timbre","timbres","duration_ms","concat","cluster","coord","tsneCoord","euclidianDistance","b","squaredDistance","dist","diff","Worker","worker","promiseWorker","PWBHost","send","message","postMessage","type","receive","register","terminate","Vue","use","Vuex","Store","state","user","selectedIndex","seeker","playerState","loadingTrack","playerReady","playing","tsneReady","ssmReady","clusterReady","mutations","setSeeker","time_ms","setUser","setPlayerState","addToTrackList","addToTrackListIndex","addToTrackListFront","unshift","clearTrackList","setSelectedIndex","setPlaying","incrementSeeker","increment","ready","actions","getters","selectedTrack","id","CLUSTERAMOUNT","Track","Array","fill","createSegmentObjects","calculateMaxMin","preprocesSegments","tsne","calculateSSM","analysisData","segments","segmentObjects","getSegments","timbreMax","getOriginalTimbres","timbreMin","timbreBiggest","abs","timbreTotalBiggest","processPitch","processTimbre","pitchFeatures","timbreFeatures","tonalEnergyFeatures","tonalRadiusFeatures","tonalAngleFeatures","loudnessFeatures","getLoudnessFeatures","processPitchSmooth","features","store","commit","ssmWorker","self","ssm","clusterWorker","minK","maxK","tries","updateClusters","clusterIndexes","setCluster","clusters","setTimeout","tsneWorker","updateTSNECoords","coords","setTSNECoord","minDist","Infinity","closestSegment","sim","analysis","process","artist","uri","bars","beats","tatums","getPitches","map","getTimbres","setAnalysis","json","createWithAnalysis","spotify","SpotifyWebApi","allTracks","Map","initialize","loadAllTracks","setAccessToken","auth","getMe","router","getMyTopTracks","limit","offset","tracks","loadTracksFromSpotify","items","selectTrackAtIndex","getAnalysis","localStorage","allTracksArray","JSON","parse","trackArray","set","keepCurrentTrack","has","hasAnalysis","getAudioAnalysisForTrack","getId","query","results","props","computed","watch","mounted","methods","VSlideGroup","VSlideItem","playerRef","canvasVis","rawPitch","$set","rawTimbre","rawRhythm","zoom","clickedVis","_e","zoomed","canvasWidth","scale","canvasHeight","clusterColor","clickedCluster","$store","tsneSize","clickedTSNE","playingSegment","clickedSegment","deviceId","trackIsLoaded","nextTrackURI","nexStartPosition","setTrack","trackUri","startPosition","resume","position","seek","play","device_id","uris","position_ms","pause","time","playSegment","deviceIdSet","Promise","resolve","reject","timeWas","wait","setInterval","clearInterval","setVolume","waitForSpotifyWebPlaybackSDKToLoad","Spotify","onSpotifyWebPlaybackSDKReady","stateChangedCallback","Player","getOAuthToken","cb","addListener","error","current_track","track_window","connect","zeroOneColor","interpolator","pitchColor","greyScaleColor","timbreColor","rainbowColor","diverging","renderRawPitch","left","width","yOffset","height","ctx","segmentHeight","segmentWidth","fillStyle","fillRect","renderPercussionPitch","segmentIndex","renderRawTimbre","getProcessedTimbre","renderRawRhythm","getBars","bar","confidence","getBeats","beat","getTatums","tatum","renderTonality","renderSSM","size","segmentA","getSegment","segmentB","getSSM","pow","canvas","hover","windowWidth","innerWidth","spotifyVisualizer","power","scaleX","visSpaceBetween","drawClusters","percussionPitch","draw","function","round","deep","handler","addEventListener","setupCanvas","document","getElementById","ms","pitchColorRange","timbreColorRange","rainbowColorRange","d3ClusterColor","loadingTrackChanged","getContext","devicePixelRatio","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","clearRect","redraw","xOffset","offsetToMiddle","seekerChanged","transform","save","translate","drawImage","restore","clusterIndex","randomSegment","canvasHeightChanged","canvasVisChanged","VIcon","VLayout","VRow","VSpacer","VSwitch","playPause","verticalScale","clickedSVG","baseColor","VHover","VProgressCircular","VProgressLinear","prevVolume","TrackSelector","Visualization","beforeCreate","selectedTrackChanged","getAnalsysisFor","trackAnalysis","selectedTrackId","analysisReady","VAppBar","VContainer","VSlider","VTextField","VToolbarTitle","VToolbar","spotifyAuthorize","VCardSubtitle","VCardTitle","VueRouter","routes","path","Login","Home","beforeEnter","to","from","next","Callback","base","Vuetify","theme","dark","themes","light","primary","secondary","accent","info","success","warning","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,KAAK,gBAAkBA,KAAK,iBAAmB,GAC5DC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,yBAAwb,EAAG,G,oCCA3b,yBAA+c,EAAG,G,4HCA9c,EAAS,WAAa,IAAIyC,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,MAAO,IAAO,CAACF,EAAG,gBAAgB,IAC5JG,EAAkB,GCMtB,GACE/B,KAAM,MAENgC,WAAY,GAGZpE,KAAM,WAAR,UAGE,QAAF,WACI,IAAJ,2CACIqE,EAAOC,MAAMC,UAAY,QAE3BC,UAAW,WACT,IAAJ,2CACIH,EAAOC,MAAMC,UAAY,OCtBiS,I,yDCQ1TE,EAAY,eACd,EACA,EACAN,GACA,EACA,KACA,KACA,MAIa,EAAAM,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,OAAA,O,gBCxB1B,EAAS,WAAa,IAAIb,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,QAAQ,CAACX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,kBAAkB,CAACH,EAAIe,GAAG,gCAAgCZ,EAAG,YAAYA,EAAG,OAAO,CAACa,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBlB,EAAImB,OAAOF,MAAW,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,eAAe,GAAG,cAAc,cAAc,cAAc,GAAG,QAAU,GAAG,MAAQ,GAAG,OAAS,IAAIe,MAAM,CAACpC,MAAOgB,EAAe,YAAEqB,SAAS,SAAUC,GAAMtB,EAAIuB,YAAYD,GAAKE,WAAW,kBAAkB,GAAGrB,EAAG,MAAM,CAACW,YAAY,gBAAgB,CAACX,EAAG,cAAc,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,eAAeL,EAAIyB,cAAczB,EAAI0B,QAAQ,IAAM,EAAE,IAAM,EAAE,KAAO,KAAMV,GAAG,CAAC,gBAAgBhB,EAAI2B,aAAaP,MAAM,CAACpC,MAAOgB,EAAU,OAAEqB,SAAS,SAAUC,GAAMtB,EAAI0B,OAAOJ,GAAKE,WAAW,aAAa,IAAI,GAAGrB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,SAAS,CAACH,EAAIe,GAAG,gBAAgB,GAAGZ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,SAAS,CAACH,EAAIe,GAAG,wBAAwB,IAAI,GAAGZ,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAASL,EAAI4B,UAAU,aAAa,OAAOzB,EAAG,SAAS,CAACE,MAAM,CAAC,QAAUL,EAAI6B,WAAW1B,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUL,EAAI6B,YAAY,IACvpC,EAAkB,GCDlB,G,UAAS,WAAa,IAAI7B,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACW,YAAY,OAAOT,MAAM,CAAC,gBAAgB,GAAG,UAAY,IAAIyB,SAAS,CAAC,OAAS,SAASb,GAAQ,OAAOjB,EAAI+B,SAASd,KAAUG,MAAM,CAACpC,MAAOgB,EAAY,SAAEqB,SAAS,SAAUC,GAAMtB,EAAIgC,SAASV,GAAKE,WAAW,aAAaxB,EAAIiC,GAAIjC,EAAU,QAAE,SAASkC,EAAMC,GAAO,OAAOhC,EAAG,eAAe,CAACb,IAAI6C,EAAMrB,YAAY,YAAYsB,YAAYpC,EAAIqC,GAAG,CAAC,CAAC/C,IAAI,UAAUgD,GAAG,SAASC,GACjf,IAAIC,EAASD,EAAIC,OACbC,EAASF,EAAIE,OACjB,MAAO,CAACtC,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ6B,EAAMQ,UAAU,QAAUF,EAAuB,IAAdxC,EAAI2C,UAAgB3C,EAAI2C,UAAU,OAASH,GAAQxB,GAAG,CAAC,QAAUyB,SAAc,MAAK,QAAU,IAAI,KACpK,EAAkB,GCJlB,EAAS,WAAa,IAAIzC,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACyC,MAAM5C,EAAIwC,OAAS,cAAgB,cAAc/B,MAAOT,EAAa,WAAG,CAACG,EAAG,MAAM,CAAC0C,WAAW,CAAC,CAACtE,KAAK,SAASuE,QAAQ,aAAahC,YAAY,QAAQE,GAAG,CAAC,MAAQhB,EAAI+C,UAAU,CAAC5C,EAAG,QAAQ,CAACE,MAAM,CAAC,OAASL,EAAIgD,QAAQ,MAAQhD,EAAIgD,QAAQ,IAAMhD,EAAIiD,MAAMA,MAAMC,OAAOlD,EAAImD,UAAUC,OAAOjD,EAAG,cAAc,CAACW,YAAY,4BAA4B,CAACX,EAAG,MAAM,CAACW,YAAY,gDAAgD,CAACd,EAAIe,GAAGf,EAAIqD,GAAGrD,EAAIiD,MAAM1E,YAAY,GAAG4B,EAAG,iBAAiB,CAACW,YAAY,uBAAuB,CAACX,EAAG,QAAQ,CAACW,YAAY,eAAeT,MAAM,CAAC,KAAO,GAAG,MAAQ,OAAO,MAAQ,KAAK,CAACF,EAAG,OAAO,CAACW,YAAY,8CAA8CL,MAAM,CAAE,YAAaZ,KAAKmD,QAAQ,GAAK,OAAQ,CAAChD,EAAIe,GAAG,IAAIf,EAAIqD,GAAGrD,EAAIiD,MAAMK,QAAQ,GAAG/E,MAAM,UAAU,IAAI,IACh3B,EAAkB,GC8BtB,GACE,MAAF,CACA,QACA,UACA,UAEE,KANF,WAOI,MAAJ,IAIE,QAXF,aAaE,SAAF,CACI,SADJ,WAEM,OAAN,+CACA,+CACA,GAEI,UANJ,WAOM,MAAN,CACQ,MAAR,kBACQ,OAAR,wBAIE,QAAF,CACI,QADJ,WAEM,KAAN,oBC3D+U,I,6FCQ3U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAShC,IAAkB,EAAW,CAACgF,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,OAAA,OAMhE,IAAkB,EAAW,CAACC,OAAA,S,8FCzBnBC,EAGPC,E,0FATEV,EAAM,4CACNW,EAAMC,IAAM3E,OAAO,CACrB4E,QAASb,EACTc,iBAAiB,IAQd,SAAeC,EAAtB,kC,+CAAO,WAAiCC,GAAjC,SAAAC,EAAA,uEACGN,EAAIO,KAAK,gBAAiB,CAC5BF,KAAMA,IACPG,MAAK,SAACC,GACLX,EAAQW,EAAIrI,KAAKsI,aACjBC,OAAOC,eAAeC,QAAQ,QAASf,GAC3BW,EAAIrI,KAAK0I,WACrBH,OAAOC,eAAeC,QAAQ,kBAAkB,IAAIE,MAAOC,UAAUC,YACrElB,EAAeU,EAAIrI,KAAK0I,WACxBH,OAAOC,eAAeC,QAAQ,eAAgBd,MAC/CmB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAXb,2C,wBA8BA,SAASG,IACZ,QAAaC,IAAVzB,EAAoB,CACnB,IAAM5E,EAAIyF,OAAOC,eAAeY,QAAQ,SAC9Bb,OAAOC,eAAeY,QAAQ,kBAC9Bb,OAAOC,eAAeY,QAAQ,gBACxC,QAAGtG,IACC4E,EAAQ5E,GAED,GAKf,OAAO,E,8FCvDLuG,G,UAAKC,EAAQ,SACNC,EAAiB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAI1CC,EAAYH,EAAGI,cAAcC,OAAO,CAAC,EAAG,EAAE,GAAI,EAAE,GAAI,IAAI,GAAI,IAAI,GAAI,IAAI,GAAI,IAAI,GAAI,IAAI,GAAI,EAAE,GAAI,IAAI,GAAI,KAAQ,KAAS,IAAIC,YAAYN,EAAGO,gBAAgBC,MAAM,CAC7KR,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WACnFT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAChET,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAYT,EAAGS,IAAI,WAAWT,EAAGS,IAAI,aAMpCC,KAAKC,GACXD,KAAKC,GAD9B,IAEIC,EAAS,EAAIF,KAAKC,GAClBE,GAAS,EAAEH,KAAKC,GAAG,EAEhB,SAASG,GAASC,GAIrB,IAHA,IAAIC,EAAI,EACJC,EAAI,EACJC,EAAS,EACLjK,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAMkK,GAASjB,EAAejJ,GAAK,GAAO2J,EAASC,GAC7CO,EAASL,EAAQ9J,GACvBiK,GAAUE,EAAO,GACjBJ,GAAKI,EAASV,KAAKW,IAAIF,GACvBF,GAAKG,EAASV,KAAKY,IAAIH,GAG3B,IAAMA,GAAST,KAAKa,MAAMP,EAAGC,GAAGP,KAAKC,IAAIC,EACnCQ,EAASV,KAAKc,KAAKR,EAAEA,EAAEC,EAAEA,GAC/B,MAAO,CAACE,EAAOC,EAAQF,GAGpB,SAASO,GAAiBV,GAAQ,MACLD,GAASC,GADJ,sBAC9BI,EAD8B,KACvBC,EADuB,KACfF,EADe,KAI/BQ,EAAQ1B,EAAG2B,IAAIxB,EAAUgB,IACzBS,EAAalB,KAAKmB,IAAW,EAAPT,GAAiB,GAAPF,GAAW,GAEjD,OADAQ,EAAMnJ,EAAIqJ,EACHF,EAAMI,MAGV,SAASC,GAASC,GACrB,IAAMrJ,EAAI+H,KAAKuB,IAAI,EAAE,GAAGD,GAAI,GAC5B,OAAOrJ,EAAEA,E,IChDQuJ,G,WAsBjB,WAAYC,GAAS,qDArBX,MAqBW,4BApBb,GAoBa,+BAnBV,GAmBU,qCAlBJ,GAkBI,wCAjBD,GAiBC,mCAhBN,GAgBM,mCAfN,GAeM,8BAbX,IAaW,8BAZX,IAYW,+BAVV,GAUU,gCATT,CAAC,EAAG,IASK,oCAPL,GAOK,qCANJ,GAMI,qCALJ,GAKI,kCAHP,GAIV9H,KAAK8H,QAAUA,EACf9H,KAAK+H,MAAQD,EAAQC,MACrB/H,KAAKgI,SAAWF,EAAQE,SACxBhI,KAAKiI,eAAiBH,EAAQG,eAC9BjI,KAAKkI,aAAeJ,EAAQI,aAC5BlI,KAAKmI,kBAAoBL,EAAQK,kBACjCnI,KAAKoI,aAAeN,EAAQM,a,4DAGnBC,GAAO,WAChBrI,KAAK8H,QAAQpB,QAAQ4B,SAAQ,SAACC,EAAO3L,GACjC,EAAK8J,QAAQtJ,KAAKmL,MAFN,MAIiDC,GAAmBxI,KAAK0G,SAJzE,sBAIf1G,KAAKyI,cAJU,KAIKzI,KAAK0I,eAJV,KAI0B1I,KAAK2I,eAJ/B,KAMhB,IAAMC,EAAc,GACdC,EAAQ,GACRC,EAAY9I,KAAKgI,SAAWY,EAAc,EAAKC,GAAS7I,KAAKgI,SAAW,KAC9EhI,KAAK+I,YAAc1C,KAAKmB,IAAI,GAAI,EAAIxH,KAAK0I,gBAAkB1I,KAAK2I,eAAiB,GAAKG,I,yCAGvEE,EAAaC,GAC5B,IAAK,IAAInJ,EAAI,EAAGA,EAAIE,KAAK0G,QAAQ5J,OAAQgD,IACrCE,KAAK0G,QAAQ5G,IAAM,EAAIE,KAAK+I,aAAe/I,KAAK0G,QAAQ5G,GAAKE,KAAK+I,aAAeC,EAAYtC,QAAQ5G,GAAKmJ,EAAYvC,QAAQ5G,IAAM,I,oCAI9H0H,EAAKI,EAAKsB,EAASC,GAAc,WAC3CnJ,KAAK8H,QAAQsB,OAAOd,SAAQ,SAACc,EAAQxM,GACjC,EAAKyM,QAAQjM,KAAKgM,EAASD,Q,mCAIpB,OAAOnJ,KAAK0G,U,mCACZ,OAAO1G,KAAKqJ,U,oCACX,OAAOrJ,KAAKsJ,c,iCACf,OAAOtJ,KAAK+H,Q,2CACF,OAAO/H,KAAK8H,QAAQsB,S,oCAC3B,OAAOpJ,KAAK0G,QAAQ6C,OAAOvJ,KAAKqJ,W,iCACrCzM,GAAKoD,KAAKwJ,QAAU5M,I,mCAClB6M,GAASzJ,KAAK0J,UAAYD,I,uCACpB,OAAOzJ,KAAK2I,iB,sCACb,OAAO3I,KAAKyI,gB,4CAE1B,MAAO,CACHD,GAAmBxI,KAAKiI,gBACxBO,GAAmBxI,KAAKkI,cACxBlI,KAAKmI,kBACLK,GAAmBxI,KAAKoI,mB,KCvC7B,SAASuB,GAAkBnF,EAAGoF,GACjC,OAAOvD,KAAKc,KAAK0C,GAAgBrF,EAAGoF,IASjC,SAASC,GAAgBrF,EAAGoF,GAE/B,IADA,IAAIE,EAAO,EACHlN,EAAI,EAAGA,EAAI4H,EAAE1H,OAAQF,IAAI,CAC7B,IAAMmN,EAAQvF,EAAE5H,GAAKgN,EAAEhN,GACvBkN,GAAQC,EAAKA,EAEjB,OAAOD,E,qCClDI,cACb,OAAO,IAAIE,OAAO,IAA0B,qCCE1CC,GAAS,IAAID,GACbE,GAAgB,IAAIC,QAAQF,IAE1BG,GAAO,SAAAC,GAAO,OAAIH,GAAcI,YAAY,CAACC,KAAM,UAAWF,aAC9DG,GAAU,SAAAhJ,GAAQ,OAAI0I,GAAcO,SAASjJ,IAC7CkJ,GAAY,WAAMT,GAAOS,YAAaT,GAAS,IAAID,GAAUE,GAAgB,IAAIC,QAAQF,KAGhF,IACXG,QACAI,WACAE,cCdW,cACb,OAAO,IAAIV,OAAO,IAA0B,oCCE1CC,GAAS,IAAID,GACbE,GAAgB,IAAIC,QAAQF,IAE1BG,GAAO,SAAAC,GAAO,OAAIH,GAAcI,YAAY,CAACC,KAAM,UAAWF,aAC9DG,GAAU,SAAAhJ,GAAQ,OAAI0I,GAAcO,SAASjJ,IAC7CkJ,GAAY,WAAMT,GAAOS,YAAaT,GAAS,IAAID,GAAUE,GAAgB,IAAIC,QAAQF,KAGhF,IACXG,QACAI,WACAE,cCdW,cACb,OAAO,IAAIV,OAAO,IAA0B,wCCE1CC,GAAS,IAAID,GACbE,GAAgB,IAAIC,QAAQF,IAE1BG,GAAO,SAAAC,GAAO,OAAIH,GAAcI,YAAY,CAACC,KAAM,UAAWF,aAC9DG,GAAU,SAAAhJ,GAAQ,OAAI0I,GAAcO,SAASjJ,IAC7CkJ,GAAY,WAAMT,GAAOS,YAAaT,GAAS,IAAID,GAAUE,GAAgB,IAAIC,QAAQF,KAGhF,IACXG,QACAI,WACAE,c,yBCVJC,OAAIC,IAAIC,SAEO,WAAIA,QAAKC,MAAM,CAC5BC,MAAO,CACLC,KAAMjO,OACNgF,UAAW,GACXkJ,eAAgB,EAChBC,OAAQ,EACRC,YAAa,KACbC,cAAc,EACdC,aAAa,EACbC,SAAS,EAETC,WAAW,EACXC,UAAU,EACVC,cAAc,GAGhBC,UAAW,CACTC,UADS,SACCZ,EAAOa,GACfb,EAAMG,OAASU,GAEjBC,QAJS,SAIDd,EAAOC,GACb1F,QAAQC,IAAI,kBAAmByF,GAC/BD,EAAMC,KAAOA,GAEfc,eARS,SAQMf,EAAOI,GACpBJ,EAAMI,YAAcA,GAEtBC,aAXS,SAWIL,EAAOK,GAClBL,EAAMK,aAAeA,GAEvBC,YAdS,SAcGN,EAAOM,GACjBN,EAAMM,YAAcA,GAEtBU,eAjBS,SAiBMhB,EAAO1I,GACpB0I,EAAMhJ,UAAU3E,KAAKiF,IAEvB2J,oBApBS,SAoBWjB,EAAOzI,EAAOD,GAChC0I,EAAMhJ,UAAU/D,OAAOsE,EAAO,EAAGD,IAEnC4J,oBAvBS,SAuBWlB,EAAO1I,GACzB0I,EAAMhJ,UAAUmK,QAAQ7J,IAE1B8J,eA1BS,SA0BMpB,GACbA,EAAMhJ,UAAY,IAEpBqK,iBA7BS,SA6BQrB,EAAOzI,GACtByI,EAAME,cAAgB3I,GAExB+J,WAhCS,SAgCEtB,EAAOO,GAChBP,EAAMO,QAAUA,GAElBgB,gBAnCS,SAmCOvB,EAAOwB,GACrBxB,EAAMG,QAAUqB,GAElBhB,UAtCS,SAsCCR,EAAOyB,GACfzB,EAAMQ,UAAYiB,GAEpBf,aAzCS,SAyCIV,EAAOyB,GAClBzB,EAAMU,aAAee,GAEvBhB,SA5CS,SA4CAT,EAAOyB,GACdzB,EAAMS,SAAWgB,IAGrBC,QAAS,GAGTC,QAAS,CACPxB,OADO,SACAH,GACL,OAAOA,EAAMG,QAEfD,cAJO,SAIOF,GACZ,OAAOA,EAAME,eAEf0B,cAPO,SAOO5B,GACZ,OAAOA,EAAMhJ,UAAUgJ,EAAME,gBAE/BD,KAVO,SAUFD,GACH,OAAOA,EAAMC,MAEf3I,MAbO,SAaD0I,EAAO6B,GACX,OAAO7B,EAAMhJ,UAAU6K,IAEzB7K,UAhBO,SAgBGgJ,GACR,OAAOA,EAAMhJ,WAEfoJ,YAnBO,SAmBKJ,GACV,OAAOA,EAAMI,aAEfG,QAtBO,SAsBCP,GACN,OAAOA,EAAMO,SAEfC,UAzBO,SAyBGR,GACR,OAAOA,EAAMQ,WAEfE,aA5BO,SA4BMV,GACX,OAAOA,EAAMU,cAEfD,SA/BO,SA+BET,GACP,OAAOA,EAAMS,WAGjBnO,QAAS,KClGLgL,GAAQ,IACRwE,GAAgB,GAEDC,G,WAyIjB,WAAYjK,GAAW,uDAxIX,MAwIW,mCAvIR,MAuIQ,qCAtIN,IAsIM,0BArIjB,MAqIiB,gCApIX,IAAIkK,MAAM,IAAIC,KAAK,IAoIR,gCAnIX,IAAID,MAAM,IAAIC,KAAK,IAmIR,oCAlIP,IAAID,MAAM,IAAIC,KAAK,IAkIZ,yCAjIF,GAiIE,oCA/HP,IA+HO,qCA9HN,IA8HM,uCA7HJ,IA6HI,0CA5HD,IA4HC,0CA3HD,IA2HC,yCA1HF,IA0HE,+BAzHZ,IAyHY,+BAvHZ,IAAID,MAAMF,IAAeG,KAAK,KAwHrChN,KAAK6C,UAAYA,E,yDArHjB7C,KAAKiN,uBACLjN,KAAKkN,kBACLlN,KAAKmN,oBACLnN,KAAKoN,OACLpN,KAAKwJ,UACLxJ,KAAKqN,iB,6CAGc,WACnB/H,QAAQC,IAAI,2BACZvF,KAAKsN,aAAaC,SAASjF,SAAQ,SAACR,GAChC,EAAK0F,eAAepQ,KAAK,IAAIyK,GAAQC,OAEzCxC,QAAQC,IAAI,4B,wCAGE,WACdvF,KAAKyN,cAAcnF,SAAQ,SAACR,EAASxF,GACjC,IAAK,IAAI1F,EAAI,EAAGA,EAAI,GAAIA,IACpB,EAAK8Q,UAAU9Q,GAAKyJ,KAAKuB,IAAI,EAAK8F,UAAU9Q,GAAIkL,EAAQ6F,qBAAqB/Q,IAC7E,EAAKgR,UAAUhR,GAAKyJ,KAAKmB,IAAI,EAAKoG,UAAUhR,GAAIkL,EAAQ6F,qBAAqB/Q,OAGrF,IAAK,IAAIA,EAAI,EAAGA,EAAI,GAAIA,IACpBoD,KAAK6N,cAAcjR,GAAKyJ,KAAKuB,IAAIvB,KAAKyH,IAAI9N,KAAK0N,UAAU9Q,IAAKyJ,KAAKyH,IAAI9N,KAAK4N,UAAUhR,KACtFoD,KAAK+N,mBAAqB1H,KAAKuB,IAAI5H,KAAK+N,mBAAoB/N,KAAK6N,cAAcjR,M,0CAInE,WAChBoD,KAAKwN,eAAelF,SAAQ,SAACpK,EAAGtB,GAC5BsB,EAAE8P,aAAa3F,IACfnK,EAAE+P,cAAc,EAAKL,UAAW,EAAKF,UAAW,EAAKG,cAAe,EAAKE,oBACzE,EAAKG,cAAc9Q,KAAKc,EAAEwI,SAC1B,EAAKyH,eAAe/Q,KAAKc,EAAEmL,SAC3B,EAAK+E,oBAAoBhR,KAAKc,EAAEyK,gBAChC,EAAK0F,oBAAoBjR,KAAKc,EAAEwK,gBAChC,EAAK4F,mBAAmBlR,KAAKc,EAAEuK,eAC/B,EAAK8F,iBAAiBnR,KAAKc,EAAEsQ,0BAEjC,IAAK,IAAI5R,EAAI,EAAGA,EAAIoD,KAAKwN,eAAe1Q,OAAQF,IACxCA,EAAI,GAAKA,EAAIoD,KAAKwN,eAAe1Q,OAAS,GAC1CkD,KAAKwN,eAAe5Q,GAAG6R,mBAAmBzO,KAAKwN,eAAe5Q,EAAI,GAAIoD,KAAKwN,eAAe5Q,EAAI,IAElGoD,KAAK0O,SAAStR,KAAd,yBAAuB4C,KAAKmO,eAAevR,IAA3C,CAA+CoD,KAAKoO,oBAAoBxR,GAAIoD,KAAKqO,oBAAoBzR,IAArG,eAA4GoD,KAAKuO,iBAAiB3R,Q,qCAStI0I,QAAQC,IAAI,sBACZoJ,GAAMC,OAAO,YAAY,GACzBC,GAAUnE,YACV,IAAMoE,EAAO9O,KACb6O,GAAUzE,KAAK,CAAEoD,eAAgBxN,KAAKwN,iBAAiB9I,MAAK,SAAC/G,GACzDmR,EAAKC,IAAMpR,EACXgR,GAAMC,OAAO,YAAY,GACzBtJ,QAAQC,IAAI,YACZD,QAAQC,IAAIuJ,EAAKC,U,gCAKf,WACNzJ,QAAQC,IAAI,0BACZyJ,GAActE,YACdsE,GAAc5E,KAAK,CAAEsE,SAAU1O,KAAK0O,SAAUO,KAAM,EAAGC,KAAM,GAAIC,MAAO,IAAKzK,MAAK,SAAC/G,GAC/E,EAAKyR,eAAezR,GACpB2H,QAAQC,IAAI,wB,qCAGL8J,GAAe,WAC1BV,GAAMC,OAAO,gBAAgB,GAC7BS,EAAe/G,SAAQ,SAACkB,EAASlH,GAC7B,EAAKkL,eAAelL,GAAOgN,WAAW9F,GACtC,EAAK+F,SAAS/F,GAASpM,KAAK,EAAKoQ,eAAelL,OAEpDuC,OAAO2K,WAAWb,GAAMC,OAAO,gBAAgB,GAAO,K,6BAGnD,WACHtJ,QAAQC,IAAI,uBACZkK,GAAW/E,YACX+E,GAAWrF,KAAK,CAAEsE,SAAU1O,KAAK0O,WAAYhK,MAAK,SAAC/G,GAC/C,EAAK+R,iBAAiB/R,MAG1B8R,GAAWjF,SAAQ,SAAC7M,GAChB,EAAK+R,iBAAiB/R,Q,uCAIbgS,GACbhB,GAAMC,OAAO,aAAa,GAC1B,IAAK,IAAIhS,EAAI,EAAGA,EAAIoD,KAAKwN,eAAe1Q,OAAQF,IAC5CoD,KAAKwN,eAAe5Q,GAAGgT,aAAaD,EAAO/S,IAE/CiI,OAAO2K,WAAWb,GAAMC,OAAO,aAAa,GAAO,K,wCAGrCnF,GACd,IAAIoG,EAAUC,IACVC,EAAiB,KAQrB,OAPA/P,KAAKwN,eAAelF,SAAQ,SAACR,GACzB,IAAMgC,EAAOkG,GAAsBvG,EAAO3B,EAAQ4B,WAC9CI,EAAO+F,IACPA,EAAU/F,EACViG,EAAiBjI,MAGlBiI,M,iDAiBP,MAAO,CACHlN,UAAW7C,KAAK6C,UAChByK,aAActN,KAAKsN,gB,8BAIjB,OAAOtN,KAAK6C,UAAU+J,K,oCAChB,OAA6B,OAAtB5M,KAAKsN,cAAyBtN,KAAKwN,eAAe1Q,OAAS,I,oCAClE,OAAOkD,KAAKsN,e,kCAChB2C,GACJtB,GAAMjC,QAAQnB,WAAcoD,GAAMjC,QAAQjB,cAAiBkD,GAAMnD,WACjExL,KAAKsN,aAAe2C,EACpB3K,QAAQC,IAAI,cACZvF,KAAKkQ,UACL5K,QAAQC,IAAI,gB,gCAGR,OAAOvF,KAAK6C,UAAUnE,O,kCACpB,OAAOsB,KAAK6C,UAAUsN,S,+BACzB,OAAOnQ,KAAK6C,UAAUuN,M,oCACjB,OAAOpQ,KAAKwN,iB,iCACjB5Q,GAAK,OAAOoD,KAAKwN,eAAe5Q,K,+BAChC,OAAOoD,KAAK+O,M,kCACXnS,EAAGkB,GAAK,OAAOkC,KAAK+O,IAAInS,GAAGkB,K,gCAC3B,OAAOkC,KAAKsN,aAAa+C,O,iCACxB,OAAOrQ,KAAKsN,aAAagD,Q,kCACxB,OAAOtQ,KAAKsN,aAAaiD,S,wCACrB3T,GAAK,OAAOoD,KAAKwN,eAAe5Q,GAAG4T,e,4CAC7B,OAAOxQ,KAAKwN,eAAeiD,KAAI,SAAC3I,GAAD,OAAaA,EAAQ0I,kB,yCACzD5T,GAAK,OAAOoD,KAAKwN,eAAe5Q,GAAG8T,e,4CAC9B,OAAO1Q,KAAKwN,eAAeiD,KAAI,SAAC3I,GAAD,OAAaA,EAAQ4I,kB,4CACpD,OAAO1Q,KAAKsN,aAAajL,MAAM2F,Y,0CA1C7BnF,EAAWyK,GACnB,IAAIR,EAAMjK,GACxB7C,KAAK2Q,YAAYrD,K,+BAGLsD,GACZ,OAAO5Q,KAAK6Q,mBAAmBD,EAAK/N,UAAW+N,EAAKtD,kB,kBCvJ/CwD,GAAU,IAAIC,EAErBC,GAAY,IAAIC,IAGf,SAAeC,KAAtB,gC,iDAAO,sBAAA1M,EAAA,uDACH2M,KACA7L,QAAQC,IAAI,kCAAmCyL,IAE/CF,GAAQM,eAAeC,GACvBP,GAAQQ,QAAQ5M,MAAK,SAACpI,GACpBqS,GAAMC,OAAO,UAAWtS,MACvB8I,OAAM,SAACC,GACNkM,GAAOnU,KAAK,QAEhB0T,GAAQU,eAAe,CAACC,MAAM,GAAIC,OAAO,IAAIhN,MAAK,SAACiN,GAC/CC,GAAsBD,EAAOE,OAAO,GACpCC,GAAmB,MACpB1M,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MAbzB,2C,yBAgBA,SAAeyM,GAAtB,mC,iDAAO,WAAkCxP,GAAlC,SAAAkC,EAAA,8DACHmK,GAAMC,OAAO,gBAAgB,GAC7BD,GAAMC,OAAO,aAAa,GAC1BD,GAAMC,OAAO,gBAAgB,GAC7BD,GAAMC,OAAO,YAAY,GAJtB,kBAKImD,GAAYpD,GAAMjC,QAAQ3K,UAAUO,IAAQoC,MAAK,WACpDY,QAAQC,IAAI,oEACZoJ,GAAMC,OAAO,gBAAgB,GAC7BD,GAAMC,OAAO,mBAAoBtM,OARlC,2C,yBAkBA,SAAS6O,KACZ,GAAGa,aAAahB,UAAU,CACtB,IAAMiB,EAAiBC,KAAKC,MAAMH,aAAahB,WAC/CiB,EAAe3J,SAAQ,SAAC8J,GACpB,IAAM/P,EAAQ,IAAIyK,GAAMsF,EAAW,GAAGvP,UAAWuP,EAAW,GAAG9E,cAC/D0D,GAAUqB,IAAID,EAAW,GAAI/P,OAQzC,SAASuP,GAAsBD,EAAQW,GACnC,IAAM3F,EAAgBgC,GAAMjC,QAAQC,cACpCgC,GAAMC,OAAO,kBACb+C,EAAOrJ,SAAQ,SAACzF,GACZ,GAAGmO,GAAUuB,IAAI1P,EAAU+J,IACvB+B,GAAMC,OAAO,iBAAkBoC,GAAUjS,IAAI8D,EAAU+J,SACtD,CACD,IAAMvK,EAAQ,IAAIyK,GAAMjK,GACxBmO,GAAUqB,IAAIxP,EAAU+J,GAAIvK,GAC5BsM,GAAMC,OAAO,iBAAkBvM,OAGpCiQ,GACC3D,GAAMC,OAAO,sBAAuBjC,GACpCgC,GAAMC,OAAO,mBAAoB,IAEjCkD,GAAmB,GAIpB,SAAeC,GAAtB,mC,iDAAO,WAA2B1P,GAA3B,SAAAmC,EAAA,2DACAnC,EAAMmQ,cADN,yCAC4BnQ,EAAM0P,eADlC,gCAEIjB,GAAQ2B,yBAA0BpQ,EAAMqQ,SAC9ChO,MAAK,SAACuL,GACH3K,QAAQC,IAAI,yBACZlD,EAAMsO,YAAYV,GAClB3K,QAAQC,IAAI,8CACbH,OAAM,SAACC,GACNC,QAAQC,IAAIF,OARb,2C,yBAYA,SAAe/D,GAAtB,mC,iDAAO,WAAsBqR,GAAtB,SAAAnO,EAAA,uDACHsM,GAAQxP,OAAOqR,EAAO,CAAC,UAAUjO,MAAK,SAACkO,GACnChB,GAAsBgB,EAAQjB,OAAOE,OAAO,MAC7CzM,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAJb,2C,yBCnEP,QACE3G,KAAM,gBACNmU,MAAO,CACT,SACA,aAEEnS,WAAY,CACV,MAAJ,GAEEpE,KATF,WAUI,MAAJ,CACM,SAAN,IAGEwW,SAAF,CACI,kBADJ,WAEM,OAAN,oCAGEC,MAAO,CACL,SAAJ,kBACI,kBAAJ,4BAEEC,QAvBF,aAyBEC,QAAF,CACI,gBADJ,SACA,KACM,GAAN,IAEI,yBAJJ,SAIA,KACM,KAAN,cCvDuV,M,0BCOnV,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAACC,eAAA,KAAYC,cAAA,OCxB1C,ICIIC,GDJA,GAAS,WAAa,IAAIjT,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACW,YAAY,eAAe,CAACX,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACW,YAAY,SAAS,CAACX,EAAG,WAAW,CAACW,YAAY,OAAOT,MAAM,CAAC,MAAQ,iBAAiB,eAAe,IAAIe,MAAM,CAACpC,MAAOgB,EAAIkT,UAAUC,SAAa,KAAE9R,SAAS,SAAUC,GAAMtB,EAAIoT,KAAKpT,EAAIkT,UAAUC,SAAU,OAAQ7R,IAAME,WAAW,6BAA6BrB,EAAG,WAAW,CAACW,YAAY,OAAOT,MAAM,CAAC,MAAQ,kBAAkB,eAAe,IAAIe,MAAM,CAACpC,MAAOgB,EAAIkT,UAAUG,UAAc,KAAEhS,SAAS,SAAUC,GAAMtB,EAAIoT,KAAKpT,EAAIkT,UAAUG,UAAW,OAAQ/R,IAAME,WAAW,8BAA8BrB,EAAG,WAAW,CAACW,YAAY,OAAOT,MAAM,CAAC,MAAQ,cAAc,eAAe,IAAIe,MAAM,CAACpC,MAAOgB,EAAIkT,UAAUI,UAAc,KAAEjS,SAAS,SAAUC,GAAMtB,EAAIoT,KAAKpT,EAAIkT,UAAUI,UAAW,OAAQhS,IAAME,WAAW,8BAA8BrB,EAAG,WAAW,CAACW,YAAY,OAAOT,MAAM,CAAC,MAAQ,WAAW,eAAe,IAAIe,MAAM,CAACpC,MAAOgB,EAAIkT,UAAU5M,SAAa,KAAEjF,SAAS,SAAUC,GAAMtB,EAAIoT,KAAKpT,EAAIkT,UAAU5M,SAAU,OAAQhF,IAAME,WAAW,6BAA6BrB,EAAG,WAAW,CAACW,YAAY,OAAOT,MAAM,CAAC,MAAQ,oBAAoB,eAAe,IAAIe,MAAM,CAACpC,MAAOgB,EAAIkT,UAAUtE,IAAQ,KAAEvN,SAAS,SAAUC,GAAMtB,EAAIoT,KAAKpT,EAAIkT,UAAUtE,IAAK,OAAQtN,IAAME,WAAW,yBAAyB,GAAGrB,EAAG,YAAYA,EAAG,QAAQ,CAACW,YAAY,QAAQT,MAAM,CAAC,MAAQ,UAAU,IAAM,GAAG,KAAO,GAAG,MAAQ,IAAIW,GAAG,CAAC,MAAQhB,EAAIuT,OAAO,CAACpT,EAAG,SAAS,CAACH,EAAIe,GAAG,+BAA+B,IAAI,IAAI,GAAGZ,EAAG,MAAM,CAACW,YAAY,MAAME,GAAG,CAAC,MAAQhB,EAAIwT,aAAa,CAACrT,EAAG,SAAS,CAAC0C,WAAW,CAAC,CAACtE,KAAK,OAAOuE,QAAQ,SAAS9D,OAAQgB,EAAIiL,aAAczJ,WAAW,kBAAkBe,IAAI,YAAYzB,YAAY,sBAAsBT,MAAM,CAAC,GAAK,eAAiBL,EAAIiL,aAAgmBjL,EAAIyT,KAAtlBtT,EAAG,MAAM,CAACW,YAAY,gBAAgB,CAACX,EAAG,OAAO,CAACE,MAAM,CAAC,EAAIR,KAAK6T,OAAS7T,KAAKgC,QAAUhC,KAAK8T,YAAY,EAAI3T,EAAI6B,QAAUhC,KAAKkL,OAAO,IAAQ/K,EAAI4T,MAAO,EAAE,EAAI,EAAE,MAAQ,EAAE,OAAS5T,EAAI6T,aAAa,KAAO,UAAU,QAAU,MAAQ7T,EAAgB,aAAEG,EAAG,IAAIH,EAAIiC,GAAIjC,EAAY,UAAE,SAAS2H,EAAQxF,GAAO,OAAOhC,EAAG,OAAO,CAACb,IAAI6C,EAAM9B,MAAM,CAAC,EAAIL,EAAI6B,QAAQ8F,EAAQC,MAAM5H,EAAI4T,MAAM,EAAoB,GAAhBjM,EAAQ0B,QAAW,MAAQ1B,EAAQE,SAAS7H,EAAI4T,MAAM,OAAS,GAAG,KAAO5T,EAAI8T,aAAanM,EAAQ0B,UAAUrI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI+T,eAAepM,EAAQ0B,QAAS1B,UAAe,GAAG3H,EAAIyT,QAAkBzT,EAAIiL,cAAgBjL,EAAIgU,OAAOpJ,MAAMQ,UAAWjL,EAAG,MAAM,CAACW,YAAY,gBAAgBL,MAAQ,WAAaT,EAAIiU,SAAW,aAAejU,EAAI6B,QAAUb,GAAG,CAAC,MAAQhB,EAAIkU,cAAclU,EAAIiC,GAAIjC,EAAY,UAAE,SAAS2H,EAAQxF,GAAO,OAAOhC,EAAG,SAAS,CAACb,IAAI6C,EAAMS,MAAM5C,EAAImU,eAAexM,GAAW,uBAAyB,gBAAgBtH,MAAM,CAAC,GAAK,EAA+B,EAA7B6F,KAAKmB,IAAI,EAAEM,EAAQE,YAAgB7H,EAAImU,eAAexM,GAAW,EAAG,GAAG,IAAMA,EAAQ4B,UAAU,GAAG,GAAGvJ,EAAIiU,SAAS,EAAE,IAAMtM,EAAQ4B,UAAU,GAAG,GAAGvJ,EAAIiU,SAAS,EAAE,KAAOjU,EAAImU,eAAexM,GAAU,QAAS3H,EAAI8T,aAAanM,EAAQ0B,UAAUrI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIoU,eAAezM,UAAe,GAAG3H,EAAIyT,UAChiG,GAAkB,GCEXY,I,UAAW,MAElBC,IAAgB,EAEhBC,GAAe,GACfC,GAAmB,EACnBL,GAAiB,KACd,SAAeM,GAAtB,qC,iDAAO,WAAwBC,EAAUC,GAAlC,SAAAtQ,EAAA,uDACHkQ,GAAeG,EACfF,GAAmBG,EAFhB,2C,yBAKA,SAAeC,GAAtB,mC,iDAAO,WAAsBC,GAAtB,SAAAxQ,EAAA,2DACCgQ,GADD,oBAEKC,IAAkC,KAAjBC,GAFtB,uBAGKO,GAAKD,GAHV,kBAIY5B,GAAU2B,SAASrQ,MAAK,WAC3BiK,GAAMC,OAAO,cAAc,MAC5BxJ,OAAM,SAACC,GAAUC,QAAQC,IAAIF,OANrC,gCAQYyL,GAAQoE,KAAK,CAAEC,UAAWX,GAAUY,KAAM,CAACV,IAAeW,YAAaL,GAAYL,KAAoBjQ,MAAK,WAC/G+P,IAAgB,EACEC,GAClBA,GAAe,GACfC,GAAmB,EACnBhG,GAAMC,OAAO,cAAc,MAC5BxJ,OAAM,SAACC,GAAUC,QAAQC,IAAIF,OAdrC,2C,yBAmBA,SAAeiQ,KAAtB,gC,iDAAO,sBAAA9Q,EAAA,2DACCgQ,KAAYC,GADb,yCAEQrB,GAAUkC,QAAQ5Q,MAAK,WAC1BiK,GAAMC,OAAO,cAAc,MAC5BxJ,OAAM,SAACC,GAAUC,QAAQC,IAAIF,OAJjC,2C,yBAQA,SAAe4P,GAAtB,mC,iDAAO,WAAoBM,GAApB,SAAA/Q,EAAA,2DACCgQ,KAAYC,GADb,yCAEQrB,GAAU6B,KAAKM,GAAMnQ,OAAM,SAACC,GAAUC,QAAQC,IAAIF,OAF1D,2C,yBAMA,SAAemQ,GAAtB,mC,iDAAO,WAA2B1N,GAA3B,SAAAtD,EAAA,uDACHc,QAAQC,IAAI,kBAAmBuC,GAC/BiN,GAAuB,IAAhBjN,EAAQC,OAAcrD,MAAK,WAC9B4P,GAAiBxM,EACjBjD,OAAO2K,YAAW,WACX8E,KAAmBxM,GAClBwN,OAEc,IAAnBxN,EAAQE,aARZ,2C,yBAYA,SAAeyN,KAAtB,gC,iDAAO,sBAAAjR,EAAA,gFACI,IAAIkR,SAAQ,SAACC,EAASC,GACzB,IAAIC,EAAU,IAAI5Q,KACd6Q,EAAOC,aAAY,WACF,OAAbvB,IACAlP,QAAQC,IAAI,iBAAkB,IAAIN,KAAS4Q,EAAS,MACpDG,cAAcF,GACdH,KACO,IAAI1Q,KAAS4Q,EAAU,MAC9BvQ,QAAQC,IAAI,iBAAkB,IAAIN,KAAS4Q,EAAS,MACpDG,cAAcF,GACdF,OAEL,QAbJ,2C,yBAiBA,SAASK,GAAUpU,GAClBuR,IACAA,GAAU6C,UAAUpU,G,SAIbqU,K,iFAAf,sBAAA1R,EAAA,8DACIc,QAAQC,IAAI,WADhB,kBAEW,IAAImQ,SAAQ,SAAAC,GACX9Q,OAAOsR,QACPR,EAAQ9Q,OAAOsR,SAEftR,OAAOuR,6BAA+B,WAClCT,EAAQ9Q,OAAOsR,cAP/B,2C,yBAcO,SAAejF,GAAtB,qC,iDAAO,WAA0BlN,EAAOqS,GAAjC,SAAA7R,EAAA,uEACG0R,KADH,OAEH9C,GAAY,IAAIvO,OAAOsR,QAAQG,OAAO,CAClC5X,KAAM,6BACN6X,cAAe,SAAAC,GAAQA,EAAGxS,IAC1BnC,OAAQ,KAIZuR,GAAUqD,YAAY,wBAAwB,YAAiB,IAAdpM,EAAc,EAAdA,QAAgB/E,QAAQoR,MAAMrM,MAC/E+I,GAAUqD,YAAY,wBAAwB,YAAiB,IAAdpM,EAAc,EAAdA,QAAgB/E,QAAQoR,MAAMrM,MAC/E+I,GAAUqD,YAAY,iBAAiB,YAAiB,IAAdpM,EAAc,EAAdA,QAAgB/E,QAAQoR,MAAMrM,MACxE+I,GAAUqD,YAAY,kBAAkB,YAAiB,IAAdpM,EAAc,EAAdA,QAAgB/E,QAAQoR,MAAMrM,MAEzE+I,GAAUqD,YAAY,wBAAwB,YAIxC,IAHFzB,EAGE,EAHFA,SACAhN,EAEE,EAFFA,SACgB2O,EACd,EADFC,aAAgBD,cAEhBN,EAAqB,CAAEM,gBAAe3B,WAAUhN,gBAIpDoL,GAAUqD,YAAY,SAAS,YAAmB,IAAhBtB,EAAgB,EAAhBA,UAC9BX,GAAWW,EACX7P,QAAQC,IAAI,uBAAwB4P,MAIxC/B,GAAUqD,YAAY,aAAa,YAAmB,IAAhBtB,EAAgB,EAAhBA,UAClC7P,QAAQC,IAAI,6BAA8B4P,MAI9C/B,GAAUyD,UAAUnS,MAAK,WACrBY,QAAQC,IAAI,+BACbH,OAAM,SAACC,GACNC,QAAQC,IAAI,wBArCb,4C,yBC9FA,IAAMuR,GAAenR,wBAAqBK,OAAO,CAAC,EAAE,IAAI+Q,aAAapR,0BAC/DqR,GAAaF,GACbG,GAAiBtR,wBAAqBK,OAAO,CAAC,EAAE,IAAI+Q,aAAapR,wBACjEuR,GAAcvR,wBAAqBK,OAAO,EAAE,EAAE,IAAI+Q,aAAapR,0BAC/DwR,GAAexR,wBAAqBK,OAAO,CAAC,EAAG,KAAK+Q,aAAapR,0BACjEyR,GAAYzR,uBAAoBK,OAAO,EAAE,EAAG,EAAG,IAAI+Q,aAAapR,uBAEtE,SAAS0R,GAAehV,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GAChE,IAAM3D,EAAQwD,EAAMlV,EAAM0P,cAAc1P,MAAM2F,SAC9C3F,EAAMoL,cAAcnF,SAAQ,SAACR,GACzB,IAAI,IAAIlL,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAM+J,EAAE2Q,EAAKxP,EAAQC,MAAMgM,EACrB4D,EAAcF,EAAO,GAAG,EACxB7Q,EAAE4Q,GAAS,GAAG5a,IAAI+a,EAAc,GAChCC,EAAa9P,EAAQE,SAAS+L,EACpC2D,EAAIG,UAAYb,GAAWlP,EAAQA,QAAQpB,QAAQ9J,IACnD8a,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,OAKtC,SAASI,GAAsB1V,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GACvE,IAAM3D,EAAQwD,EAAMlV,EAAM0P,cAAc1P,MAAM2F,SAC9C3F,EAAMoL,cAAcnF,SAAQ,SAACR,EAASkQ,GAClC,IAAMrR,EAAE2Q,EAAKxP,EAAQC,MAAMgM,EACrB4D,EAAcF,EAAO,EAAE,EACzB7Q,EAAE4Q,EAAQ,GAAGG,EAAc,GACzBC,EAAa9P,EAAQE,SAAS+L,EACpC2D,EAAIG,UAAYb,GAAkC,EAAvBlP,EAAQa,eAAiB,IACpD+O,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,GACjC/Q,EAAE4Q,EAAQ,GAAGG,EAAc,GAC3BD,EAAIG,UAAYb,GAAW,EAAElP,EAAQY,gBACrCgP,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,GACjC/Q,EAAE4Q,EAAQ,GAAGG,EAAc,GAC3BD,EAAIG,UAAY/P,EAAQE,SAAW,IAAOgP,GAAW,GAAKA,GAAWlP,EAAQiB,aAC7E2O,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,MAiBlC,SAASM,GAAgB5V,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GACjE,IAAM3D,EAAQwD,EAAMlV,EAAM0P,cAAc1P,MAAM2F,SAC9C3F,EAAMoL,cAAcnF,SAAQ,SAACR,EAASkQ,GAClC,IAAI,IAAIpb,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAM+J,EAAE2Q,EAAKxP,EAAQC,MAAMgM,EACrB4D,EAAcF,EAAO,GAAG,EACxB7Q,EAAE4Q,GAAS,GAAG5a,IAAI+a,EAAc,GAChCC,EAAa9P,EAAQE,SAAS+L,EACpC2D,EAAIG,UAAYT,GAAU/U,EAAM6V,mBAAmBF,GAAcpb,IACjE8a,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,OAKtC,SAASQ,GAAgB9V,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GACjE,IAAM3D,EAAQwD,EAAMlV,EAAM0P,cAAc1P,MAAM2F,SAC9C3F,EAAM+V,UAAU9P,SAAQ,SAAC+P,GACrB,IAAM1R,EAAE2Q,EAAKe,EAAItQ,MAAMgM,EACjBnN,EAAE4Q,EACRE,EAAIG,UAAYZ,GAAe,GAAIoB,EAAIC,YACvCZ,EAAII,SAASnR,EAAGC,EAAG,EAAG6Q,EAAO,MAEjCpV,EAAMkW,WAAWjQ,SAAQ,SAACkQ,GACtB,IAAM7R,EAAE2Q,EAAKkB,EAAKzQ,MAAMgM,EAClBnN,EAAE4Q,EAAQC,EAAO,EACvBC,EAAIG,UAAYZ,GAAe,GAAIuB,EAAKF,YACxCZ,EAAII,SAASnR,EAAGC,EAAG,EAAG6Q,EAAO,MAEjCpV,EAAMoW,YAAYnQ,SAAQ,SAACoQ,GACvB,IAAM/R,EAAE2Q,EAAKoB,EAAM3Q,MAAMgM,EACnBnN,EAAE4Q,EAAUC,EAAO,EAAE,EAC3BC,EAAIG,UAAYZ,GAAe,GAAIyB,EAAMJ,YACzCZ,EAAII,SAASnR,EAAGC,EAAG,EAAG6Q,EAAO,MAI9B,SAASkB,GAAetW,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GAChE,IAAM3D,EAAQwD,EAAMlV,EAAM0P,cAAc1P,MAAM2F,SAC9C3F,EAAMoL,cAAcnF,SAAQ,SAACR,GACrB,IAAMnB,EAAE2Q,EAAKxP,EAAQC,MAAMgM,EACrB4D,EAAcF,EACd7Q,EAAE4Q,EACFI,EAAa9P,EAAQE,SAAS+L,EACpC2D,EAAIG,UAAYrP,GAA2BV,EAAQpB,SACnDgR,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,MAMtC,SAASiB,GAAUvW,EAAOiV,EAAMC,EAAOC,EAASC,EAAQC,GAC3DpS,QAAQC,IAAI,oBACZ,IAAMwO,EAAQ0D,EAAOpV,EAAM0P,cAAc1P,MAAM2F,SAC/C1C,QAAQC,IAAIkS,GAEZ,IADA,IAAMoB,EAAOxW,EAAMoL,cAAc3Q,OACzBF,EAAI,EAAGA,EAAIic,EAAMjc,IACrB,IAAI,IAAIkB,EAAIlB,EAAGkB,EAAI+a,EAAM/a,IAAI,CACzB,IAAMgb,EAAWzW,EAAM0W,WAAWnc,GAC5Boc,EAAW3W,EAAM0W,WAAWjb,GAE5ByK,EAAQlG,EAAM4W,SAASrc,GAAGkB,EAAElB,GAAG,GAErC8a,EAAIG,UAAYZ,GAAe5Q,KAAK6S,IAAI3Q,EAAM,IAE9C,IAAM5B,EAAE2Q,EAAKwB,EAAS/Q,MAAMgM,EACtB6D,EAAakB,EAAS9Q,SAAS+L,EAE/BnN,EAAE4Q,EAAQwB,EAASjR,MAAMgM,EACzB4D,EAAcqB,EAAShR,SAAS+L,EACtC,IAAI4D,EAEA,YADArS,QAAQC,IAAIyT,GAGhBtB,EAAII,SAASnR,EAAGC,EAAGgR,EAAcD,GAEjC,IAAMvO,EAAS/G,EAAM4W,SAASrc,GAAGkB,EAAElB,GAAG,GAGtC8a,EAAIG,UAAYZ,GAAe5Q,KAAK6S,IAAI9P,EAAO,IAC/CsO,EAAII,SAASlR,EAAE0Q,EAAKE,EAAS7Q,EAAE2Q,EAAKE,EAASG,EAAeC,ICtCxE,kDACA,IACE/E,MAAO,CAAC,WACRvW,KAFF,WAGI,MAAO,CACL6c,OAAQ,KACRzB,IAAK,KACL0B,MAAO,EACPC,YAAaxU,OAAOyU,WACpBC,kBAAmB,KACnBC,MAAO,EACP3F,QAAQ,EACR4F,OAAQ,EACRC,gBAAiB,EACjBC,cAAc,EACdtG,UAAW,CACTC,SAAU,CAAlB,gCACQsG,gBAAiB,CACfC,MAAM,EACNpC,OAAQ,GACRqC,SAAU,IAEZtG,UAAW,CAAnB,gCACQzE,IAAK,CAAb,6DACQtI,SAAU,CAAlB,+BACQgN,UAAW,CAAnB,kCAIEX,SAAU,CACRzQ,MADJ,WAEM,OAAOrC,KAAKmU,OAAOzH,QAAQC,eAE7BsD,SAJJ,WAKM,OAAOjQ,KAAKqC,MAAM0P,eAEpBxE,SAPJ,WAQM,OAAOvN,KAAKqC,MAAMoL,eAEpBsG,MAVJ,WAWM,OAAO/T,KAAKuX,MAAQvX,KAAKiQ,SAAS5N,MAAM2F,UAE1CuP,MAbJ,WAcM,OACN,6DAGIzD,YAlBJ,WAmBM,OAAO9T,KAAKqZ,YAA6B,EAAfrZ,KAAKgC,SAEjCoS,SArBJ,WAsBM,OAAOpU,KAAK8T,YAAc,GAE5BE,aAxBJ,WA0BM,IADA,IAAN,IACA,gGACQyD,GAAU,EAAlB,qCAEM,OAAOA,GAETrM,aA/BJ,WAgCM,OAAOpL,KAAKmU,OAAOpJ,MAAMK,cAE3BpD,SAlCJ,WAmCM,OAAO3B,KAAK0T,MAAgD,IAA1C/Z,KAAKqC,MAAM0P,cAAc1P,MAAM2F,WAEnDkD,OArCJ,WAsCM,OAAOlL,KAAKmU,OAAOpJ,MAAMG,SAG7B6H,MAAO,CACL3H,aAAc,sBACdF,OAAQ,gBACR8I,aAAc,sBACdX,UAAW,CACT2G,MAAM,EACNC,QAFN,SAEA,mCAGEjH,QA9EF,WA8EA,WACInO,OAAOqV,iBAAiB,UAAU,WAChC,EAAN,8BACM,EAAN,qDAEIla,KAAKma,YAAYC,SAASC,eAAe,eAE3CpH,QAAS,CACPU,WADJ,SACA,GACM,GAAN,6DACQ,IAAR,WACA,8CACA,GAEA,kBACQ3T,KAAKmU,OAAOvF,OAAO,YAAa0L,GAChC,GAAR,KAGI5S,SAZJ,SAYA,GACM,OAAO,GAAb,IAEI6S,gBAfJ,SAeA,GACM,OAAO,GAAb,IAEIC,iBAlBJ,SAkBA,GACM,OAAO,GAAb,IAEIC,kBArBJ,SAqBA,GACM,OAAO,GAAb,IAEIxG,aAxBJ,SAwBA,GACM,OAAOyG,GAAelR,IAExBmR,oBA3BJ,SA2BA,KACA,kBACQ3a,KAAKqT,UAAUtE,IAAI8K,MAAO,EAE1B7Z,KAAK6Z,KAAK,IAIdM,YAnCJ,SAmCA,GACM,GAAKhB,EAAL,CAIA7T,QAAQC,IAAI,wBACZvF,KAAKmZ,OAASA,EACdnZ,KAAK0X,IAAMyB,EAAOyB,WAAW,MAGnC,0BAGM5a,KAAKmZ,OAAO5B,MAAQvX,KAAKqZ,YAAcwB,iBACvC7a,KAAKmZ,OAAO1B,OAASzX,KAAKgU,aAAe6G,iBAGzC7a,KAAK0X,IAAI3D,MAAM8G,iBAAkBA,kBAGjC7a,KAAKmZ,OAAOvY,MAAM2W,MAAQvX,KAAKqZ,YAAc,KAC7CrZ,KAAKmZ,OAAOvY,MAAM6W,OAASzX,KAAKgU,aAAe,KAE/ChU,KAAK0X,IAAIoD,6BAA8B,EACvC9a,KAAK0X,IAAIqD,0BAA2B,EACpC/a,KAAK0X,IAAIsD,uBAAwB,OAvB/B1V,QAAQC,IAAI,qBA2BhBsU,KAhEJ,SAgEA,GACM7Z,KAAK0X,IAAIuD,UAAU,EAAG,EAAGjb,KAAKmZ,OAAO5B,MAAOvX,KAAKmZ,OAAO1B,QAIxD,IAFA,IAAN,IAEA,gGACY,EAAZ,OACU,EAAV,SACA,WACA,eACA,WACA,EACA,SACA,UAEU7Q,GAAK5G,KAAK0Z,gBAAkB,EAAtC,UAIIhG,KAnFJ,WAoFMpO,QAAQC,IAAI,WAEZvF,KAAK6T,QAAU7T,KAAK6T,OACpB7T,KAAKkb,UAEPA,OAzFJ,WA0FM,IAAN,EACA,wDACA,qBACMlb,KAAK6Z,KAAK7Z,KAAK6T,OAASsH,EAAUC,EAAiB,IAErDC,cA/FJ,SA+FA,KACUrb,KAAK6T,QACP7T,KAAKkb,UAGTI,UApGJ,WAqGMtb,KAAK0X,IAAI6D,OACTvb,KAAK0X,IAAI8D,UAAuB,GAAbxb,KAAKuX,MAAiC,GAApBvX,KAAKgU,cAC1ChU,KAAK0X,IAAI3D,MAAM,EAAG,GAClB/T,KAAK0X,IAAI+D,UACf,YACA,eACA,uBAEMzb,KAAK0X,IAAIgE,WAEXxH,eA/GJ,SA+GA,KACM5O,QAAQC,IAAI,kBAAmBoW,GAC/B,IACN,gCAEA,GADA,4BACA,GACM,GAAN,GACM3b,KAAKmU,OAAOvF,OAAO,YAAmC,IAAtBgN,EAAc7T,QAEhDwM,eAxHJ,SAwHA,GACM,GAAN,GACMvU,KAAKmU,OAAOvF,OAAO,YAA6B,IAAhB9G,EAAQC,QAE1CsM,YA5HJ,SA4HA,GACM,IAAN,8BACA,8BACA,sCACMrU,KAAKuU,eAAezM,IAEtBwM,eAlIJ,SAkIA,GACM,OACN,6BACA,0BACA,wCAGIuH,oBAzIJ,SAyIA,KACMvW,QAAQC,IAAI,wBAIduW,iBA9IJ,WA+IM9b,KAAKma,YAAYna,KAAKmZ,QACtBnZ,KAAK6Z,KAAK,MCtUuU,M,6ECQnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACnW,OAAA,KAAKqY,SAAA,KAAMC,WAAA,KAAQC,QAAA,KAAKC,WAAA,KAAQC,WAAA,OC7B9D,IAAI,GAAS,WAAa,IAAIhc,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,UAAU,CAACX,EAAG,MAAM,CAACW,YAAY,8BAA8B,CAAEd,EAAIgU,OAAOpJ,MAAiB,YAAEzK,EAAG,MAAM,CAACA,EAAG,UAAU,CAACiC,YAAYpC,EAAIqC,GAAG,CAAC,CAAC/C,IAAI,UAAUgD,GAAG,SAASC,GAC5R,IAAI0W,EAAQ1W,EAAI0W,MAChB,MAAO,CAAC9Y,EAAG,QAAQ,CAACE,MAAM,CAAC,UAAY4Y,EAAQ,EAAI,EAAE,SAAW,GAAG,IAAM,IAAIjY,GAAG,CAAC,MAAQhB,EAAIic,YAAY,CAAC9b,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACL,EAAIe,GAAG,OAAOf,EAAIqD,GAAGrD,EAAImL,QAAU,QAAU,YAAY,OAAO,MAAK,EAAM,eAAe,GAAGnL,EAAIyT,KAAOzT,EAAIgU,OAAOpJ,MAAMM,YAA8FlL,EAAIyT,KAArFtT,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,MAAM,CAAC,cAAgB,GAAG,KAAO,SAAS,KAAgBL,EAAIgU,OAAOpJ,MAAMK,aAAktBjL,EAAIyT,KAAxsBtT,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,MAAM,CAACW,YAAY,WAAWT,MAAM,CAAC,OAASL,EAAIkc,eAAelb,GAAG,CAAC,MAAQhB,EAAImc,aAAa,CAACnc,EAAIiC,GAAIjC,EAAIkC,MAAMoL,eAAe,SAAS3F,EAAQxF,GAAO,OAAOhC,EAAG,OAAO,CAACb,IAAI6C,EAAMrB,YAAY,gBAAgBT,MAAM,CAAC,MAAQsH,EAAQE,SAAS7H,EAAI4T,MAAM,OAAU5T,EAAIuH,SAASI,EAAQI,cAAe/H,EAAIkc,cAAc,EAAIlc,EAAI6B,QAAQ8F,EAAQC,MAAM5H,EAAI4T,MAAM,EAAI5T,EAAIkc,cAAclc,EAAIuH,SAASI,EAAQI,cAAc/H,EAAIkc,cAAc,KAAOvU,EAAQC,MAAMD,EAAQE,SAAS,EAAI7H,EAAIgU,OAAOpJ,MAAMG,OAAO,IAAO,OAAS/K,EAAIoc,gBAAejc,EAAG,OAAO,CAACE,MAAM,CAAC,EAAIL,EAAI6B,QAAU7B,EAAI+K,OAAO,IAAQ/K,EAAI4T,MAAO,EAAE,EAAI,EAAE,MAAQ,EAAE,OAAS5T,EAAIkc,cAAc,KAAO,cAAc,KAAelc,EAAIgU,OAAOpJ,MAAkB,aAAEzK,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACE,MAAM,CAAC,cAAgB,GAAG,MAAQ,cAAc,GAAGL,EAAIyT,QACjtC,GAAkB,GCmDtB,IACE,OAAF,UACE,MAAF,CACA,WAEE,KALF,WAMI,MAAJ,CACM,cAAN,GACM,YAAN,kBACM,MAAN,EACM,QAAN,IAGE,aAbF,WAaI,IAAJ,OACI,GAAJ,eAAM,OAAN,qBACI,KAAJ,iBACM,EAAN,oCAGE,QAnBF,aAsBE,SAAF,CACI,MADJ,WAEM,OAAN,mCAEI,UAJJ,WAKM,OAAN,mCAEI,MAPJ,WAQM,OAAN,iCACA,EAEA,6CAEI,MAbJ,WAcM,OAAN,iCAEI,SAhBJ,WAiBM,OAAN,iCACA,EAEA,kDAEI,QAtBJ,WAuBM,OAAN,6BAEI,OAzBJ,WA0BM,OAAN,6BAGE,MAAF,CACI,MAAJ,gBAEE,QAAF,CACI,WADJ,SACA,GACM,IAAN,4DACA,kBACM,KAAN,6BACM,GAAN,cAEI,aAPJ,SAOA,KAAM,IAAN,OACM,KAAN,yBACQ,GAAR,oBACQ,EAAR,iCAGI,OAbJ,WAaM,IAAN,OACA,cACQ,GAAR,8BACU,EAAV,+BACU,EAAV,iCAAY,OAAZ,4BAII,MArBJ,WAsBA,eACQ,KACA,KAAR,+BACQ,cAAR,iBAGI,UA5BJ,WA6BM,KAAN,oCAEI,MA/BJ,WA+BM,IAAN,OAAM,OAAN,sCAAQ,OAAR,kEACA,YADA,kBAEA,sBACA,+BACA,0BACA,oCACA,6CANA,8CAQI,kBAvCJ,WAwCM,GAAN,gBAGI,YA3CJ,SA2CA,GACM,IAAN,WACA,IACA,oBACQ,EAAR,qBAEM,KAAN,eACM,KAAN,YACM,KAAN,wBAEI,SArDJ,SAqDA,GACM,OAAN,OAEI,aAxDJ,SAwDA,GACM,GAAN,cACA,gBADQ,IACR,wBACQ,KAAR,6BAGA,6BACU,KAAV,SAEA,yCACU,KAAV,cAOE,WAAF,ICrLgV,M,mDCQ5U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAAClQ,OAAA,KAAK8Y,UAAA,KAAOT,SAAA,KAAMU,qBAAA,KAAkBC,mBAAA,OCwBlE,QACEhe,KAAM,OACNpC,KAFF,WAGI,MAAO,CACLoF,YAAa,GACbG,OAAQ,IACR8a,WAAY,IACZ3a,QAAS,KAGb8Q,SAAU,CACR9H,KADJ,WAEM,OAAOhL,KAAKmU,OAAOzH,QAAQ1B,MAE7BjJ,UAJJ,WAKM,OAAO/B,KAAKmU,OAAOzH,QAAQ3K,WAE7BkJ,cAPJ,WAQM,OAAOjL,KAAKmU,OAAOzH,QAAQzB,eAE7B0B,cAVJ,WAWM,OAAO3M,KAAKmU,OAAOzH,QAAQC,eAE7BzB,OAbJ,WAcM,OAAOlL,KAAKmU,OAAOzH,QAAQxB,SAG/B6H,MAAO,CACL9H,cADJ,SACA,OAGI0B,cAJJ,SAIA,KACMrH,QAAQC,IAAI,WAAlB,mCAEI1D,OAPJ,SAOA,KACM,GAAN,2BAGEnB,WAAY,CACVkc,cAAJ,GACIC,cAAJ,GACIvG,OAAJ,IAEEwG,aA3CF,WA4CI,MAEF7J,QAAS,CACP3R,OADJ,WAEM,GAAN,mBAEIyb,qBAJJ,WAKMzX,QAAQC,IAAI,iBAAkBvF,KAAK+B,UAAU/B,KAAKmC,UAAUzD,MAC5DsB,KAAKgd,gBAAgBhd,KAAKmC,WAE5B6a,gBARJ,SAQA,GACM,IAAN,uBACWhd,KAAKid,cAAc1K,IAAI2K,KAC1Bld,KAAKmd,eAAgB,EACrB7X,QAAQC,IAAI,yBAA0BvF,KAAK+B,UAAUO,GAAO5D,QAGhEkD,cAfJ,SAeA,GACM,OAAIC,EAAS,GAAY,kBACrBA,EAAS,GAAY,oBACrBA,EAAS,EAAU,iBAChB,kBAETC,YArBJ,WAsBU9B,KAAK6B,OAAS,GAChB7B,KAAK2c,WAAa3c,KAAK6B,OACvB7B,KAAK6B,OAAS,GAEd7B,KAAK6B,OAAS7B,KAAK2c,cC5HmT,M,6ECQ1U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACS,WAAA,KAAQ1Z,OAAA,KAAK2Z,cAAA,KAAWtB,SAAA,KAAMuB,WAAA,KAAQpB,WAAA,KAAQqB,cAAA,KAAWC,cAAAC,GAAA,OC/BvF,IAAI,GAAS,WAAa,IAAItd,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,cAClH,GAAkB,GCOtB,I,UAAA,CACEvC,KAAM,WACNgC,WAAY,GAEZoc,aAJF,WAIA,WACA,8CACA,gBACI,EAAJ,oBACM,EAAN,4BChBkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI3c,EAAIH,KAASI,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACW,YAAY,SAAS,CAACX,EAAG,cAAc,CAACE,MAAM,CAAC,cAAc,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,eAAe,KAAK,CAACF,EAAG,SAAS,CAACW,YAAY,wBAAwB,CAACX,EAAG,eAAe,CAACW,YAAY,kBAAkB,CAACd,EAAIe,GAAG,gCAAgCZ,EAAG,kBAAkB,CAACW,YAAY,eAAe,CAACd,EAAIe,GAAG,6DAA6DZ,EAAG,cAAc,CAACW,YAAY,eAAe,CAACd,EAAIe,GAAG,yFAAyFZ,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACW,YAAY,UAAUT,MAAM,CAAC,MAAQ,WAAWW,GAAG,CAAC,MAAQhB,EAAIud,mBAAmB,CAACvd,EAAIe,GAAG,0BAA0B,IAAI,IAAI,IAAI,IAAI,IACzwB,GAAkB,GCsBtB,IACExC,KAAM,QACNgC,WAAY,GAEZuS,QAAS,CACP,iBADJ,WAEM,OAAN,2EC7B+U,MCQ3U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACvP,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAa+Z,cAAA,OAAc9Z,UAAA,OAAU+Z,WAAA,OAAWP,cAAA,KAAWrB,WAAA,OCvBpGrR,OAAIC,IAAIiT,QAER,IAAMC,GAAS,CACb,CACEC,KAAM,IACNrf,KAAM,QACNqC,UAAWid,IAEb,CACED,KAAM,QACNrf,KAAM,OACNqC,UAAWkd,GACXC,YAJF,SAIcC,EAAIC,EAAMC,GAChBhN,IACFgN,IAEAA,EAAK,OAIX,CACEN,KAAM,YACNrf,KAAM,WACNqC,UAAWud,KAKT/M,GAAS,IAAIsM,OAAU,CAC3Bxe,KAAM,UACNkf,KAAMrO,IACN4N,YAGavM,M,aCvCf5G,OAAIC,IAAI4T,SAEO,WAAIA,QAAQ,CACvBC,MAAO,CACHC,MAAM,EACNC,OAAO,CAGHC,MAAO,CACHC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRrI,MAAO,UACPsI,KAAM,UACNC,QAAS,UACTC,QAAS,WAEbR,KAAM,CACFG,QAAS,UACTI,QAAS,eChBzBtU,OAAIwU,OAAOC,eAAgB,EAE3B,IAAIzU,OAAI,CACN4G,UACA8N,WACA1Q,SACA2Q,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S,2DCbV,yBAA6c,EAAG,G,sFCAhd,yBAA4c,EAAG,G,oCCA/c,yBAAod,EAAG,G,2DCAvd,yBAA2c,EAAG,G,kCCA9c,yBAA4c,EAAG,G","file":"js/app.096078b7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\",\"dark\":true}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"app\" :dark=\"true\">\n      <router-view/>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n  components: {\n  },\n\n  data: () => ({\n    //\n  }),\n   mounted: function() {\n    let elHtml = document.getElementsByTagName('html')[0]\n    elHtml.style.overflowY = 'auto'\n  },\n  destroyed: function() {\n    let elHtml = document.getElementsByTagName('html')[0]\n    elHtml.style.overflowY = null\n  },\n};\n</script>\n\n<style>\n:not(input):not(textarea),\n:not(input):not(textarea)::after,\n:not(input):not(textarea)::before {\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: default;\n}\ninput, button, textarea, :focus {\n    outline: none;\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6ab487fa&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('v-app-bar',{attrs:{\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Music Structure Visualizer\")]),_c('v-spacer'),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"append-icon\":\"mdi-magnify\",\"single-line\":\"\",\"rounded\":\"\",\"dense\":\"\",\"filled\":\"\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('div',{staticClass:\"volumeSlider\"},[_c('v-container',[_c('v-slider',{attrs:{\"prepend-icon\":_vm.getVolumeIcon(_vm.volume),\"min\":0,\"max\":1,\"step\":0.02},on:{\"click:prepend\":_vm.clickVolume},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1)],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-heart\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)],1),_c('TrackSelector',{attrs:{\"tracks\":_vm.trackList,\"album-size\":120}}),_c('Player',{attrs:{\"padding\":_vm.padding}}),_c('Visualization',{attrs:{\"padding\":_vm.padding}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-slide-group',{staticClass:\"pt-2\",attrs:{\"center-active\":\"\",\"mandatory\":\"\"},nativeOn:{\"scroll\":function($event){return _vm.onScroll($event)}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.tracks),function(track,index){return _c('v-slide-item',{key:index,staticClass:\"mx-2 my-1\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('Album',{attrs:{\"album\":track.trackData,\"imgSize\":active ? _vm.albumSize*1.5 : _vm.albumSize,\"active\":active},on:{\"clicked\":toggle}})]}}],null,true)})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{class:_vm.active ? 'elevation-3' : 'elevation-0',style:(_vm.cardStyle)},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"track\",on:{\"click\":_vm.clicked}},[_c('v-img',{attrs:{\"height\":_vm.imgSize,\"width\":_vm.imgSize,\"src\":_vm.album.album.images[_vm.imgIndex].url}}),_c('v-card-text',{staticClass:\"pl-2 py-0 pt-1 ml-0 my-0\"},[_c('div',{staticClass:\"text-subtitle-2 text--primary text-truncate \"},[_vm._v(_vm._s(_vm.album.name))])])],1),_c('v-card-actions',{staticClass:\"pl-0 py-0 ml-0 my-0\"},[_c('v-btn',{staticClass:\"artistButton\",attrs:{\"text\":\"\",\"color\":\"grey\",\"small\":\"\"}},[_c('span',{staticClass:\"artistButtonText text-caption text-truncate\",style:({'max-width': this.imgSize-12 + 'px'})},[_vm._v(\" \"+_vm._s(_vm.album.artists[0].name)+\" \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <v-card :style=\"cardStyle\" :class=\"active ? 'elevation-3' : 'elevation-0'\" >\r\n            <div class=\"track\" v-ripple @click=\"clicked\">\r\n                <v-img\r\n                    :height=\"imgSize\"\r\n                    :width=\"imgSize\"\r\n                    :src=\"album.album.images[imgIndex].url\"\r\n                ></v-img>\r\n                <v-card-text class=\"pl-2 py-0 pt-1 ml-0 my-0\">\r\n                    <div class=\"text-subtitle-2 text--primary text-truncate \" >{{ album.name }}</div>  \r\n                </v-card-text>\r\n            </div>\r\n            <v-card-actions class=\"pl-0 py-0 ml-0 my-0\">\r\n                <v-btn\r\n                class=\"artistButton\"\r\n                text\r\n                color=\"grey\"\r\n                small\r\n                >\r\n                <span\r\n                class=\"artistButtonText text-caption text-truncate\"\r\n                :style=\"{'max-width': this.imgSize-12 + 'px'}\"\r\n                >\r\n                    {{album.artists[0].name }}\r\n                    </span>\r\n                </v-btn>\r\n            </v-card-actions>\r\n        </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: [\r\n        'album',\r\n        'imgSize',\r\n        'active'\r\n    ],\r\n    data () {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    mounted () {\r\n    },\r\n    computed: {\r\n        imgIndex () {\r\n            if(this.size <= this.album.album.images[2].height) return 2;\r\n            if(this.size <= this.album.album.images[1].height) return 1;\r\n            return 0\r\n        },\r\n        cardStyle () {\r\n            return {\r\n                'width': this.imgSize + \"px\",\r\n                'height': this.imgSize + 55 + \"px\",\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        clicked () {\r\n            this.$emit('clicked');\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.track:hover{\r\n    cursor:grabbing;\r\n}\r\n.artistButton {\r\n    text-transform: none!important;\r\n}\r\n.artistButtonText {\r\n    margin-left: -3px;\r\n    margin-right: 0px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=7df08a77&\"\nimport script from \"./Album.vue?vue&type=script&lang=js&\"\nexport * from \"./Album.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VImg})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","import axios from 'axios';\r\n\r\nconst port = process.env.SERVER_PORT || 5000;\r\nconst url = ( process.env.VUE_APP_HOST_URL || \"http://localhost\" + \":\" + port ) + \"/api\";\r\nconst api = axios.create({\r\n    baseURL: url,\r\n    withCredentials: false,\r\n});\r\n\r\nexport let token;\r\nlet tokenTimestamp;\r\nlet expiresIn;\r\nlet refreshToken;\r\n\r\nexport async function requestFirstToken(code){\r\n    await api.post('spotify/token', {\r\n        code: code\r\n    }).then((res) => {\r\n        token = res.data.access_token;\r\n        window.sessionStorage.setItem('token', token);\r\n        expiresIn = res.data.expires_in;\r\n        window.sessionStorage.setItem('tokenTimestamp', new Date().getTime().toString());\r\n        refreshToken = res.data.expires_in;\r\n        window.sessionStorage.setItem('refreshToken', refreshToken);\r\n    }).catch((err) => { \r\n        console.log(err);\r\n    })\r\n}\r\n\r\nexport async function requestRefreshToken(){\r\n    await api.post('spotify/token', {\r\n        refresh_token: refreshToken\r\n    }).then((res) => {\r\n        token = res.data.access_token;\r\n        window.sessionStorage.setItem('token', token);\r\n        expiresIn = res.data.expires_in;\r\n        window.sessionStorage.setItem('tokenTimestamp', new Date().getTime().toString());\r\n        refreshToken = res.data.expires_in;\r\n        window.sessionStorage.setItem('refreshToken', refreshToken);\r\n    }).catch((err) => { \r\n        console.log(err);\r\n    })\r\n}\r\n\r\nexport function isAuthorized(){\r\n    if(token === undefined){\r\n        const t = window.sessionStorage.getItem('token');\r\n        const e = window.sessionStorage.getItem('tokenTimestamp');\r\n        const r = window.sessionStorage.getItem('refreshToken');\r\n        if(t){\r\n            token = t;\r\n            // TODO: check if token is expired, if so renew\r\n            return true;\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    return true;\r\n}","import { compileToFunctions } from 'vue-template-compiler';\r\n\r\nconst d3 = require('d3');\r\nexport const circleOfFifths = [0,7,2,9,4,11,6,1,8,3,10,5] // Starting from C=0\r\nexport const noteNames = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];\r\n\r\n//https://www.vectorstock.com/royalty-free-vector/color-wheel-spectrum-scheme-selection-color-vector-25483441\r\nexport const noteColor = d3.scaleLinear().domain([0, 1/12, 2/12, 2.8/12, 3.8/12, 4.3/12, 5.3/12, 6.8/12, 8/12, 8.8/12, 9.3/12, 10.5/12, 1]).interpolate(d3.interpolateHcl).range([\r\n    d3.rgb(\"#FE0000\"), d3.rgb('#FF7300'), d3.rgb('#FFAA01'), d3.rgb('#FFD300'), d3.rgb('#FFFF01'), \r\n    d3.rgb('#9FEE00'), d3.rgb('#01CC00'), d3.rgb('#009899'), d3.rgb('#1241AB'), \r\n    d3.rgb('#3914B1'), d3.rgb('#7209AC'), d3.rgb('#CD0174'),d3.rgb(\"#FE0000\")]);\r\n\r\nexport function getNoteName(i){\r\n    return noteNames[i];\r\n}\r\n\r\nvar DEGREES_PER_RADIAN = 180 / Math.PI;\r\nvar RADIANS_PER_DEGREE = Math.PI / 180;\r\nvar TWO_PI = 2 * Math.PI;\r\nvar OFFSET = 3*Math.PI/2;// full cycle is 2pi\r\n\r\nexport function tonality(pitches){\r\n    let x = 0;\r\n    let y = 0;\r\n    let energy = 0;\r\n    for(let i = 0; i < 12; i++){\r\n        const angle = -circleOfFifths[i] / 12.0 * TWO_PI + OFFSET;\r\n        const radius = pitches[i]; // Between 0 and 1\r\n        energy += radius/12;\r\n        x += radius * Math.cos(angle);\r\n        y += radius * Math.sin(angle)\r\n    }\r\n\r\n    const angle = (Math.atan2(x, y)+Math.PI)/TWO_PI;\r\n    const radius = Math.sqrt(x*x+y*y)\r\n    return [angle, radius, energy];\r\n}\r\n\r\nexport function tonalVectorColor(pitches){\r\n    const [angle, radius, energy] = tonality(pitches);\r\n\r\n    //const color = d3.color(d3.interpolateSinebow((angle+OFFSET)%1.0));\r\n    const color = d3.hsl(noteColor(angle));\r\n    const saturation = Math.min(radius*3/(energy*12),1); // 3 because chord usually minimally 3 tones\r\n    color.s = saturation;\r\n    return color.hex();\r\n}\r\n\r\nexport function loudness(db){\r\n    const l = Math.max(0,60+db)/60;\r\n    return l*l;\r\n}\r\n\r\n\r\nexport function logCompression(value, gamma=1){\r\n    return Math.log(1 + gamma * value);\r\n}\r\n","import * as audioUtil from \"./audioUtil\";\r\n\r\nexport default class Segment {\r\n    segment = null;\r\n    start = 0;\r\n    duration = 0;\r\n    loudness_start = 0;\r\n    loudness_max_time = 0;\r\n    loudness_max = 0;\r\n    loudness_end = 0;\r\n\r\n    pitches = [];\r\n    timbres = [];\r\n\r\n    cluster = -1;\r\n    tsneCoord = [0, 0];\r\n\r\n    tonalityAngle = 0; // [0,1] Angle of vector on circle of fifths \r\n    tonalityRadius = 0; // [0,1] Radius of vector on circle of fifths, low value means very dissonant or atonal\r\n    tonalityEnergy = 0; // [0,1] Total energy of all the pitches, high energy means lots of notes played at the same time\r\n\r\n    percussiony = 0; // [0,1] segments larger than .15\r\n\r\n\r\n    constructor(segment) {\r\n        this.segment = segment;\r\n        this.start = segment.start;\r\n        this.duration = segment.duration;\r\n        this.loudness_start = segment.loudness_start;\r\n        this.loudness_max = segment.loudness_max;\r\n        this.loudness_max_time = segment.loudness_max_time;\r\n        this.loudness_end = segment.loudness_end;\r\n    }\r\n\r\n    processPitch(GAMMA) {\r\n        this.segment.pitches.forEach((pitch, i) => {\r\n            this.pitches.push(pitch);//audioUtil.logCompression(pitch, GAMMA));\r\n        });\r\n        [this.tonalityAngle, this.tonalityRadius, this.tonalityEnergy] = audioUtil.tonality(this.pitches);\r\n\r\n        const minDuration = .2;\r\n        const decay = .5;\r\n        const shortness = this.duration < minDuration ? 1 : (decay - (this.duration - .15));\r\n        this.percussiony = Math.min(1, (1 - this.tonalityRadius) * this.tonalityEnergy * 2) * shortness;\r\n    }\r\n\r\n    processPitchSmooth(prevSegment, nextSegment) {\r\n        for (let p = 0; p < this.pitches.length; p++) {\r\n            this.pitches[p] = (1 - this.percussiony) * this.pitches[p] + this.percussiony * (prevSegment.pitches[p] + nextSegment.pitches[p]) / 2;\r\n        }\r\n    }\r\n\r\n    processTimbre(min, max, biggest, totalBiggest) {\r\n        this.segment.timbre.forEach((timbre, i) => {\r\n            this.timbres.push(timbre / totalBiggest);\r\n        });\r\n    }\r\n\r\n    getPitches() { return this.pitches }\r\n    getTimbres() { return this.timbres }\r\n    getDuration() { return this.duration_ms }\r\n    getStart() { return this.start }\r\n    getOriginalTimbres() { return this.segment.timbre }\r\n    getFeatures() { return this.pitches.concat(this.timbres) }\r\n    setCluster(i) { this.cluster = i }\r\n    setTSNECoord(coord) { this.tsneCoord = coord }\r\n    getTonalEnergy() { return this.tonalityEnergy }\r\n    getTonalAngle() { return this.tonalityAngle }\r\n    getLoudnessFeatures() {\r\n        return [\r\n            audioUtil.loudness(this.loudness_start),\r\n            audioUtil.loudness(this.loudness_max),\r\n            this.loudness_max_time,\r\n            audioUtil.loudness(this.loudness_end)\r\n        ]\r\n    }\r\n}","export const measures = {\r\n    EUCLIDIAN: 'euclidian',\r\n    MANHATTAN: 'manhattan',\r\n    COSINE: 'cosine',\r\n}\r\n\r\nexport function cosine(a, b){\r\n    var adotv = 0\r\n    var amag = 0\r\n    var bmag = 0\r\n    for(var i = 0; i < a.length; i++) {\r\n      adotv += a[i] * b[i]\r\n      amag += a[i]*a[i]\r\n      bmag += b[i]*b[i]\r\n    }\r\n    amag = Math.sqrt(amag)\r\n    bmag = Math.sqrt(bmag)\r\n    return adotv/(amag*bmag);\r\n}\r\n\r\n\r\nexport function manhattanDistance(a, b){\r\n    let dist = 0;\r\n    for(let i = 0; i < a.length; i++){\r\n        dist += Math.abs(a[i] - b[i]);\r\n    }\r\n    return dist\r\n}\r\n// Manhattan distance scaled back to [0,1]\r\nexport function manhattan(a, b, range){\r\n    return 1-this.manhattanDistance(a,b)/range;\r\n}\r\n\r\n\r\nexport function euclidianDistance(a, b){\r\n    return Math.sqrt(squaredDistance(a, b));\r\n}\r\nexport function maxEuclidianDistance(length, range){\r\n    return Math.sqrt(range*range*length);\r\n}\r\nexport function euclidian(a, b, maxDist){\r\n    return 1-euclidianDistance(a,b)/maxDist;\r\n}\r\n\r\nexport function squaredDistance(a, b){\r\n    let dist = 0;\r\n    for(let i = 0; i < a.length; i++){\r\n        const diff = (a[i] - b[i]);\r\n        dist += diff*diff;\r\n    }\r\n    return dist;\r\n}","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/tsneWorker.2a61cec0.worker.js\");\n}\n","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./tsneWorker'\r\n\r\nlet worker = new Worker();\r\nlet promiseWorker = new PWBHost(worker)\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\n\r\nexport default {\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/ssmWorker.5c188314.worker.js\");\n}\n","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./ssmWorker'\r\n\r\nlet worker = new Worker();\r\nlet promiseWorker = new PWBHost(worker)\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\n\r\nexport default {\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/clusterWorker.82c7eacd.worker.js\");\n}\n","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./clusterWorker'\r\n\r\nlet worker = new Worker();\r\nlet promiseWorker = new PWBHost(worker)\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\n\r\nexport default {\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Track from '../app/Track'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: Object,\n    trackList: [],\n    selectedIndex: -1,\n    seeker: 0,\n    playerState: null,\n    loadingTrack: true,\n    playerReady: false,\n    playing: false,\n    // For every worker we need a global ready variable\n    tsneReady: false,\n    ssmReady: false,\n    clusterReady: false,\n\n  },\n  mutations: {\n    setSeeker(state, time_ms){\n      state.seeker = time_ms;\n    },\n    setUser(state, user){\n      console.log(\"setting user to\", user);\n      state.user = user;\n    },\n    setPlayerState(state, playerState){\n      state.playerState = playerState;\n    },\n    loadingTrack(state, loadingTrack){\n      state.loadingTrack = loadingTrack;\n    },\n    playerReady(state, playerReady){\n      state.playerReady = playerReady\n    },\n    addToTrackList(state, track){\n      state.trackList.push(track);\n    },\n    addToTrackListIndex(state, index, track){\n      state.trackList.splice(index, 0, track);\n    },\n    addToTrackListFront(state, track){\n      state.trackList.unshift(track);\n    },\n    clearTrackList(state){\n      state.trackList = [];\n    },\n    setSelectedIndex(state, index){\n      state.selectedIndex = index;\n    },\n    setPlaying(state, playing){\n      state.playing = playing;\n    },\n    incrementSeeker(state, increment){\n      state.seeker += increment;\n    },\n    tsneReady(state, ready){\n      state.tsneReady = ready;\n    },\n    clusterReady(state, ready){\n      state.clusterReady = ready;\n    },\n    ssmReady(state, ready){\n      state.ssmReady = ready;\n    }\n  },\n  actions: {\n\n  },\n  getters: {\n    seeker(state){\n      return state.seeker;\n    },\n    selectedIndex(state){\n      return state.selectedIndex;\n    },\n    selectedTrack(state){\n      return state.trackList[state.selectedIndex];\n    },\n    user(state) {\n      return state.user;\n    },\n    track(state, id) {\n      return state.trackList[id];\n    },\n    trackList(state){\n      return state.trackList;\n    },\n    playerState(state){\n      return state.playerState;\n    },\n    playing(state){\n      return state.playing;\n    },\n    tsneReady(state){\n      return state.tsneReady;\n    },\n    clusterReady(state){\n      return state.clusterReady;\n    },\n    ssmReady(state){\n      return state.ssmReady;\n    }\n  },\n  modules: {\n  }\n})\n","import Segment from \"./Segment\"\r\nimport * as sim from \"./similarity\"\r\nimport * as clustering from \"./clustering\"\r\nimport * as skmeans from \"skmeans\";\r\nimport tsneWorker from './workers/tsneWorker'\r\nimport ssmWorker from './workers/ssmWorker'\r\nimport clusterWorker from './workers/clusterWorker'\r\n\r\nimport store from \"../store\";\r\n\r\nconst GAMMA = 1.7;\r\nconst CLUSTERAMOUNT = 10;\r\n\r\nexport default class Track {\r\n    trackData = null;\r\n    analysisData = null;\r\n    segmentObjects = [];\r\n    ssm = null;\r\n    timbreMax = new Array(12).fill(0);\r\n    timbreMin = new Array(12).fill(0);\r\n    timbreBiggest = new Array(12).fill(0);\r\n    timbreTotalBiggest = 0;\r\n\r\n    pitchFeatures = [];\r\n    timbreFeatures = [];\r\n    loudnessFeatures = [];\r\n    tonalEnergyFeatures = [];\r\n    tonalRadiusFeatures = [];\r\n    tonalAngleFeatures = [];\r\n    features = []\r\n\r\n    clusters = new Array(CLUSTERAMOUNT).fill([])\r\n\r\n    process() {\r\n        this.createSegmentObjects(); // create extended objects holding more info\r\n        this.calculateMaxMin(); // calculate scaling coeficcients\r\n        this.preprocesSegments(); // use max min to scale\r\n        this.tsne();\r\n        this.cluster();\r\n        this.calculateSSM();\r\n    }\r\n\r\n    createSegmentObjects() {\r\n        console.log(\"Creating segmentObjects\")\r\n        this.analysisData.segments.forEach((segment) => {\r\n            this.segmentObjects.push(new Segment(segment));\r\n        })\r\n        console.log(\"Created segmentObjects\")\r\n    }\r\n\r\n    calculateMaxMin() {\r\n        this.getSegments().forEach((segment, index) => {\r\n            for (let i = 0; i < 12; i++) {\r\n                this.timbreMax[i] = Math.max(this.timbreMax[i], segment.getOriginalTimbres()[i]);\r\n                this.timbreMin[i] = Math.min(this.timbreMin[i], segment.getOriginalTimbres()[i]);\r\n            }\r\n        });\r\n        for (let i = 0; i < 12; i++) {\r\n            this.timbreBiggest[i] = Math.max(Math.abs(this.timbreMax[i]), Math.abs(this.timbreMin[i]));\r\n            this.timbreTotalBiggest = Math.max(this.timbreTotalBiggest, this.timbreBiggest[i]);\r\n        }\r\n    }\r\n\r\n    preprocesSegments() {\r\n        this.segmentObjects.forEach((s, i) => {\r\n            s.processPitch(GAMMA);\r\n            s.processTimbre(this.timbreMin, this.timbreMax, this.timbreBiggest, this.timbreTotalBiggest);\r\n            this.pitchFeatures.push(s.pitches);\r\n            this.timbreFeatures.push(s.timbres);\r\n            this.tonalEnergyFeatures.push(s.tonalityEnergy);\r\n            this.tonalRadiusFeatures.push(s.tonalityRadius);\r\n            this.tonalAngleFeatures.push(s.tonalityAngle);\r\n            this.loudnessFeatures.push(s.getLoudnessFeatures())\r\n        });\r\n        for (let i = 0; i < this.segmentObjects.length; i++) {\r\n            if (i > 0 && i < this.segmentObjects.length - 1) {\r\n                this.segmentObjects[i].processPitchSmooth(this.segmentObjects[i - 1], this.segmentObjects[i + 1])\r\n            }\r\n            this.features.push([...this.timbreFeatures[i], this.tonalEnergyFeatures[i], this.tonalRadiusFeatures[i], ...this.loudnessFeatures[i]]);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Self similarity matrix, takes a few seconds so async is needed\r\n     */\r\n    calculateSSM() {\r\n        console.log(\"starting SSMWorker\")\r\n        store.commit('ssmReady', false);\r\n        ssmWorker.terminate();\r\n        const self = this;\r\n        ssmWorker.send({ segmentObjects: this.segmentObjects}).then((result) => {\r\n            self.ssm = result;\r\n            store.commit('ssmReady', true);\r\n            console.log(\"ssm Done\")\r\n            console.log(self.ssm);\r\n        })\r\n\r\n    }\r\n\r\n    cluster() {\r\n        console.log(\"starting Clusterworker\");\r\n        clusterWorker.terminate();\r\n        clusterWorker.send({ features: this.features, minK: 2, maxK: 10, tries: 4 }).then((result) => {\r\n            this.updateClusters(result);\r\n            console.log(\"clustering done\")\r\n        })\r\n    }\r\n    updateClusters(clusterIndexes){\r\n        store.commit('clusterReady', false);\r\n        clusterIndexes.forEach((cluster, index) => {\r\n            this.segmentObjects[index].setCluster(cluster);\r\n            this.clusters[cluster].push(this.segmentObjects[index]);\r\n        })\r\n        window.setTimeout(store.commit('clusterReady', true), 1);\r\n    }\r\n\r\n    tsne() {\r\n        console.log(\"starting tsneWorker\");\r\n        tsneWorker.terminate();\r\n        tsneWorker.send({ features: this.features }).then((result) => {\r\n            this.updateTSNECoords(result);\r\n        })\r\n\r\n        tsneWorker.receive((result) => {\r\n            this.updateTSNECoords(result);\r\n        });\r\n    }\r\n    //updateAmountPer100ms = 100;\r\n    updateTSNECoords(coords) {\r\n        store.commit('tsneReady', false);\r\n        for (let i = 0; i < this.segmentObjects.length; i++) {\r\n            this.segmentObjects[i].setTSNECoord(coords[i]);\r\n        }\r\n        window.setTimeout(store.commit('tsneReady', true), 1);\r\n    }\r\n\r\n    getClosestSegment(coord) {\r\n        let minDist = Infinity;\r\n        let closestSegment = null;\r\n        this.segmentObjects.forEach((segment) => {\r\n            const dist = sim.euclidianDistance(coord, segment.tsneCoord);\r\n            if (dist < minDist) {\r\n                minDist = dist;\r\n                closestSegment = segment;\r\n            }\r\n        })\r\n        return closestSegment;\r\n    }\r\n\r\n    constructor(trackData) {\r\n        this.trackData = trackData;\r\n    }\r\n    static createWithAnalysis(trackData, analysisData) {\r\n        const track = new Track(trackData)\r\n        this.setAnalysis(analysisData);\r\n    }\r\n\r\n    static fromJSON(json) {\r\n        return this.createWithAnalysis(json.trackData, json.analysisData);\r\n    }\r\n\r\n    // Works with JSON.stringify!\r\n    toJSON() {\r\n        return {\r\n            trackData: this.trackData,\r\n            analysisData: this.analysisData,\r\n        }\r\n    }\r\n\r\n    getId() { return this.trackData.id }\r\n    hasAnalysis() { return this.analysisData !== null && this.segmentObjects.length > 0 }\r\n    getAnalysis() { return this.analysisData; }\r\n    setAnalysis(analysis) {\r\n        if(!store.getters.tsneReady && !store.getters.clusterReady && !store.ssmReady){\r\n            this.analysisData = analysis;\r\n            console.log(\"processing\");\r\n            this.process();\r\n            console.log(\"processed\");\r\n        }\r\n    }\r\n    getName() { return this.trackData.name }\r\n    getArtist() { return this.trackData.artist }\r\n    getUri() { return this.trackData.uri }\r\n    getSegments() { return this.segmentObjects }\r\n    getSegment(i) { return this.segmentObjects[i] }\r\n    getSSM() { return this.ssm }\r\n    getSSMValue(i, j) { return this.ssm[i][j] }\r\n    getBars() { return this.analysisData.bars }\r\n    getBeats() { return this.analysisData.beats }\r\n    getTatums() { return this.analysisData.tatums }\r\n    getProcessedPitch(i) { return this.segmentObjects[i].getPitches() }\r\n    getProcessedPitches() { return this.segmentObjects.map((segment) => segment.getPitches()) }\r\n    getProcessedTimbre(i) { return this.segmentObjects[i].getTimbres() }\r\n    getProcessedTimbres() { return this.segmentObjects.map((segment) => segment.getTimbres()) }\r\n    getAnalysisDuration() { return this.analysisData.track.duration }\r\n\r\n\r\n}","import * as SpotifyWebApi from 'spotify-web-api-js';\r\nimport * as auth from './authentication'; \r\nimport Track from './Track'\r\nimport vue from \"../views/Home\"\r\nimport store from './../store'; // path to your Vuex store\r\nimport router from '../router'\r\nimport { select } from 'd3';\r\n\r\nexport const spotify = new SpotifyWebApi();\r\n\r\nconst allTracks = new Map(); \r\n\r\n// Initialize spotify access, load tracks from local storage, get user data\r\nexport async function initialize(){\r\n    loadAllTracks();\r\n    console.log(\"Got tracks from local storage: \", allTracks);\r\n\r\n    spotify.setAccessToken(auth.token);\r\n    spotify.getMe().then((data)=>{\r\n      store.commit('setUser', data);\r\n    }).catch((err)=>{\r\n        router.push('/');\r\n    });\r\n    spotify.getMyTopTracks({limit:50, offset:0}).then((tracks)=>{\r\n        loadTracksFromSpotify(tracks.items, false)\r\n        selectTrackAtIndex(0);\r\n    }).catch((err)=>console.log(err));\r\n}\r\n\r\nexport async function selectTrackAtIndex(index){\r\n    store.commit('loadingTrack', true);\r\n    store.commit('tsneReady', false);\r\n    store.commit('clusterReady', false);\r\n    store.commit('ssmReady', false);\r\n    return getAnalysis(store.getters.trackList[index]).then(()=>{\r\n        console.log(\"Getting analysis and everything done, now setting selected index\");\r\n        store.commit('loadingTrack', false);\r\n        store.commit('setSelectedIndex', index);\r\n    })\r\n}\r\n\r\n// Save tracks to local storage\r\nexport function saveAllTracks(){\r\n    localStorage.allTracks = JSON.stringify(Array.from(allTracks.entries()));\r\n}\r\n\r\n// Save tracks to local storage\r\nexport function loadAllTracks(){\r\n    if(localStorage.allTracks){\r\n        const allTracksArray = JSON.parse(localStorage.allTracks);\r\n        allTracksArray.forEach((trackArray) => {\r\n            const track = new Track(trackArray[1].trackData, trackArray[1].analysisData)\r\n            allTracks.set(trackArray[0], track);\r\n        })\r\n    }\r\n}\r\n\r\n/**\r\n * Load tracks from spotify api result\r\n */ \r\nfunction loadTracksFromSpotify(tracks, keepCurrentTrack){\r\n    const selectedTrack = store.getters.selectedTrack;\r\n    store.commit('clearTrackList');\r\n    tracks.forEach((trackData) => {\r\n        if(allTracks.has(trackData.id)){\r\n            store.commit('addToTrackList', allTracks.get(trackData.id));\r\n        }else{\r\n            const track = new Track(trackData);\r\n            allTracks.set(trackData.id, track);\r\n            store.commit('addToTrackList', track);\r\n        }\r\n    });\r\n    if(keepCurrentTrack){\r\n        store.commit('addToTrackListFront', selectedTrack);\r\n        store.commit('setSelectedIndex', 0);\r\n    }else{\r\n        selectTrackAtIndex(0);\r\n    }\r\n}\r\n\r\nexport async function getAnalysis(track){\r\n    if(track.hasAnalysis()) return track.getAnalysis();\r\n    return spotify.getAudioAnalysisForTrack( track.getId())\r\n    .then((analysis)=>{\r\n        console.log(\"Got analysis from api\");\r\n        track.setAnalysis(analysis);\r\n        console.log(\"Track has done everything with analysis\")\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nexport async function search(query){\r\n    spotify.search(query, [\"track\"]).then((results) => {\r\n        loadTracksFromSpotify(results.tracks.items, true)\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n}","<template>\r\n    <div>\r\n        <v-slide-group\r\n            v-model=\"selected\"\r\n            center-active\r\n            class=\"pt-2\"\r\n            v-on:scroll.native=\"onScroll\"\r\n            mandatory\r\n        >\r\n            <v-slide-item\r\n                v-for=\"(track, index) in tracks\"\r\n                :key=\"index\"\r\n                v-slot:default=\"{ active, toggle }\"\r\n                class=\"mx-2 my-1\"\r\n            >\r\n                <Album :album=\"track.trackData\" :imgSize=\"active ? albumSize*1.5 : albumSize\" :active=\"active\" @clicked=\"toggle\"/>\r\n            </v-slide-item>\r\n        </v-slide-group>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Album from \"../components/Album\"\r\nimport * as app from \"../app/app\"\r\n\r\nexport default {\r\n  name: 'TrackSelector',\r\n  props: [\r\n      'tracks',\r\n      'albumSize'\r\n  ],\r\n  components: {\r\n      Album\r\n  },\r\n  data(){\r\n      return {\r\n          selected: 0,\r\n      }\r\n  },\r\n  computed:{\r\n      selectedFromStore(){\r\n          return this.$store.getters.selectedIndex;\r\n      }\r\n  },\r\n  watch: {\r\n      selected: 'selectedChanged',\r\n      selectedFromStore: 'selectedFromStoreChanged'\r\n  },\r\n  mounted () {\r\n  },\r\n  methods:{\r\n        selectedChanged(newIndex, oldIndex){\r\n            app.selectTrackAtIndex(newIndex);\r\n        },\r\n        selectedFromStoreChanged(newIndex, oldIndex){\r\n            this.selected = newIndex;\r\n        }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackSelector.vue?vue&type=template&id=55b03592&\"\nimport script from \"./TrackSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlideGroup } from 'vuetify/lib/components/VSlideGroup';\nimport { VSlideItem } from 'vuetify/lib/components/VSlideGroup';\ninstallComponents(component, {VSlideGroup,VSlideItem})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex pa-2\"},[_c('v-row',[_c('v-layout',{staticClass:\"ml-10\"},[_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Raw Pitch Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawPitch.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawPitch, \"draw\", $$v)},expression:\"canvasVis.rawPitch.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Raw Timbre Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawTimbre.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawTimbre, \"draw\", $$v)},expression:\"canvasVis.rawTimbre.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Rhythm Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawRhythm.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawRhythm, \"draw\", $$v)},expression:\"canvasVis.rawRhythm.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Tonality\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.tonality.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.tonality, \"draw\", $$v)},expression:\"canvasVis.tonality.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Similarity Matrix\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.ssm.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.ssm, \"draw\", $$v)},expression:\"canvasVis.ssm.draw\"}})],1),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-10\",attrs:{\"color\":\"primary\",\"fab\":\"\",\"dark\":\"\",\"small\":\"\"},on:{\"click\":_vm.zoom}},[_c('v-icon',[_vm._v(\"mdi-magnify-plus-outline\")])],1)],1)],1),_c('div',{staticClass:\"vis\",on:{\"click\":_vm.clickedVis}},[_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loadingTrack),expression:\"!loadingTrack\"}],ref:\"visCanvas\",staticClass:\"visCanvas pa-0 ma-0\",attrs:{\"id\":\"visCanvas\"}}),(!_vm.loadingTrack)?_c('svg',{staticClass:\"svgContainer\"},[_c('rect',{attrs:{\"x\":this.zoomed ? this.padding + this.canvasWidth/2 : _vm.padding+((this.seeker/1000.0)*_vm.scale)-1,\"y\":0,\"width\":2,\"height\":_vm.canvasHeight,\"fill\":\"#ffffff\",\"opacity\":0.5}}),(_vm.drawClusters)?_c('g',_vm._l((_vm.segments),function(segment,index){return _c('rect',{key:index,attrs:{\"x\":_vm.padding+segment.start*_vm.scale,\"y\":segment.cluster*10,\"width\":segment.duration*_vm.scale,\"height\":10,\"fill\":_vm.clusterColor(segment.cluster)},on:{\"click\":function($event){return _vm.clickedCluster(segment.cluster, segment)}}})}),0):_vm._e()]):_vm._e(),(!_vm.loadingTrack && _vm.$store.state.tsneReady)?_c('svg',{staticClass:\"tsneContainer\",style:((\"height: \" + _vm.tsneSize + \"px; left: \" + _vm.padding)),on:{\"click\":_vm.clickedTSNE}},_vm._l((_vm.segments),function(segment,index){return _c('circle',{key:index,class:_vm.playingSegment(segment) ? 'segmentCirclePlaying' : 'segmentCircle',attrs:{\"r\":(2+Math.min(2,segment.duration)*5) * (_vm.playingSegment(segment) ? 3: 1),\"cx\":(segment.tsneCoord[0]+1)*_vm.tsneSize/2,\"cy\":(segment.tsneCoord[1]+1)*_vm.tsneSize/2,\"fill\":_vm.playingSegment(segment)? 'white': _vm.clusterColor(segment.cluster)},on:{\"click\":function($event){return _vm.clickedSegment(segment)}}})}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { spotify } from '../app/app';\r\nimport store from \"../store\";\r\n\r\nexport let deviceId = null;\r\nlet playerRef;\r\nlet trackIsLoaded = false;\r\nlet currentTrackURI = \"\";\r\nlet nextTrackURI = \"\";\r\nlet nexStartPosition = 0;\r\nlet playingSegment = null;\r\nexport async function setTrack(trackUri, startPosition) {\r\n    nextTrackURI = trackUri;\r\n    nexStartPosition = startPosition;\r\n}\r\n\r\nexport async function resume(position) {\r\n    if (deviceId) {\r\n        if (trackIsLoaded && nextTrackURI === \"\") {\r\n            seek(position);\r\n            return playerRef.resume().then(() => {\r\n                store.commit('setPlaying', true)\r\n            }).catch((err) => { console.log(err) });\r\n        } else { // Start new track\r\n            return spotify.play({ device_id: deviceId, uris: [nextTrackURI], position_ms: position || nexStartPosition }).then(() => {\r\n                trackIsLoaded = true;\r\n                currentTrackURI = nextTrackURI;\r\n                nextTrackURI = \"\";\r\n                nexStartPosition = 0;\r\n                store.commit('setPlaying', true)\r\n            }).catch((err) => { console.log(err) });\r\n        }\r\n    }\r\n}\r\n\r\nexport async function pause() {\r\n    if (deviceId && trackIsLoaded) {\r\n        return playerRef.pause().then(() => {\r\n            store.commit('setPlaying', false)\r\n        }).catch((err) => { console.log(err) });\r\n    }\r\n}\r\n\r\nexport async function seek(time) {\r\n    if (deviceId && trackIsLoaded) {\r\n        return playerRef.seek(time).catch((err) => { console.log(err) })\r\n    }\r\n}\r\n\r\nexport async function playSegment(segment) {\r\n    console.log(\"playing segment\", segment)\r\n    resume(segment.start * 1000).then(() => {\r\n        playingSegment = segment;\r\n        window.setTimeout(() => {\r\n            if(playingSegment === segment){\r\n                pause();\r\n            }\r\n        }, segment.duration * 1000)\r\n    });\r\n}\r\n\r\nexport async function deviceIdSet() {\r\n    return new Promise((resolve, reject) => {\r\n        let timeWas = new Date();\r\n        let wait = setInterval(function () {\r\n            if (deviceId !== null) {\r\n                console.log(\"resolved after\", new Date() - timeWas, \"ms\");\r\n                clearInterval(wait);\r\n                resolve();\r\n            } else if (new Date() - timeWas > 10000) { // Timeout\r\n                console.log(\"rejected after\", new Date() - timeWas, \"ms\");\r\n                clearInterval(wait);\r\n                reject();\r\n            }\r\n        }, 20);\r\n    });\r\n}\r\n\r\nexport function setVolume(volume) {\r\n    if (playerRef) {\r\n        playerRef.setVolume(volume);\r\n    }\r\n}\r\n\r\nasync function waitForSpotifyWebPlaybackSDKToLoad() {\r\n    console.log(\"waiting\");\r\n    return new Promise(resolve => {\r\n        if (window.Spotify) {\r\n            resolve(window.Spotify);\r\n        } else {\r\n            window.onSpotifyWebPlaybackSDKReady = () => {\r\n                resolve(window.Spotify);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\nexport async function initialize(token, stateChangedCallback) {\r\n    await waitForSpotifyWebPlaybackSDKToLoad();\r\n    playerRef = new window.Spotify.Player({\r\n        name: 'Music Structure Visualizer',\r\n        getOAuthToken: cb => { cb(token); },\r\n        volume: 0.5,\r\n    });\r\n\r\n    // Error handling\r\n    playerRef.addListener('initialization_error', ({ message }) => { console.error(message); });\r\n    playerRef.addListener('authentication_error', ({ message }) => { console.error(message); });\r\n    playerRef.addListener('account_error', ({ message }) => { console.error(message); });\r\n    playerRef.addListener('playback_error', ({ message }) => { console.error(message); });\r\n    // Playback status updates\r\n    playerRef.addListener('player_state_changed', ({\r\n        position,\r\n        duration,\r\n        track_window: { current_track }\r\n    }) => {\r\n        stateChangedCallback({ current_track, position, duration });\r\n    });\r\n\r\n    // Ready\r\n    playerRef.addListener('ready', ({ device_id }) => {\r\n        deviceId = device_id;\r\n        console.log('Ready with Device ID', device_id);\r\n    });\r\n\r\n    // Not Ready\r\n    playerRef.addListener('not_ready', ({ device_id }) => {\r\n        console.log('Device ID has gone offline', device_id);\r\n    });\r\n\r\n    // Connect to the player!\r\n    playerRef.connect().then(() => {\r\n        console.log(\"Connected succesfully!!!\");\r\n    }).catch((err) => {\r\n        console.log(\"Could not connect\");\r\n    })\r\n}\r\n","import * as d3 from 'd3';\r\nimport * as audioUtil from './audioUtil'\r\n\r\nexport const zeroOneColor = d3.scaleSequential().domain([0,1]).interpolator(d3.interpolateViridis);\r\nexport const pitchColor = zeroOneColor;\r\nexport const greyScaleColor = d3.scaleSequential().domain([1,0]).interpolator(d3.interpolateGreys);\r\nexport const timbreColor = d3.scaleSequential().domain([-1,1]).interpolator(d3.interpolateViridis);\r\nexport const rainbowColor = d3.scaleSequential().domain([0, 11]).interpolator(d3.interpolateRainbow);\r\nexport const diverging = d3.scaleDiverging().domain([-1, 0, 1]).interpolator(d3.interpolateRdBu);\r\n\r\nexport function renderRawPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = pitchColor(segment.segment.pitches[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\n\r\nexport function renderPercussionPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment, segmentIndex)=>{\r\n        const x=left+segment.start*scale;\r\n        const segmentHeight=height/3-2;\r\n        let y=yOffset+0*(segmentHeight+2);\r\n        const segmentWidth=segment.duration*scale; \r\n        ctx.fillStyle = pitchColor(segment.tonalityEnergy*2-.5);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        y=yOffset+1*(segmentHeight+2);\r\n        ctx.fillStyle = pitchColor(1-segment.tonalityRadius);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        y=yOffset+2*(segmentHeight+2);\r\n        ctx.fillStyle = segment.duration > 0.15 ? pitchColor(0) : pitchColor(segment.percussiony);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n    })\r\n}\r\n\r\nexport function renderProcessedPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = pitchColor(segment.pitches[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\nexport function renderRawTimbre(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment, segmentIndex)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = diverging(track.getProcessedTimbre(segmentIndex)[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\n\r\nexport function renderRawRhythm(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getBars().forEach((bar)=>{\r\n        const x=left+bar.start*scale;\r\n        const y=yOffset;\r\n        ctx.fillStyle = greyScaleColor(0.3+bar.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n    track.getBeats().forEach((beat)=>{\r\n        const x=left+beat.start*scale;\r\n        const y=yOffset+height/3;\r\n        ctx.fillStyle = greyScaleColor(0.3+beat.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n    track.getTatums().forEach((tatum)=>{\r\n        const x=left+tatum.start*scale;\r\n        const y=yOffset + height/3*2;\r\n        ctx.fillStyle = greyScaleColor(0.3+tatum.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n}\r\n\r\nexport function renderTonality(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height;\r\n            const y=yOffset;\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = audioUtil.tonalVectorColor(segment.pitches);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n    })\r\n}\r\n\r\n\r\n\r\nexport function renderSSM(track, left, width, yOffset, height, ctx){\r\n    console.log(\"Rendering ssm...\")\r\n    const scale = height/track.getAnalysis().track.duration;\r\n    console.log(height);\r\n    const size = track.getSegments().length;\r\n    for(let i = 0; i < size; i++){\r\n        for(let j = i; j < size; j++){\r\n            const segmentA = track.getSegment(i)\r\n            const segmentB = track.getSegment(j)\r\n\r\n            const pitch = track.getSSM()[i][j-i][0];\r\n\r\n            ctx.fillStyle = greyScaleColor(Math.pow(pitch,4));\r\n\r\n            const x=left+segmentA.start*scale;\r\n            const segmentWidth=segmentA.duration*scale; \r\n\r\n            const y=yOffset+segmentB.start*scale;\r\n            const segmentHeight=segmentB.duration*scale;\r\n            if(!segmentHeight){\r\n                console.log(segmentB);\r\n                return;\r\n            }\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n\r\n            const timbre = track.getSSM()[i][j-i][1];\r\n            //console.log(pitch, timbre);\r\n\r\n            ctx.fillStyle = greyScaleColor(Math.pow(timbre,5));\r\n            ctx.fillRect(y+left-yOffset, x-left+yOffset, segmentHeight, segmentWidth);\r\n        }\r\n    }\r\n}","<template>\r\n  <div>\r\n    <div class=\"d-flex pa-2\">\r\n      <v-row>\r\n        <v-layout class=\"ml-10\">\r\n          <v-switch\r\n            v-model=\"canvasVis.rawPitch.draw\"\r\n            label=\"Raw Pitch Data\"\r\n            class=\"mx-5\"\r\n            hide-details\r\n          ></v-switch>\r\n          <v-switch\r\n            v-model=\"canvasVis.rawTimbre.draw\"\r\n            label=\"Raw Timbre Data\"\r\n            class=\"mx-5\"\r\n            hide-details\r\n          ></v-switch>\r\n          <v-switch\r\n            v-model=\"canvasVis.rawRhythm.draw\"\r\n            label=\"Rhythm Data\"\r\n            class=\"mx-5\"\r\n            hide-details\r\n          ></v-switch>\r\n          <v-switch\r\n            v-model=\"canvasVis.tonality.draw\"\r\n            label=\"Tonality\"\r\n            class=\"mx-5\"\r\n            hide-details\r\n          ></v-switch>\r\n          <v-switch\r\n            v-model=\"canvasVis.ssm.draw\"\r\n            label=\"Similarity Matrix\"\r\n            class=\"mx-5\"\r\n            hide-details\r\n          ></v-switch>\r\n        </v-layout>\r\n        <v-spacer />\r\n        <v-btn color=\"primary\" fab dark small class=\"mr-10\" @click=\"zoom\">\r\n          <v-icon>mdi-magnify-plus-outline</v-icon>\r\n        </v-btn>\r\n      </v-row>\r\n    </div>\r\n    <div class=\"vis\" @click=\"clickedVis\">\r\n      <canvas v-show=\"!loadingTrack\" id=\"visCanvas\" ref=\"visCanvas\" class=\"visCanvas pa-0 ma-0\"></canvas>\r\n      <svg v-if=\"!loadingTrack\" class=\"svgContainer\">\r\n        <rect\r\n          :x=\"this.zoomed ? this.padding + this.canvasWidth/2 : padding+((this.seeker/1000.0)*scale)-1\"\r\n          :y=\"0\"\r\n          :width=\"2\"\r\n          :height=\"canvasHeight\"\r\n          fill=\"#ffffff\"\r\n          :opacity=\"0.5\"\r\n        />\r\n        <g v-if=\"drawClusters\">\r\n          <rect\r\n            v-for=\"(segment, index) in segments\"\r\n            :key=\"index\"\r\n            :x=\"padding+segment.start*scale\"\r\n            :y=\"segment.cluster*10\"\r\n            :width=\"segment.duration*scale\"\r\n            :height=\"10\"\r\n            :fill=\"clusterColor(segment.cluster)\"\r\n            @click=\"clickedCluster(segment.cluster, segment)\"\r\n          />\r\n        </g>\r\n      </svg>\r\n      <svg\r\n        v-if=\"!loadingTrack && $store.state.tsneReady\"\r\n        class=\"tsneContainer\"\r\n        @click=\"clickedTSNE\"\r\n        :style=\"`height: ${tsneSize}px; left: ${padding}`\"\r\n      >\r\n        <circle\r\n          v-for=\"(segment, index) in segments\"\r\n          :key=\"index\"\r\n          :class=\"playingSegment(segment) ? 'segmentCirclePlaying' : 'segmentCircle'\"\r\n          :r=\"(2+Math.min(2,segment.duration)*5) * (playingSegment(segment) ? 3: 1)\"\r\n          :cx=\"(segment.tsneCoord[0]+1)*tsneSize/2\"\r\n          :cy=\"(segment.tsneCoord[1]+1)*tsneSize/2\"\r\n          :fill=\"playingSegment(segment)? 'white': clusterColor(segment.cluster)\"\r\n          @click=\"clickedSegment(segment)\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from \"d3\";\r\nimport * as audioUtil from \"../app/audioUtil\";\r\n\r\nimport * as player from \"../app/player\";\r\nimport * as app from \"../app/app\";\r\nimport * as vis from \"../app/vis\";\r\nimport Segment from \"../app/Segment\";\r\n\r\nconst d3ClusterColor = d3.scaleOrdinal(d3.schemeCategory10);\r\nexport default {\r\n  props: [\"padding\"],\r\n  data() {\r\n    return {\r\n      canvas: null,\r\n      ctx: null,\r\n      hover: 0,\r\n      windowWidth: window.innerWidth,\r\n      spotifyVisualizer: null,\r\n      power: 1,\r\n      zoomed: false,\r\n      scaleX: 4,\r\n      visSpaceBetween: 5,\r\n      drawClusters: true,\r\n      canvasVis: {\r\n        rawPitch: { draw: true, height: 150, function: vis.renderRawPitch },\r\n        percussionPitch: {\r\n          draw: false,\r\n          height: 30,\r\n          function: vis.renderPercussionPitch,\r\n        },\r\n        rawTimbre: { draw: true, height: 150, function: vis.renderRawTimbre },\r\n        ssm: { draw: false, height: window.innerWidth- this.padding * 2, function: vis.renderSSM },\r\n        tonality: { draw: true, height: 25, function: vis.renderTonality },\r\n        rawRhythm: { draw: true, height: 30, function: vis.renderRawRhythm },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    track() {\r\n      return this.$store.getters.selectedTrack;\r\n    },\r\n    analysis() {\r\n      return this.track.getAnalysis();\r\n    },\r\n    segments() {\r\n      return this.track.getSegments();\r\n    },\r\n    scale() {\r\n      return this.width / this.analysis.track.duration;\r\n    },\r\n    width() {\r\n      return (\r\n        this.windowWidth * (this.zoomed ? this.scaleX : 1) - this.padding * 2\r\n      );\r\n    },\r\n    canvasWidth() {\r\n      return this.windowWidth - this.padding * 2;\r\n    },\r\n    tsneSize() {\r\n      return this.canvasWidth / 2;\r\n    },\r\n    canvasHeight() {\r\n      let height = 0;\r\n      for (const [key, vis] of Object.entries(this.canvasVis)) {\r\n        height += vis.draw ? this.visSpaceBetween + vis.height : 0;\r\n      }\r\n      return height;\r\n    },\r\n    loadingTrack() {\r\n      return this.$store.state.loadingTrack;\r\n    },\r\n    duration() {\r\n      return Math.round(this.track.getAnalysis().track.duration * 1000);\r\n    },\r\n    seeker() {\r\n      return this.$store.state.seeker;\r\n    },\r\n  },\r\n  watch: {\r\n    loadingTrack: \"loadingTrackChanged\",\r\n    seeker: \"seekerChanged\",\r\n    canvasHeight: \"canvasHeightChanged\",\r\n    canvasVis: {\r\n      deep: true,\r\n      handler(newVis, oldVis){this.canvasVisChanged(newVis, oldVis);}\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"resize\", () => {\r\n      this.windowWidth = window.innerWidth;\r\n      this.setupCanvas(document.getElementById(\"visCanvas\"));\r\n    });\r\n    this.setupCanvas(document.getElementById(\"visCanvas\"));\r\n  },\r\n  methods: {\r\n    clickedVis(event) {\r\n      if(event.srcElement.id === \"visCanvas\" && event.offsetY <= this.canvasHeight){\r\n        const posX = Math.min(\r\n          Math.max(0, event.clientX - this.padding) / this.width,\r\n          1\r\n        );\r\n        const ms = posX * this.duration;\r\n        this.$store.commit(\"setSeeker\", ms);\r\n        player.seek(ms);\r\n      }\r\n    },\r\n    loudness(db) {\r\n      return audioUtil.loudness(db);\r\n    },\r\n    pitchColorRange(value) {\r\n      return vis.pitchColor(value);\r\n    },\r\n    timbreColorRange(value) {\r\n      return vis.timbreColor(value);\r\n    },\r\n    rainbowColorRange(value) {\r\n      return vis.rainbowColor(value);\r\n    },\r\n    clusterColor(cluster) {\r\n      return d3ClusterColor(cluster);\r\n    },\r\n    loadingTrackChanged(newVal, oldVal) {\r\n      if(this.loadingTrack){\r\n        this.canvasVis.ssm.draw = false;\r\n      }else{\r\n        this.draw(0);\r\n\r\n      }\r\n    },\r\n    setupCanvas(canvas) {\r\n      if (!canvas) {\r\n        console.log(\"canvas not ready\");\r\n        return;\r\n      }\r\n      console.log(\"canvas ready: draw()\");\r\n      this.canvas = canvas;\r\n      this.ctx = canvas.getContext(\"2d\");\r\n\r\n      // get current size of the canvas\r\n      let rect = canvas.getBoundingClientRect();\r\n\r\n      // increase the actual size of our canvas\r\n      this.canvas.width = this.windowWidth * devicePixelRatio;\r\n      this.canvas.height = this.canvasHeight * devicePixelRatio;\r\n\r\n      // ensure all drawing operations are scaled\r\n      this.ctx.scale(devicePixelRatio, devicePixelRatio);\r\n\r\n      // scale everything down using CSS\r\n      this.canvas.style.width = this.windowWidth + \"px\";\r\n      this.canvas.style.height = this.canvasHeight + \"px\";\r\n\r\n      this.ctx.webkitImageSmoothingEnabled = false;\r\n      this.ctx.mozImageSmoothingEnabled = false;\r\n      this.ctx.imageSmoothingEnabled = false;\r\n\r\n      //this.draw();\r\n    },\r\n    draw(xOffset) {\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n      let y = 0;\r\n\r\n      for (const [key, vis] of Object.entries(this.canvasVis)) {\r\n        if (vis.draw) {\r\n          vis.function(\r\n            this.track,\r\n            this.padding - xOffset,\r\n            this.width,\r\n            y,\r\n            vis.height,\r\n            this.ctx\r\n          );\r\n          y += this.visSpaceBetween + vis.height;\r\n        }\r\n      }\r\n    },\r\n    zoom() {\r\n      console.log(\"zooming\");\r\n      //this.transform();\r\n      this.zoomed = !this.zoomed;\r\n      this.redraw();\r\n    },\r\n    redraw() {\r\n      const xOffset =\r\n        ((this.seeker / 1000.0) * this.width) / this.analysis.track.duration;\r\n      const offsetToMiddle = this.canvasWidth / 2;\r\n      this.draw(this.zoomed ? xOffset - offsetToMiddle : 0);\r\n    },\r\n    seekerChanged(newSeek, oldSeek) {\r\n      if (this.zoomed) {\r\n        this.redraw();\r\n      }\r\n    },\r\n    transform() {\r\n      this.ctx.save();\r\n      this.ctx.translate(this.width * 0.5, this.canvasHeight * 0.5);\r\n      this.ctx.scale(2, 2);\r\n      this.ctx.drawImage(\r\n        this.canvas,\r\n        -this.width * 0.5,\r\n        -this.canvasHeight * 0.5\r\n      );\r\n      this.ctx.restore();\r\n    },\r\n    clickedCluster(clusterIndex, segment) {\r\n      console.log(\"playing cluster\", clusterIndex);\r\n      let totalDuration = 0;\r\n      const clusterSize = this.track.clusters[clusterIndex].length;\r\n      const randomSegmentIndex = Math.floor(Math.random() * clusterSize);\r\n      const randomSegment = segment; //this.track.clusters[clusterIndex][randomSegmentIndex];\r\n      player.playSegment(randomSegment);\r\n      this.$store.commit(\"setSeeker\", randomSegment.start * 1000);\r\n    },\r\n    clickedSegment(segment) {\r\n      player.playSegment(segment);\r\n      this.$store.commit(\"setSeeker\", segment.start * 1000);\r\n    },\r\n    clickedTSNE(event) {\r\n      const x = (event.offsetX / this.tsneSize) * 2 - 1;\r\n      const y = (event.offsetY / this.tsneSize) * 2 - 1;\r\n      const segment = this.track.getClosestSegment([x, y]);\r\n      this.clickedSegment(segment);\r\n    },\r\n    playingSegment(segment) {\r\n      return (\r\n        this.$store.getters.playing &&\r\n        this.seeker / 1000 >= segment.start &&\r\n        this.seeker / 1000 < segment.start + segment.duration - 0.01\r\n      );\r\n    },\r\n    canvasHeightChanged(newHeight, oldHeight) {\r\n      console.log(\"CanvasHeight change\");\r\n      //this.setupCanvas(this.canvas);\r\n      //this.draw(0);\r\n    },\r\n    canvasVisChanged(){\r\n      this.setupCanvas(this.canvas);\r\n      this.draw(0)\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.vis {\r\n  padding-top: 10px;\r\n  position: relative;\r\n}\r\n.visCanvas {\r\n  image-rendering: optimizeSpeed;\r\n  image-rendering: -moz-crisp-edges;\r\n  image-rendering: -webkit-optimize-contrast;\r\n  image-rendering: -o-crisp-edges;\r\n  image-rendering: crisp-edges;\r\n  -ms-interpolation-mode: nearest-neighbor;\r\n}\r\n.svgContainer {\r\n  position: relative;\r\n  padding-top: 10px;\r\n  background-color: \"white\";\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 2;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: visible;\r\n}\r\n.tsneContainer {\r\n  display: block;\r\n  position: relative;\r\n  background-color: \"white\";\r\n  top: 0px;\r\n  left: 0px;\r\n  bottom: 0;\r\n  z-index: 2;\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n  overflow: visible;\r\n}\r\n\r\n.segmentCircle {\r\n  transition: r 1.5s ease-out, fill 1.5s ease-out/*, cx 1s ease, cy 1s ease;*/\r\n}\r\n.segmentCirclePlaying {\r\n  transition: r 0.1s ease-in, fill 0.1s ease-in;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visualization.vue?vue&type=template&id=886e2346&\"\nimport script from \"./Visualization.vue?vue&type=script&lang=js&\"\nexport * from \"./Visualization.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Visualization.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VIcon,VLayout,VRow,VSpacer,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player\"},[_c('div',{staticClass:\"d-flex justify-center pa-4\"},[(_vm.$store.state.playerReady)?_c('div',[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-btn',{attrs:{\"elevation\":hover ? 5 : 0,\"outlined\":\"\",\"fab\":\"\"},on:{\"click\":_vm.playPause}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-\"+_vm._s(_vm.playing ? 'pause' : 'play'))])],1)]}}],null,false,2020131878)})],1):_vm._e(),(!_vm.$store.state.playerReady)?_c('div',[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"56\"}})],1):_vm._e()]),(!_vm.$store.state.loadingTrack)?_c('div',{attrs:{\"id\":\"timeseeker\"}},[_c('svg',{staticClass:\"waveform\",attrs:{\"height\":_vm.verticalScale},on:{\"click\":_vm.clickedSVG}},[_vm._l((_vm.track.getSegments()),function(segment,index){return _c('rect',{key:index,staticClass:\"loudnessBlock\",attrs:{\"width\":segment.duration*_vm.scale,\"height\":(_vm.loudness(segment.loudness_max))*_vm.verticalScale,\"x\":_vm.padding+segment.start*_vm.scale,\"y\":_vm.verticalScale-_vm.loudness(segment.loudness_max)*_vm.verticalScale,\"fill\":segment.start+segment.duration/2 < _vm.$store.state.seeker/1000 ? 'grey' : _vm.baseColor}})}),_c('rect',{attrs:{\"x\":_vm.padding+((_vm.seeker/1000.0)*_vm.scale)-1,\"y\":0,\"width\":2,\"height\":_vm.verticalScale,\"fill\":\"#1DB954\"}})],2)]):_vm._e(),(_vm.$store.state.loadingTrack)?_c('div',[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"success\"}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"player\">\r\n        <div class=\"d-flex justify-center pa-4\">\r\n            <div v-if=\"$store.state.playerReady\" >\r\n                <v-hover v-slot:default=\"{ hover }\" >\r\n                    <v-btn :elevation=\"hover ? 5 : 0\" outlined fab @click=\"playPause\" >\r\n                        <v-icon large>mdi-{{playing ? 'pause' : 'play'}}</v-icon>\r\n                    </v-btn>\r\n                </v-hover>\r\n            </div>\r\n            <div v-if=\"!$store.state.playerReady\">\r\n                <v-progress-circular\r\n                    indeterminate\r\n                    size=56\r\n                ></v-progress-circular>\r\n            </div>\r\n        </div>\r\n        <div id=\"timeseeker\" v-if=\"!$store.state.loadingTrack\">\r\n            <svg class=\"waveform\" :height=\"verticalScale\" @click=\"clickedSVG\">\r\n                <rect v-for=\"(segment, index) in track.getSegments()\"\r\n                    class=\"loudnessBlock\"\r\n                    :key=\"index\"\r\n                    :width=\"segment.duration*scale\" \r\n                    :height=\"(loudness(segment.loudness_max))*verticalScale\"\r\n                    :x=\"padding+segment.start*scale\"\r\n                    :y=\"verticalScale-loudness(segment.loudness_max)*verticalScale\"\r\n                    :fill=\"segment.start+segment.duration/2 < $store.state.seeker/1000 ? 'grey' : baseColor\"\r\n                />\r\n                <rect\r\n                    :x=\"padding+((seeker/1000.0)*scale)-1\"\r\n                    :y=\"0\"\r\n                    :width=\"2\"\r\n                    :height=\"verticalScale\"\r\n                    fill=\"#1DB954\"\r\n                />\r\n            </svg>\r\n        </div>\r\n        <div v-if=\"$store.state.loadingTrack\">\r\n            <v-progress-linear\r\n                indeterminate\r\n                color=\"success\"\r\n            ></v-progress-linear>\r\n         </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as player from \"../app/player\"\r\nimport * as app from \"../app/app\"\r\nimport * as auth from '../app/authentication';\r\nimport * as audioUtil from '../app/audioUtil'\r\nimport Track from \"../app/Track\"\r\nimport {spotify} from '../app/app';\r\n\r\nexport default {\r\n    inject: ['theme'],\r\n    props:[\r\n        'padding',\r\n    ],\r\n    data () {\r\n        return {\r\n            verticalScale: 50,\r\n            windowWidth: window.innerWidth,\r\n            hover: 0,\r\n            ending: false,\r\n        }\r\n    },\r\n    beforeCreate () {\r\n        player.initialize(auth.token, (newState) => this.stateChanged(newState));\r\n        player.deviceIdSet().then(()=>{ \r\n            this.$store.commit('playerReady', true);\r\n        })\r\n    },\r\n    mounted(){\r\n        \r\n    },\r\n    computed: {\r\n        track(){\r\n            return this.$store.getters.selectedTrack;\r\n        },\r\n        baseColor(){\r\n            return this.theme.isDark ? 'white' : 'black'\r\n        },\r\n        scale(){\r\n            if(this.$store.getters.loadingTrack){\r\n                return 0;\r\n            }\r\n            return this.width/this.track.getAnalysisDuration();\r\n        },\r\n        width(){\r\n            return this.windowWidth - this.padding*2;\r\n        },\r\n        duration(){\r\n            if(this.$store.getters.loadingTrack){\r\n                return 0;\r\n            }\r\n            return Math.round(this.track.getAnalysisDuration()*1000);\r\n        },\r\n        playing(){\r\n            return this.$store.getters.playing;\r\n        },\r\n        seeker(){\r\n            return this.$store.getters.seeker;\r\n        }\r\n    },\r\n    watch: {\r\n        track: 'trackChanged',\r\n    },\r\n    methods: {\r\n        clickedSVG(event){\r\n            const posX = Math.min(Math.max(0,event.clientX-this.padding)/this.width, 1);\r\n            const ms = posX*this.duration;\r\n            this.$store.commit('setSeeker', ms);\r\n            player.seek(this.seeker);\r\n        },\r\n        trackChanged(newTrack, oldTrack){\r\n            this.reset().then(()=>{\r\n                player.setTrack(this.track.getUri(), 0);\r\n                this.$store.commit('setSeeker', 0);\r\n            });\r\n        },\r\n        resume () {\r\n            if(!this.playing){\r\n                player.resume(this.seeker).then(() => {\r\n                    this.$store.commit('setPlaying', true);\r\n                    this.interval = setInterval(() => this.seekerTimer(33), 33);\r\n                });\r\n            }\r\n        },\r\n        pause () {\r\n            if(this.playing){\r\n                player.pause();\r\n                this.$store.commit('setPlaying', false);\r\n                clearInterval(this.interval);\r\n            }\r\n        },\r\n        playPause () {\r\n            this.playing ? this.pause() : this.resume();\r\n        },\r\n        async reset(){\r\n            this.ending = false;\r\n            return player.pause().then(() => {\r\n                this.$store.commit('setSeeker', 0);\r\n                clearInterval(this.interval);\r\n                this.$store.commit('setPlaying', false);\r\n            }).catch((err) => console.log(err));\r\n        },\r\n        clickedTimeSeeker () {\r\n            player.seek(this.seekTime);\r\n        \r\n        },\r\n        seekerTimer(increment){\r\n            const now = new Date();\r\n            let elapsed = increment\r\n            if(this.lastTimePoll){\r\n                elapsed = now-this.lastTimePoll;\r\n            }\r\n            this.lastTimePoll = now;\r\n            this.seekTime+=elapsed;\r\n            this.$store.state.seeker+=elapsed;\r\n        },\r\n        loudness(db){\r\n            return audioUtil.loudness(db);\r\n        },\r\n        stateChanged(state){\r\n            if(this.playing){\r\n                const {current_track, position, duration} = state;\r\n                this.$store.commit('setSeeker', position);\r\n\r\n                // if state gotten at the end, assume it is a stop and reset when next state position is 0\r\n                if(this.ending && state.position === 0){\r\n                    this.reset();\r\n                }\r\n                if(!this.ending && (state.duration - state.position) < 500){\r\n                    this.ending = true;\r\n                }\r\n                \r\n            }\r\n\r\n        }\r\n    },\r\n    components:{\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.waveform{\r\n  overflow: visible;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n.loudnessBlock{\r\n    transition: fill 200ms ease;\r\n    cursor: pointer\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=797175ce&\"\nimport script from \"./Player.vue?vue&type=script&lang=js&\"\nexport * from \"./Player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Player.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBtn,VHover,VIcon,VProgressCircular,VProgressLinear})\n","<template>\r\n  <div class=\"home\">\r\n    <v-app-bar dark>\r\n      <v-toolbar-title>Music Structure Visualizer</v-toolbar-title>\r\n\r\n      <v-spacer></v-spacer>\r\n\r\n      <form v-on:submit.prevent=\"search\">\r\n        <v-text-field\r\n          v-model=\"searchQuery\"\r\n          hide-details\r\n          append-icon=\"mdi-magnify\"\r\n          single-line\r\n          rounded\r\n          dense\r\n          filled\r\n        ></v-text-field>\r\n      </form>\r\n      <div class=\"volumeSlider\">\r\n        <v-container>\r\n          <v-slider\r\n            @click:prepend=\"clickVolume\"\r\n            :prepend-icon=\"getVolumeIcon(volume)\"\r\n            v-model=\"volume\"\r\n            :min=\"0\"\r\n            :max=\"1\"\r\n            :step=\"0.02\"\r\n          ></v-slider>\r\n        </v-container>\r\n      </div>\r\n\r\n      <v-btn icon>\r\n        <v-icon>mdi-heart</v-icon>\r\n      </v-btn>\r\n      <v-btn icon>\r\n        <v-icon>mdi-dots-vertical</v-icon>\r\n      </v-btn>\r\n    </v-app-bar>\r\n    <TrackSelector :tracks=\"trackList\" :album-size=\"120\" />\r\n    <Player :padding=\"padding\" />\r\n    <Visualization :padding=\"padding\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TrackSelector from \"../components/TrackSelector\";\r\nimport Visualization from \"../components/Visualization\";\r\nimport Player from \"../components/Player\";\r\nimport * as app from \"../app/app\";\r\nimport * as auth from \"../app/authentication\";\r\nimport * as player from \"../app/player\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      volume: 0.75,\r\n      prevVolume: 0.75,\r\n      padding: 50,\r\n    };\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.getters.user;\r\n    },\r\n    trackList() {\r\n      return this.$store.getters.trackList;\r\n    },\r\n    selectedIndex() {\r\n      return this.$store.getters.selectedIndex;\r\n    },\r\n    selectedTrack() {\r\n      return this.$store.getters.selectedTrack;\r\n    },\r\n    seeker() {\r\n      return this.$store.getters.seeker;\r\n    },\r\n  },\r\n  watch: {\r\n    selectedIndex(newIndex, oldIndex) {\r\n      //console.log(`We have ${newVal} selected!`)\r\n    },\r\n    selectedTrack(newTrack, oldTrack) {\r\n      console.log(`We have ${newTrack.getName()} selected!`);\r\n    },\r\n    volume(newVol, oldVol) {\r\n      player.setVolume(Math.pow(this.volume, 2));\r\n    },\r\n  },\r\n  components: {\r\n    TrackSelector,\r\n    Visualization,\r\n    Player,\r\n  },\r\n  beforeCreate() {\r\n    app.initialize();\r\n  },\r\n  methods: {\r\n    search() {\r\n      app.search(this.searchQuery);\r\n    },\r\n    selectedTrackChanged() {\r\n      console.log(\"selected track\", this.trackList[this.selected].name);\r\n      this.getAnalsysisFor(this.selected);\r\n    },\r\n    getAnalsysisFor(index) {\r\n      const selectedTrackId = this.trackList[index].id;\r\n      if (!this.trackAnalysis.has(selectedTrackId)) {\r\n        this.analysisReady = false;\r\n        console.log(\"Getting analysis for: \", this.trackList[index].name);\r\n      }\r\n    },\r\n    getVolumeIcon(volume) {\r\n      if (volume > 0.6) return \"mdi-volume-high\";\r\n      if (volume > 0.2) return \"mdi-volume-medium\";\r\n      if (volume > 0) return \"mdi-volume-low\";\r\n      return \"mdi-volume-off\";\r\n    },\r\n    clickVolume() {\r\n      if (this.volume > 0) {\r\n        this.prevVolume = this.volume;\r\n        this.volume = 0;\r\n      } else {\r\n        this.volume = this.prevVolume;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.volumeSlider {\r\n  height: 100%;\r\n  width: 10%;\r\n}\r\n.trackScroll {\r\n  /*overflow-x: auto;*/\r\n}\r\n.trackScroll::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=e0d20aca&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VContainer,VIcon,VSlider,VSpacer,VTextField,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"callback\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"callback\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { requestFirstToken } from \"../app/authentication\"\r\n\r\nexport default {\r\n  name: 'Callback',\r\n  components: {\r\n  },\r\n  beforeCreate () {\r\n      let params = new URLSearchParams(window.location.search);\r\n      let code = params.get('code')\r\n      requestFirstToken(code).then(()=>{\r\n        this.$router.push('/home');\r\n      })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.callback{\r\n  height: 100%,\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Callback.vue?vue&type=template&id=e48c1e1c&\"\nimport script from \"./Callback.vue?vue&type=script&lang=js&\"\nexport * from \"./Callback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Callback.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-card',{staticClass:\"mx-auto elevation-15\"},[_c('v-card-title',{staticClass:\"justify-center\"},[_vm._v(\"Music Structure Visualizer\")]),_c('v-card-subtitle',{staticClass:\"text-center\"},[_vm._v(\" Visualize the structure of music in your own library! \")]),_c('v-card-text',{staticClass:\"text-center\"},[_vm._v(\" Logging in with spotify enables the app to play music using your spotify account. \")]),_c('v-card-actions',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.spotifyAuthorize}},[_vm._v(\"Log in with Spotify\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login\">\r\n        <v-container fill-height>\r\n            <v-layout align-center>\r\n                <v-card class=\"mx-auto elevation-15\">\r\n                    <v-card-title class=\"justify-center\">Music Structure Visualizer</v-card-title>\r\n                    <v-card-subtitle class=\"text-center\">\r\n                        Visualize the structure of music in your own library!\r\n                    </v-card-subtitle>\r\n                    <v-card-text class=\"text-center\">\r\n                        Logging in with spotify enables the app to play music using your spotify account.\r\n                    </v-card-text>\r\n                    <v-card-actions>\r\n                        <v-btn class=\"mx-auto\" color=\"success\" @click=\"spotifyAuthorize\">Log in with Spotify</v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-layout>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n  },\r\n  methods: {\r\n      spotifyAuthorize () {\r\n          window.location.href= process.env.VUE_APP_HOST_URL + \"/api/spotify/login\"\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login{\r\n    height: 100%\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=acb05ff4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VContainer,VLayout})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Callback from '../views/Callback.vue'\nimport Login from '../views/Login.vue'\nimport * as app from '../app/app'\nimport * as auth from '../app/authentication'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/home',\n    name: 'Home',\n    component: Home,\n    beforeEnter(to, from, next) {\n      if (auth.isAuthorized()) {\n        next();\n      }else{\n        next('/');\n      }\n    }\n  },\n  {\n    path: '/callback',\n    name: 'Callback',\n    component: Callback\n  },\n\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        dark: true,\n        themes:{\n            // Spotify green = 1DB954\n            // Spotify black = 191414\n            light: {\n                primary: '#1DB954',//'#1976D2',\n                secondary: '#424242',\n                accent: '#82B1FF',\n                error: '#FF5252',\n                info: '#2196F3',\n                success: '#1DB954',//'#4CAF50',\n                warning: '#FFC107',\n            },\n            dark: {\n                primary: '#1DB954',//'#1976D2',\n                success: '#1DB954',//'#4CAF50',\n            }\n        }\n    }\n});\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport vuetify from './plugins/vuetify';\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  vuetify,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}