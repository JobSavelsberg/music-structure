{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0f16","webpack:///./src/views/Callback.vue?e81a","webpack:///./src/App.vue?ebb3","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2d25","webpack:///./src/views/Home.vue?3cac","webpack:///./src/components/TrackSelector.vue?9f7c","webpack:///./src/components/Album.vue?0cdc","webpack:///src/components/Album.vue","webpack:///./src/components/Album.vue?ef28","webpack:///./src/components/Album.vue?5f78","webpack:///./src/app/authentication.js","webpack:///./src/app/audioUtil.js","webpack:///./src/app/Segment.js","webpack:///./src/app/similarity.js","webpack:///./src/app/workers/tsneWorker/index.js","webpack:///./src/app/workers/ssmWorker/index.js","webpack:///./src/app/workers/clusterWorker/index.js","webpack:///./src/app/workers/tsneWorker/tsneWorker.js","webpack:///./src/app/workers/ssmWorker/ssmWorker.js","webpack:///./src/app/workers/clusterWorker/clusterWorker.js","webpack:///./src/store/index.js","webpack:///./src/app/Features.js","webpack:///./src/app/Track.js","webpack:///./src/app/app.js","webpack:///src/components/TrackSelector.vue","webpack:///./src/components/TrackSelector.vue?635c","webpack:///./src/components/TrackSelector.vue","webpack:///./src/components/Visualization.vue?9bdd","webpack:///./src/app/player.js","webpack:///./src/app/vis.js","webpack:///./src/app/webGL.js","webpack:///src/components/Visualization.vue","webpack:///./src/components/Visualization.vue?6d7e","webpack:///./src/components/Visualization.vue?539c","webpack:///./src/components/Player.vue?9239","webpack:///src/components/Player.vue","webpack:///./src/components/Player.vue?5c64","webpack:///./src/components/Player.vue?63c2","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?f458","webpack:///./src/views/Home.vue?8c42","webpack:///./src/views/Callback.vue?f829","webpack:///src/views/Callback.vue","webpack:///./src/views/Callback.vue?2a5f","webpack:///./src/views/Callback.vue?6c34","webpack:///./src/views/Login.vue?526a","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue?723e","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/app/newworkers/my.worker.js","webpack:///./src/main.js","webpack:///./src/components/Player.vue?1a7f","webpack:///./src/components/Album.vue?fd95","webpack:///./src/components/Visualization.vue?6ce7","webpack:///./src/views/Home.vue?9878","webpack:///./src/views/Login.vue?b712"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","installedWasmModules","wasmImportObjects","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","wasmModules","forEach","wasmModuleId","installedWasmModuleData","importObject","req","fetch","WebAssembly","compileStreaming","all","then","items","instantiate","instantiateStreaming","bytesPromise","x","arrayBuffer","bytes","res","w","instance","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","this","oldJsonpFunction","slice","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","components","beforeCreate","window","onSpotifyWebPlaybackSDKReady","log","Spotify","Player","elHtml","style","overflowY","destroyed","component","VApp","staticClass","_v","on","$event","preventDefault","search","model","callback","$$v","searchQuery","expression","getVolumeIcon","volume","clickVolume","trackList","padding","nativeOn","onScroll","selected","_l","track","index","scopedSlots","_u","fn","ref","active","toggle","trackData","albumSize","class","directives","rawName","clicked","imgSize","album","images","imgIndex","url","_s","artists","VBtn","VCard","VCardActions","VCardText","VImg","Ripple","token","refreshToken","api","axios","baseURL","withCredentials","requestFirstToken","code","a","post","access_token","sessionStorage","setItem","expires_in","Date","getTime","toString","catch","isAuthorized","getItem","d3","require","circleOfFifths","noteColor","scaleLinear","domain","interpolate","interpolateHcl","range","rgb","Math","PI","TWO_PI","OFFSET","tonality","pitches","y","energy","angle","radius","cos","sin","atan2","sqrt","tonalVectorColor","color","hsl","saturation","min","hex","loudness","db","max","Segment","segment","start","duration","loudness_start","loudness_max","loudness_max_time","loudness_end","processedPitch","processedPitchSmooth","pitch","audioUtil","tonalityAngle","tonalityRadius","tonalityEnergy","minDuration","decay","shortness","percussiony","calculateTransposedPitches","prevSegment","nextSegment","biggest","totalBiggest","processedTimbre","timbre","timbres","timbresScaled","pitchesTransposed","Array","duration_ms","concat","cluster","coord","tsneCoord","euclidianDistance","b","squaredDistance","dist","diff","worker","promiseWorker","Worker","send","postMessage","receive","register","terminate","PWBHost","init","synchronizedStdio","Vue","use","Vuex","Store","state","user","selectedIndex","seeker","playerState","loadingTrack","playerReady","playing","tsneReady","ssmReady","clusterReady","mutations","setSeeker","time_ms","setUser","setPlayerState","addToTrackList","addToTrackListIndex","addToTrackListFront","unshift","clearTrackList","setSelectedIndex","setPlaying","incrementSeeker","increment","ready","actions","getters","selectedTrack","id","Features","segments","sampleRate","fill","tonalEnergy","tonalRadius","tonalAngle","sampleDuration","sampleAmount","ceil","calculateMaxMin","processSegments","sampleFeatures","timbreMax","getOriginalTimbres","timbreMin","timbreBiggest","abs","timbreTotalBiggest","raw","getLoudnessFeatures","processPitch","processTimbre","processed","processPitchSmooth","clusterSelection","tsneSelection","sample","timeLeft","initSampleFeatures","addFeaturesScaled","divideFeatures","remainingSegmentDuration","setFeaturesScaled","featureName","sampled","scalar","divisor","CLUSTERAMOUNT","Track","createSegmentObjects","features","getAnalysisDuration","tsne","calculateSSM","analysisData","store","commit","ssmWorker","self","segmentObjects","timeStamp","ssm","clusterWorker","minK","maxK","tries","updateClusters","clusterIndexes","setCluster","clusters","tsneWorker","updateTSNECoords","coords","setTSNECoord","minDist","Infinity","closestSegment","sim","analysis","process","artist","uri","bars","beats","tatums","getPitches","map","getTimbres","setAnalysis","json","createWithAnalysis","spotify","SpotifyWebApi","allTracks","Map","initialize","initWorkers","setAccessToken","auth","getMe","router","getMyTopTracks","limit","offset","tracks","loadTracksFromSpotify","selectTrackAtIndex","getAnalysis","keepCurrentTrack","has","set","hasAnalysis","getAudioAnalysisForTrack","getId","query","results","props","computed","watch","mounted","methods","VSlideGroup","VSlideItem","playerRef","canvasVis","rawPitch","$set","rawTimbre","rawRhythm","zoom","clickedVis","_e","zoomed","canvasWidth","scale","canvasHeight","deviceId","trackIsLoaded","nextTrackURI","nexStartPosition","playingSegment","setTrack","trackUri","startPosition","resume","position","seek","play","device_id","uris","position_ms","pause","time","playSegment","deviceIdSet","timeWas","wait","setInterval","clearInterval","setVolume","waitForSpotifyWebPlaybackSDKToLoad","stateChangedCallback","getOAuthToken","cb","addListener","current_track","track_window","connect","zeroOneColor","interpolator","pitchColor","greyScaleColor","timbreColor","rainbowColor","diverging","renderRawPitch","left","width","yOffset","height","ctx","getSegments","segmentHeight","segmentWidth","fillStyle","fillRect","renderPercussionPitch","segmentIndex","renderRawTimbre","getProcessedTimbre","renderRawRhythm","getBars","bar","confidence","getBeats","beat","getTatums","tatum","renderTonality","renderSSM","size","segmentA","getSegment","segmentB","getSSM","pow","gl","program","bufferSize","canvas","getContext","alert","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","vertexShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderSource","vertexShaderText","fragmentShaderText","compileShader","getShaderParameter","COMPILE_STATUS","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","validateProgram","VALIDATE_STATUS","ssmVertices","ssmIndeces","topleft","bottomleft","indexBuffer","createBuffer","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","Uint16Array","STATIC_DRAW","rectangleVertexBufferObject","ARRAY_BUFFER","Float32Array","vertAttribLocation","getAttribLocation","vertexAttribPointer","FLOAT","FALSE","BYTES_PER_ELEMENT","enableVertexAttribArray","getProgramInfoLog","getProgramInfoLof","getShaderInfoLog","setSSMDataArray","halfDuration","st","pos","top","right","bottom","drawSSM","useProgram","drawArrays","TRIANGLES","join","VIcon","VLayout","VRow","VSpacer","VSwitch","$store","hover","playPause","verticalScale","clickedSVG","baseColor","VHover","VProgressCircular","VProgressLinear","prevVolume","TrackSelector","Visualization","selectedTrackChanged","getAnalsysisFor","trackAnalysis","selectedTrackId","analysisReady","VAppBar","VContainer","VSlider","VTextField","VToolbarTitle","VToolbar","spotifyAuthorize","VCardSubtitle","VCardTitle","VueRouter","routes","path","Login","Home","beforeEnter","to","from","next","Callback","base","Vuetify","theme","dark","themes","light","primary","secondary","accent","info","success","warning","__webpack_public_path__","lib","add","onmessage","JSON","stringify","now","performance","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.e9138b59.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-789e6b41\":\"b067caa9\"}[chunkId] + \".js\"\n \t}\n\n \t// object to store loaded and loading wasm modules\n \tvar installedWasmModules = {};\n\n \tfunction promiseResolve() { return Promise.resolve(); }\n\n \tvar wasmImportObjects = {\n \t\t\"8f23\": function() {\n \t\t\treturn {\n\n \t\t\t};\n \t\t},\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n\n \t\t// Fetch + compile chunk loading for webassembly\n\n \t\tvar wasmModules = {\"chunk-789e6b41\":[\"8f23\"]}[chunkId] || [];\n\n \t\twasmModules.forEach(function(wasmModuleId) {\n \t\t\tvar installedWasmModuleData = installedWasmModules[wasmModuleId];\n\n \t\t\t// a Promise means \"currently loading\" or \"already loaded\".\n \t\t\tif(installedWasmModuleData)\n \t\t\t\tpromises.push(installedWasmModuleData);\n \t\t\telse {\n \t\t\t\tvar importObject = wasmImportObjects[wasmModuleId]();\n \t\t\t\tvar req = fetch(__webpack_require__.p + \"\" + {\"8f23\":\"c6a751f503e9132013a5\"}[wasmModuleId] + \".module.wasm\");\n \t\t\t\tvar promise;\n \t\t\t\tif(importObject instanceof Promise && typeof WebAssembly.compileStreaming === 'function') {\n \t\t\t\t\tpromise = Promise.all([WebAssembly.compileStreaming(req), importObject]).then(function(items) {\n \t\t\t\t\t\treturn WebAssembly.instantiate(items[0], items[1]);\n \t\t\t\t\t});\n \t\t\t\t} else if(typeof WebAssembly.instantiateStreaming === 'function') {\n \t\t\t\t\tpromise = WebAssembly.instantiateStreaming(req, importObject);\n \t\t\t\t} else {\n \t\t\t\t\tvar bytesPromise = req.then(function(x) { return x.arrayBuffer(); });\n \t\t\t\t\tpromise = bytesPromise.then(function(bytes) {\n \t\t\t\t\t\treturn WebAssembly.instantiate(bytes, importObject);\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t\tpromises.push(installedWasmModules[wasmModuleId] = promise.then(function(res) {\n \t\t\t\t\treturn __webpack_require__.w[wasmModuleId] = (res.instance || res).exports;\n \t\t\t\t}));\n \t\t\t}\n \t\t});\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// object with all WebAssembly.instance exports\n \t__webpack_require__.w = {};\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\",\"dark\":true}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"app\" :dark=\"true\">\n      <router-view/>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n  components: {\n  },\n  beforeCreate(){\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      console.log(\"The Web Playback SDK is ready. We have access to Spotify.Player\");\n      console.log(window.Spotify.Player);\n    };\n  },\n  data: () => ({\n    //\n  }),\n   mounted: function() {\n    let elHtml = document.getElementsByTagName('html')[0]\n    elHtml.style.overflowY = 'auto'\n  },\n  destroyed: function() {\n    let elHtml = document.getElementsByTagName('html')[0]\n    elHtml.style.overflowY = null\n  },\n};\n</script>\n\n<style>\n:not(input):not(textarea),\n:not(input):not(textarea)::after,\n:not(input):not(textarea)::before {\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: default;\n}\ninput, button, textarea, :focus {\n    outline: none;\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=66bb2026&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('v-app-bar',{attrs:{\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Music Structure Visualizer\")]),_c('v-spacer'),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"append-icon\":\"mdi-magnify\",\"single-line\":\"\",\"rounded\":\"\",\"dense\":\"\",\"filled\":\"\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('div',{staticClass:\"volumeSlider\"},[_c('v-container',[_c('v-slider',{attrs:{\"prepend-icon\":_vm.getVolumeIcon(_vm.volume),\"min\":0,\"max\":1,\"step\":0.02},on:{\"click:prepend\":_vm.clickVolume},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1)],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-heart\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)],1),_c('TrackSelector',{attrs:{\"tracks\":_vm.trackList,\"album-size\":120}}),_c('Player',{attrs:{\"padding\":_vm.padding}}),_c('Visualization',{attrs:{\"padding\":_vm.padding}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-slide-group',{staticClass:\"pt-2\",attrs:{\"center-active\":\"\",\"mandatory\":\"\"},nativeOn:{\"scroll\":function($event){return _vm.onScroll($event)}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.tracks),function(track,index){return _c('v-slide-item',{key:index,staticClass:\"mx-2 my-1\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('Album',{attrs:{\"album\":track.trackData,\"imgSize\":active ? _vm.albumSize*1.5 : _vm.albumSize,\"active\":active},on:{\"clicked\":toggle}})]}}],null,true)})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{class:_vm.active ? 'elevation-3' : 'elevation-0',style:(_vm.cardStyle)},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"track\",on:{\"click\":_vm.clicked}},[_c('v-img',{attrs:{\"height\":_vm.imgSize,\"width\":_vm.imgSize,\"src\":_vm.album.album.images[_vm.imgIndex].url}}),_c('v-card-text',{staticClass:\"pl-2 py-0 pt-1 ml-0 my-0\"},[_c('div',{staticClass:\"text-subtitle-2 text--primary text-truncate \"},[_vm._v(_vm._s(_vm.album.name))])])],1),_c('v-card-actions',{staticClass:\"pl-0 py-0 ml-0 my-0\"},[_c('v-btn',{staticClass:\"artistButton\",attrs:{\"text\":\"\",\"color\":\"grey\",\"small\":\"\"}},[_c('span',{staticClass:\"artistButtonText text-caption text-truncate\",style:({ 'max-width': this.imgSize - 12 + 'px' })},[_vm._v(\" \"+_vm._s(_vm.album.artists[0].name)+\" \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card :style=\"cardStyle\" :class=\"active ? 'elevation-3' : 'elevation-0'\">\r\n        <div class=\"track\" v-ripple @click=\"clicked\">\r\n            <v-img :height=\"imgSize\" :width=\"imgSize\" :src=\"album.album.images[imgIndex].url\"></v-img>\r\n            <v-card-text class=\"pl-2 py-0 pt-1 ml-0 my-0\">\r\n                <div class=\"text-subtitle-2 text--primary text-truncate \">{{ album.name }}</div>\r\n            </v-card-text>\r\n        </div>\r\n        <v-card-actions class=\"pl-0 py-0 ml-0 my-0\">\r\n            <v-btn class=\"artistButton\" text color=\"grey\" small>\r\n                <span\r\n                    class=\"artistButtonText text-caption text-truncate\"\r\n                    :style=\"{ 'max-width': this.imgSize - 12 + 'px' }\"\r\n                >\r\n                    {{ album.artists[0].name }}\r\n                </span>\r\n            </v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: [\"album\", \"imgSize\", \"active\"],\r\n    data() {\r\n        return {};\r\n    },\r\n    mounted() {},\r\n    computed: {\r\n        imgIndex() {\r\n            if (this.size <= this.album.album.images[2].height) return 2;\r\n            if (this.size <= this.album.album.images[1].height) return 1;\r\n            return 0;\r\n        },\r\n        cardStyle() {\r\n            return {\r\n                width: this.imgSize + \"px\",\r\n                height: this.imgSize + 55 + \"px\",\r\n            };\r\n        },\r\n    },\r\n    methods: {\r\n        clicked() {\r\n            this.$emit(\"clicked\");\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n.track:hover {\r\n    cursor: grabbing;\r\n}\r\n.artistButton {\r\n    text-transform: none !important;\r\n}\r\n.artistButtonText {\r\n    margin-left: -3px;\r\n    margin-right: 0px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=c8638f58&\"\nimport script from \"./Album.vue?vue&type=script&lang=js&\"\nexport * from \"./Album.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VImg})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","import axios from \"axios\";\r\n\r\nconst port = process.env.SERVER_PORT || 5000;\r\nconst url = (process.env.VUE_APP_HOST_URL || \"http://localhost\" + \":\" + port) + \"/api\";\r\nconst api = axios.create({\r\n    baseURL: url,\r\n    withCredentials: false,\r\n});\r\n\r\nexport let token;\r\nlet tokenTimestamp;\r\nlet expiresIn;\r\nlet refreshToken;\r\n\r\nexport async function requestFirstToken(code) {\r\n    await api\r\n        .post(\"spotify/token\", {\r\n            code: code,\r\n        })\r\n        .then((res) => {\r\n            token = res.data.access_token;\r\n            window.sessionStorage.setItem(\"token\", token);\r\n            expiresIn = res.data.expires_in;\r\n            window.sessionStorage.setItem(\"tokenTimestamp\", new Date().getTime().toString());\r\n            refreshToken = res.data.expires_in;\r\n            window.sessionStorage.setItem(\"refreshToken\", refreshToken);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n\r\nexport async function requestRefreshToken() {\r\n    await api\r\n        .post(\"spotify/token\", {\r\n            refresh_token: refreshToken,\r\n        })\r\n        .then((res) => {\r\n            token = res.data.access_token;\r\n            window.sessionStorage.setItem(\"token\", token);\r\n            expiresIn = res.data.expires_in;\r\n            window.sessionStorage.setItem(\"tokenTimestamp\", new Date().getTime().toString());\r\n            refreshToken = res.data.expires_in;\r\n            window.sessionStorage.setItem(\"refreshToken\", refreshToken);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n\r\nexport function isAuthorized() {\r\n    if (token === undefined) {\r\n        const t = window.sessionStorage.getItem(\"token\");\r\n        const e = window.sessionStorage.getItem(\"tokenTimestamp\");\r\n        const r = window.sessionStorage.getItem(\"refreshToken\");\r\n        if (t) {\r\n            token = t;\r\n            // TODO: check if token is expired, if so renew\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n","const d3 = require(\"d3\");\r\nexport const circleOfFifths = [0, 7, 2, 9, 4, 11, 6, 1, 8, 3, 10, 5]; // Starting from C=0\r\nexport const noteNames = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\r\n\r\n//https://www.vectorstock.com/royalty-free-vector/color-wheel-spectrum-scheme-selection-color-vector-25483441\r\nexport const noteColor = d3\r\n    .scaleLinear()\r\n    .domain([\r\n        0,\r\n        1 / 12,\r\n        2 / 12,\r\n        2.8 / 12,\r\n        3.8 / 12,\r\n        4.3 / 12,\r\n        5.3 / 12,\r\n        6.8 / 12,\r\n        8 / 12,\r\n        8.8 / 12,\r\n        9.3 / 12,\r\n        10.5 / 12,\r\n        1,\r\n    ])\r\n    .interpolate(d3.interpolateHcl)\r\n    .range([\r\n        d3.rgb(\"#FE0000\"),\r\n        d3.rgb(\"#FF7300\"),\r\n        d3.rgb(\"#FFAA01\"),\r\n        d3.rgb(\"#FFD300\"),\r\n        d3.rgb(\"#FFFF01\"),\r\n        d3.rgb(\"#9FEE00\"),\r\n        d3.rgb(\"#01CC00\"),\r\n        d3.rgb(\"#009899\"),\r\n        d3.rgb(\"#1241AB\"),\r\n        d3.rgb(\"#3914B1\"),\r\n        d3.rgb(\"#7209AC\"),\r\n        d3.rgb(\"#CD0174\"),\r\n        d3.rgb(\"#FE0000\"),\r\n    ]);\r\n\r\nexport function getNoteName(i) {\r\n    return noteNames[i];\r\n}\r\n\r\nvar DEGREES_PER_RADIAN = 180 / Math.PI;\r\nvar RADIANS_PER_DEGREE = Math.PI / 180;\r\nvar TWO_PI = 2 * Math.PI;\r\nvar OFFSET = (3 * Math.PI) / 2; // full cycle is 2pi\r\n\r\nexport function tonality(pitches) {\r\n    let x = 0;\r\n    let y = 0;\r\n    let energy = 0;\r\n    for (let i = 0; i < 12; i++) {\r\n        const angle = (-circleOfFifths[i] / 12.0) * TWO_PI + OFFSET;\r\n        const radius = pitches[i]; // Between 0 and 1\r\n        energy += radius / 12;\r\n        x += radius * Math.cos(angle);\r\n        y += radius * Math.sin(angle);\r\n    }\r\n\r\n    const angle = (Math.atan2(x, y) + Math.PI) / TWO_PI;\r\n    const radius = Math.sqrt(x * x + y * y);\r\n    return [angle, radius, energy];\r\n}\r\n\r\nexport function tonalVectorColor(pitches) {\r\n    const [angle, radius, energy] = tonality(pitches);\r\n\r\n    //const color = d3.color(d3.interpolateSinebow((angle+OFFSET)%1.0));\r\n    const color = d3.hsl(noteColor(angle));\r\n    const saturation = Math.min((radius * 3) / (energy * 12), 1); // 3 because chord usually minimally 3 tones\r\n    color.s = saturation;\r\n    return color.hex();\r\n}\r\n\r\nexport function loudness(db) {\r\n    const l = Math.max(0, 60 + db) / 60;\r\n    return l * l;\r\n}\r\n\r\nexport function logCompression(value, gamma = 1) {\r\n    return Math.log(1 + gamma * value) / Math.log(gamma);\r\n}\r\n","import * as audioUtil from \"./audioUtil\";\r\n\r\nexport default class Segment {\r\n    segment = null;\r\n    start = 0;\r\n    duration = 0;\r\n    loudness_start = 0;\r\n    loudness_max_time = 0;\r\n    loudness_max = 0;\r\n    loudness_end = 0;\r\n\r\n    pitches = [];\r\n    pitchesTransposed = [];\r\n    timbres = [];\r\n    timbresScaled = [];\r\n\r\n    cluster = -1;\r\n    tsneCoord = [0, 0];\r\n\r\n    tonalityAngle = 0; // [0,1] Angle of vector on circle of fifths\r\n    tonalityRadius = 0; // [0,1] Radius of vector on circle of fifths, low value means very dissonant or atonal\r\n    tonalityEnergy = 0; // [0,1] Total energy of all the pitches, high energy means lots of notes played at the same time\r\n\r\n    percussiony = 0; // [0,1] segments larger than .15\r\n\r\n    constructor(segment) {\r\n        this.segment = segment;\r\n        this.start = segment.start;\r\n        this.duration = segment.duration;\r\n        this.loudness_start = segment.loudness_start;\r\n        this.loudness_max = segment.loudness_max;\r\n        this.loudness_max_time = segment.loudness_max_time;\r\n        this.loudness_end = segment.loudness_end;\r\n    }\r\n\r\n    processedPitch = false;\r\n    processPitch() {\r\n        if (this.processedPitch) return;\r\n        if (this.processedPitchSmooth) throw Error(\"processed pitchSmooth before setting initial pitch\");\r\n        this.segment.pitches.forEach((pitch, i) => {\r\n            this.pitches.push(pitch); //audioUtil.logCompression(pitch, GAMMA));\r\n        });\r\n        [this.tonalityAngle, this.tonalityRadius, this.tonalityEnergy] = audioUtil.tonality(this.pitches);\r\n\r\n        const minDuration = 0.2;\r\n        const decay = 0.5;\r\n        const shortness = this.duration < minDuration ? 1 : decay - (this.duration - 0.15);\r\n        this.percussiony = Math.min(1, (1 - this.tonalityRadius) * this.tonalityEnergy * 2) * shortness;\r\n        this.calculateTransposedPitches();\r\n        this.processedPitch = true;\r\n    }\r\n\r\n    processedPitchSmooth = false;\r\n    processPitchSmooth(prevSegment, nextSegment) {\r\n        if (this.processedPitchSmooth) return;\r\n        if (!this.processedPitch) throw Error(\"processed pitchSmooth called before setting initial pitch\");\r\n\r\n        for (let p = 0; p < this.pitches.length; p++) {\r\n            this.pitches[p] =\r\n                (1 - this.percussiony) * this.pitches[p] +\r\n                (this.percussiony * (prevSegment.pitches[p] + nextSegment.pitches[p])) / 2;\r\n        }\r\n        this.processedPitchSmooth = true;\r\n    }\r\n\r\n    processedTimbre = false;\r\n    processTimbre(min, max, biggest, totalBiggest) {\r\n        if (this.processedTimbre) return;\r\n        this.segment.timbre.forEach((timbre, i) => {\r\n            this.timbres.push(timbre / totalBiggest);\r\n        });\r\n        this.segment.timbre.forEach((timbre, i) => {\r\n            this.timbresScaled.push(timbre / biggest[i]);\r\n        });\r\n        this.processedTimbre = true;\r\n    }\r\n\r\n    calculateTransposedPitches() {\r\n        for (let p = 0; p < 12; p++) {\r\n            this.pitchesTransposed.push(new Array(12));\r\n            for (let i = 0; i < 12; i++) {\r\n                this.pitchesTransposed[p][i] = this.pitches[(i + p) % 12];\r\n            }\r\n        }\r\n    }\r\n\r\n    getPitches() {\r\n        return this.pitches;\r\n    }\r\n    getTimbres() {\r\n        return this.timbres;\r\n    }\r\n    getDuration() {\r\n        return this.duration_ms;\r\n    }\r\n    getStart() {\r\n        return this.start;\r\n    }\r\n    getOriginalTimbres() {\r\n        return this.segment.timbre;\r\n    }\r\n    getFeatures() {\r\n        return this.pitches.concat(this.timbres);\r\n    }\r\n    setCluster(i) {\r\n        this.cluster = i;\r\n    }\r\n    setTSNECoord(coord) {\r\n        this.tsneCoord = coord;\r\n    }\r\n    getTonalEnergy() {\r\n        return this.tonalityEnergy;\r\n    }\r\n    getTonalAngle() {\r\n        return this.tonalityAngle;\r\n    }\r\n    getLoudnessFeatures() {\r\n        return [\r\n            audioUtil.loudness(this.loudness_start),\r\n            audioUtil.loudness(this.loudness_max),\r\n            this.loudness_max_time,\r\n            audioUtil.loudness(this.loudness_end),\r\n        ];\r\n    }\r\n}\r\n","export const measures = {\r\n    EUCLIDIAN: \"euclidian\",\r\n    MANHATTAN: \"manhattan\",\r\n    COSINE: \"cosine\",\r\n};\r\n\r\nexport function cosine(a, b) {\r\n    var adotv = 0;\r\n    var amag = 0;\r\n    var bmag = 0;\r\n    for (var i = 0; i < a.length; i++) {\r\n        adotv += a[i] * b[i];\r\n        amag += a[i] * a[i];\r\n        bmag += b[i] * b[i];\r\n    }\r\n    amag = Math.sqrt(amag);\r\n    bmag = Math.sqrt(bmag);\r\n    return adotv / (amag * bmag);\r\n}\r\n\r\nexport function manhattanDistance(a, b) {\r\n    let dist = 0;\r\n    for (let i = 0; i < a.length; i++) {\r\n        dist += Math.abs(a[i] - b[i]);\r\n    }\r\n    return dist;\r\n}\r\n// Manhattan distance scaled back to [0,1]\r\nexport function manhattan(a, b, range) {\r\n    return 1 - this.manhattanDistance(a, b) / range;\r\n}\r\n\r\nexport function euclidianDistance(a, b) {\r\n    return Math.sqrt(squaredDistance(a, b));\r\n}\r\nexport function maxEuclidianDistance(length, range) {\r\n    return Math.sqrt(range * range * length);\r\n}\r\nexport function euclidian(a, b, maxDist) {\r\n    return 1 - euclidianDistance(a, b) / maxDist;\r\n}\r\n\r\nexport function squaredDistance(a, b) {\r\n    let dist = 0;\r\n    for (let i = 0; i < a.length; i++) {\r\n        const diff = a[i] - b[i];\r\n        dist += diff * diff;\r\n    }\r\n    return dist;\r\n}\r\n","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./tsneWorker'\r\n\r\nlet worker\r\nlet promiseWorker\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\nconst init = () => {  \r\n    worker = new Worker({ synchronizedStdio: false });\r\n    promiseWorker = new PWBHost(worker)\r\n}\r\n\r\nexport default {\r\n    init,\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./ssmWorker'\r\n\r\nlet worker\r\nlet promiseWorker\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\nconst init = () => {\r\n    worker = new Worker({ synchronizedStdio: false });\r\n    promiseWorker = new PWBHost(worker)\r\n}\r\nexport default {\r\n    init,\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","import { PWBHost } from \"promise-worker-bi\";\r\nimport Worker from 'worker-loader!./clusterWorker'\r\n\r\nlet worker\r\nlet promiseWorker\r\n\r\nconst send = message => promiseWorker.postMessage({type: 'message', message})\r\nconst receive = callback => promiseWorker.register(callback);\r\nconst terminate = () =>{worker.terminate(); worker = new Worker(); promiseWorker = new PWBHost(worker);} \r\n\r\nconst init = () => {\r\n    worker = new Worker({ synchronizedStdio: false });\r\n    promiseWorker = new PWBHost(worker)\r\n}\r\n\r\nexport default {\r\n    init,\r\n    send,\r\n    receive,\r\n    terminate,\r\n}","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/tsneWorker.2a61cec0.worker.js\");\n}\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/ssmWorker.e9d1c040.worker.js\");\n}\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/clusterWorker.7a2f486b.worker.js\");\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Track from '../app/Track'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: Object,\n    trackList: [],\n    selectedIndex: -1,\n    seeker: 0,\n    playerState: null,\n    loadingTrack: true,\n    playerReady: false,\n    playing: false,\n    // For every worker we need a global ready variable\n    tsneReady: false,\n    ssmReady: false,\n    clusterReady: false,\n\n  },\n  mutations: {\n    setSeeker(state, time_ms){\n      state.seeker = time_ms;\n    },\n    setUser(state, user){\n      console.log(\"setting user to\", user);\n      state.user = user;\n    },\n    setPlayerState(state, playerState){\n      state.playerState = playerState;\n    },\n    loadingTrack(state, loadingTrack){\n      state.loadingTrack = loadingTrack;\n    },\n    playerReady(state, playerReady){\n      state.playerReady = playerReady\n    },\n    addToTrackList(state, track){\n      state.trackList.push(track);\n    },\n    addToTrackListIndex(state, index, track){\n      state.trackList.splice(index, 0, track);\n    },\n    addToTrackListFront(state, track){\n      state.trackList.unshift(track);\n    },\n    clearTrackList(state){\n      state.trackList = [];\n    },\n    setSelectedIndex(state, index){\n      state.selectedIndex = index;\n    },\n    setPlaying(state, playing){\n      state.playing = playing;\n    },\n    incrementSeeker(state, increment){\n      state.seeker += increment;\n    },\n    tsneReady(state, ready){\n      state.tsneReady = ready;\n    },\n    clusterReady(state, ready){\n      state.clusterReady = ready;\n    },\n    ssmReady(state, ready){\n      state.ssmReady = ready;\n    }\n  },\n  actions: {\n\n  },\n  getters: {\n    seeker(state){\n      return state.seeker;\n    },\n    selectedIndex(state){\n      return state.selectedIndex;\n    },\n    selectedTrack(state){\n      return state.trackList[state.selectedIndex];\n    },\n    user(state) {\n      return state.user;\n    },\n    track(state, id) {\n      return state.trackList[id];\n    },\n    trackList(state){\n      return state.trackList;\n    },\n    playerState(state){\n      return state.playerState;\n    },\n    playing(state){\n      return state.playing;\n    },\n    tsneReady(state){\n      return state.tsneReady;\n    },\n    clusterReady(state){\n      return state.clusterReady;\n    },\n    ssmReady(state){\n      return state.ssmReady;\n    }\n  },\n  modules: {\n  }\n})\n","export default class Features {\r\n    timbreMax = new Array(12).fill(0);\r\n    timbreMin = new Array(12).fill(0);\r\n    timbreBiggest = new Array(12).fill(0);\r\n    timbreTotalBiggest = 0;\r\n\r\n    segments;\r\n    raw = { pitches: [], timbres: [], loudness: [] };\r\n    processed = { pitches: [], timbres: [], loudness: [], tonalEnergy: [], tonalRadius: [], tonalAngle: [] };\r\n\r\n    clusterSelection = [];\r\n    tsneSelection = [];\r\n\r\n    sampleDuration = 0;\r\n    sampleAmount = 0;\r\n    sampled = {};\r\n\r\n    constructor(segments, sampleRate, duration) {\r\n        this.segments = segments;\r\n        this.sampleDuration = 1 / sampleRate;\r\n        this.duration = duration;\r\n        this.sampleAmount = Math.ceil(duration / sampleRate);\r\n        console.log(\"Sample amount:\", this.sampleAmount);\r\n        this.calculateMaxMin();\r\n        this.processSegments();\r\n        this.sampleFeatures();\r\n    }\r\n\r\n    /**\r\n     * The values calculated in this function are used to scale the raw features\r\n     */\r\n    calculateMaxMin() {\r\n        this.segments.forEach((segment, index) => {\r\n            for (let i = 0; i < 12; i++) {\r\n                this.timbreMax[i] = Math.max(this.timbreMax[i], segment.getOriginalTimbres()[i]);\r\n                this.timbreMin[i] = Math.min(this.timbreMin[i], segment.getOriginalTimbres()[i]);\r\n            }\r\n        });\r\n        for (let i = 0; i < 12; i++) {\r\n            this.timbreBiggest[i] = Math.max(Math.abs(this.timbreMax[i]), Math.abs(this.timbreMin[i]));\r\n            this.timbreTotalBiggest = Math.max(this.timbreTotalBiggest, this.timbreBiggest[i]);\r\n        }\r\n    }\r\n\r\n    processSegments() {\r\n        this.segments.forEach((s, i) => {\r\n            this.raw.pitches = s.segment.pitches;\r\n            this.raw.timbres = s.segment.timbres;\r\n            this.raw.loudness = s.getLoudnessFeatures();\r\n            s.processPitch();\r\n            s.processTimbre(this.timbreMin, this.timbreMax, this.timbreBiggest, this.timbreTotalBiggest);\r\n            this.processed.pitches.push(s.pitches);\r\n            this.processed.timbres.push(s.timbres);\r\n            this.processed.tonalEnergy.push(s.tonalityEnergy);\r\n            this.processed.tonalRadius.push(s.tonalityRadius);\r\n            this.processed.tonalAngle.push(s.tonalityAngle);\r\n            this.processed.loudness.push(s.getLoudnessFeatures());\r\n        });\r\n\r\n        for (let i = 0; i < this.segments.length; i++) {\r\n            // Try to remove percussion from pitch features\r\n            if (i > 0 && i < this.segments.length - 1) {\r\n                this.segments[i].processPitchSmooth(this.segments[i - 1], this.segments[i + 1]);\r\n            }\r\n\r\n            // Create feature selections\r\n            this.clusterSelection.push([\r\n                ...this.processed.timbres[i],\r\n                this.processed.tonalEnergy[i],\r\n                this.processed.tonalRadius[i],\r\n                ...this.processed.loudness[i],\r\n            ]);\r\n            this.tsneSelection.push([\r\n                ...this.processed.timbres[i],\r\n                this.processed.tonalEnergy[i],\r\n                this.processed.tonalRadius[i],\r\n                ...this.processed.loudness[i],\r\n            ]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Turn processed features into evenly discretized features int\r\n     */\r\n    sampleFeatures() {\r\n        console.log(\"sampling features\");\r\n        let sample = 0;\r\n        let timeLeft = this.sampleDuration;\r\n        // moving to next sample\r\n        this.initSampleFeatures();\r\n        for (let i = 0; i < this.segments.length; i++) {\r\n            const segment = this.segments[i];\r\n            let duration = segment.duration;\r\n\r\n            this.addFeaturesScaled(sample, i, duration);\r\n\r\n            if (duration > timeLeft) {\r\n                // Add remaining segment and divide\r\n                this.addFeaturesScaled(sample, i, timeLeft);\r\n                this.divideFeatures(sample, this.sampleDuration - timeLeft);\r\n\r\n                // If we reached the end of all samples we quit\r\n                if (sample + 1 >= this.sampleAmount) {\r\n                    break;\r\n                }\r\n                // Start next sample with remaining segment, and subtract remaining segment duration from timeLeft\r\n\r\n                sample++;\r\n                const remainingSegmentDuration = duration - timeLeft;\r\n                this.addFeaturesScaled(sample, i, remainingSegmentDuration);\r\n                timeLeft = this.sampleDuration - remainingSegmentDuration;\r\n            } else {\r\n                // If the segment fits in the sample\r\n                this.setFeaturesScaled(sample, i, duration);\r\n                timeLeft -= duration;\r\n            }\r\n        }\r\n\r\n        this.divideFeatures(sample, this.sampleDuration - timeLeft);\r\n    }\r\n\r\n    initSampleFeatures() {\r\n        for (const featureName in this.processed) {\r\n            this.sampled[featureName] = new Array(this.sampleAmount).fill(0);\r\n            if (this.processed[featureName][0].length) {\r\n                for (let s = 0; s < this.sampleAmount; s++) {\r\n                    this.sampled[featureName][s] = new Array(this.processed[featureName][0].length).fill(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setFeaturesScaled(sample, index, scalar) {\r\n        for (const featureName in this.processed) {\r\n            if (this.processed[featureName][sample].length) {\r\n                for (let i = 0; i < this.processed[featureName][sample].length; i++) {\r\n                    this.sampled[featureName][sample][i] = this.processed[featureName][index][i] * scalar;\r\n                }\r\n            } else {\r\n                this.sampled[featureName][sample] = this.processed[featureName][index] * scalar;\r\n            }\r\n        }\r\n    }\r\n\r\n    addFeaturesScaled(sample, index, scalar) {\r\n        for (const featureName in this.processed) {\r\n            if (this.processed[featureName][sample].length) {\r\n                for (let i = 0; i < this.processed[featureName][sample].length; i++) {\r\n                    this.sampled[featureName][sample][i] += this.processed[featureName][index][i] * scalar;\r\n                }\r\n            } else {\r\n                this.sampled[featureName][sample] += this.processed[featureName][index] * scalar;\r\n            }\r\n        }\r\n    }\r\n\r\n    divideFeatures(sample, divisor) {\r\n        for (const featureName in this.sampled) {\r\n            if (this.sampled[featureName][sample].length) {\r\n                for (let i = 0; i < this.sampled[featureName][sample].length; i++) {\r\n                    this.sampled[featureName][sample][i] /= divisor;\r\n                }\r\n            } else {\r\n                this.sampled[featureName][sample] /= divisor;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import Segment from \"./Segment\";\r\nimport * as sim from \"./similarity\";\r\nimport tsneWorker from \"./workers/tsneWorker\";\r\nimport ssmWorker from \"./workers/ssmWorker\";\r\nimport clusterWorker from \"./workers/clusterWorker\";\r\nimport store from \"../store\";\r\nimport Features from \"./Features\";\r\n\r\nconst GAMMA = 1.7;\r\nconst CLUSTERAMOUNT = 10;\r\nconst sampleRate = 1; // 1 sample per second\r\nexport default class Track {\r\n    trackData = null;\r\n    analysisData = null;\r\n    segments = [];\r\n    ssm = null;\r\n\r\n    features;\r\n\r\n    processed = false;\r\n\r\n    clusters = new Array(CLUSTERAMOUNT).fill([]);\r\n\r\n    process() {\r\n        this.createSegmentObjects(); // create extended objects holding more info\r\n        this.features = new Features(this.segments, 1, this.getAnalysisDuration());\r\n\r\n        this.tsne();\r\n        this.cluster();\r\n        this.calculateSSM();\r\n        this.processed = true;\r\n    }\r\n\r\n    createSegmentObjects() {\r\n        console.log(\"Creating segmentObjects\");\r\n        this.analysisData.segments.forEach((segment) => {\r\n            this.segments.push(new Segment(segment));\r\n        });\r\n        console.log(\"Created segmentObjects\");\r\n    }\r\n\r\n    /**\r\n     * Self similarity matrix, takes a few seconds so async is needed\r\n     */\r\n    calculateSSM() {\r\n        console.log(\"starting SSMWorker\");\r\n        store.commit(\"ssmReady\", false);\r\n        ssmWorker.terminate();\r\n        const self = this;\r\n        ssmWorker.send({ segmentObjects: this.segments, timeStamp: new Date() }).then((result) => {\r\n            self.ssm = result;\r\n            store.commit(\"ssmReady\", true);\r\n            console.log(\"ssm Done\");\r\n        });\r\n    }\r\n\r\n    cluster() {\r\n        console.log(\"starting Clusterworker\");\r\n        clusterWorker.terminate();\r\n        clusterWorker.send({ features: this.features.clusterSelection, minK: 2, maxK: 10, tries: 4 }).then((result) => {\r\n            this.updateClusters(result);\r\n            console.log(\"clustering done\");\r\n        });\r\n    }\r\n    updateClusters(clusterIndexes) {\r\n        store.commit(\"clusterReady\", false);\r\n        clusterIndexes.forEach((cluster, index) => {\r\n            this.segments[index].setCluster(cluster);\r\n            this.clusters[cluster].push(this.segments[index]);\r\n        });\r\n        window.setTimeout(store.commit(\"clusterReady\", true), 1);\r\n    }\r\n\r\n    tsne() {\r\n        console.log(\"starting tsneWorker\");\r\n        tsneWorker.terminate();\r\n        tsneWorker.send({ features: this.features.tsneSelection }).then((result) => {\r\n            this.updateTSNECoords(result);\r\n        });\r\n\r\n        tsneWorker.receive((result) => {\r\n            this.updateTSNECoords(result);\r\n        });\r\n    }\r\n    //updateAmountPer100ms = 100;\r\n    updateTSNECoords(coords) {\r\n        store.commit(\"tsneReady\", false);\r\n        for (let i = 0; i < this.segments.length; i++) {\r\n            this.segments[i].setTSNECoord(coords[i]);\r\n        }\r\n        window.setTimeout(store.commit(\"tsneReady\", true), 1);\r\n    }\r\n\r\n    getClosestSegment(coord) {\r\n        let minDist = Infinity;\r\n        let closestSegment = null;\r\n        this.segments.forEach((segment) => {\r\n            const dist = sim.euclidianDistance(coord, segment.tsneCoord);\r\n            if (dist < minDist) {\r\n                minDist = dist;\r\n                closestSegment = segment;\r\n            }\r\n        });\r\n        return closestSegment;\r\n    }\r\n\r\n    constructor(trackData) {\r\n        this.trackData = trackData;\r\n    }\r\n    static createWithAnalysis(trackData, analysisData) {\r\n        const track = new Track(trackData);\r\n        track.setAnalysis(analysisData);\r\n        return track;\r\n    }\r\n\r\n    static fromJSON(json) {\r\n        return this.createWithAnalysis(json.trackData, json.analysisData);\r\n    }\r\n\r\n    // Works with JSON.stringify!\r\n    toJSON() {\r\n        return {\r\n            trackData: this.trackData,\r\n            analysisData: this.analysisData,\r\n        };\r\n    }\r\n\r\n    getId() {\r\n        return this.trackData.id;\r\n    }\r\n    hasAnalysis() {\r\n        return this.analysisData !== null && this.segments.length > 0;\r\n    }\r\n    getAnalysis() {\r\n        return this.analysisData;\r\n    }\r\n    setAnalysis(analysis) {\r\n        if (!this.processed) {\r\n            this.analysisData = analysis;\r\n            console.log(\"processing\");\r\n            this.process();\r\n            console.log(\"processed\");\r\n        }\r\n    }\r\n    getName() {\r\n        return this.trackData.name;\r\n    }\r\n    getArtist() {\r\n        return this.trackData.artist;\r\n    }\r\n    getUri() {\r\n        return this.trackData.uri;\r\n    }\r\n    getSegments() {\r\n        return this.segments;\r\n    }\r\n    getSegment(i) {\r\n        return this.segments[i];\r\n    }\r\n    getSSM() {\r\n        return this.ssm;\r\n    }\r\n    getSSMValue(i, j) {\r\n        return this.ssm[i][i - j];\r\n    }\r\n    getBars() {\r\n        return this.analysisData.bars;\r\n    }\r\n    getBeats() {\r\n        return this.analysisData.beats;\r\n    }\r\n    getTatums() {\r\n        return this.analysisData.tatums;\r\n    }\r\n    getProcessedPitch(i) {\r\n        return this.segments[i].getPitches();\r\n    }\r\n    getProcessedPitches() {\r\n        return this.segments.map((segment) => segment.getPitches());\r\n    }\r\n    getProcessedTimbre(i) {\r\n        return this.segments[i].getTimbres();\r\n    }\r\n    getProcessedTimbres() {\r\n        return this.segments.map((segment) => segment.getTimbres());\r\n    }\r\n    getAnalysisDuration() {\r\n        return this.analysisData.track.duration;\r\n    }\r\n\r\n    static initWorkers() {\r\n        tsneWorker.init();\r\n        ssmWorker.init();\r\n        clusterWorker.init();\r\n    }\r\n}\r\n","import * as SpotifyWebApi from \"spotify-web-api-js\";\r\nimport * as auth from \"./authentication\";\r\nimport Track from \"./Track\";\r\nimport store from \"./../store\"; // path to your Vuex store\r\nimport router from \"../router\";\r\n\r\nexport const spotify = new SpotifyWebApi();\r\n\r\nconst allTracks = new Map();\r\n\r\n// Initialize spotify access, load tracks from local storage, get user data\r\nexport async function initialize() {\r\n    Track.initWorkers();\r\n    //loadAllTracks();\r\n    console.log(\"Got tracks from local storage: \", allTracks);\r\n\r\n    spotify.setAccessToken(auth.token);\r\n    spotify\r\n        .getMe()\r\n        .then((data) => {\r\n            store.commit(\"setUser\", data);\r\n        })\r\n        .catch((err) => {\r\n            router.push(\"/\");\r\n        });\r\n    spotify\r\n        .getMyTopTracks({ limit: 50, offset: 0 })\r\n        .then((tracks) => {\r\n            loadTracksFromSpotify(tracks.items, false);\r\n            selectTrackAtIndex(0);\r\n        })\r\n        .catch((err) => console.log(err));\r\n}\r\n\r\nexport async function selectTrackAtIndex(index) {\r\n    store.commit(\"loadingTrack\", true);\r\n    store.commit(\"tsneReady\", false);\r\n    store.commit(\"clusterReady\", false);\r\n    store.commit(\"ssmReady\", false);\r\n    return getAnalysis(store.getters.trackList[index]).then(() => {\r\n        console.log(\"Getting analysis and everything done, now setting selected index\");\r\n        store.commit(\"loadingTrack\", false);\r\n        store.commit(\"setSelectedIndex\", index);\r\n    });\r\n}\r\n\r\n// Save tracks to local storage\r\nexport function saveAllTracks() {\r\n    localStorage.allTracks = JSON.stringify(Array.from(allTracks.entries()));\r\n}\r\n\r\n// Save tracks to local storage\r\nexport function loadAllTracks() {\r\n    if (localStorage.allTracks) {\r\n        const allTracksArray = JSON.parse(localStorage.allTracks);\r\n        allTracksArray.forEach((trackArray) => {\r\n            const track = Track.createWithAnalysis(trackArray[1].trackData, trackArray[1].analysisData);\r\n            allTracks.set(trackArray[0], track);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Load tracks from spotify api result\r\n */\r\n\r\nfunction loadTracksFromSpotify(tracks, keepCurrentTrack) {\r\n    const selectedTrack = store.getters.selectedTrack;\r\n    store.commit(\"clearTrackList\");\r\n    tracks.forEach((trackData) => {\r\n        if (allTracks.has(trackData.id)) {\r\n            store.commit(\"addToTrackList\", allTracks.get(trackData.id));\r\n        } else {\r\n            const track = new Track(trackData);\r\n            allTracks.set(trackData.id, track);\r\n            store.commit(\"addToTrackList\", track);\r\n        }\r\n    });\r\n    if (keepCurrentTrack) {\r\n        store.commit(\"addToTrackListFront\", selectedTrack);\r\n        store.commit(\"setSelectedIndex\", 0);\r\n    } else {\r\n        selectTrackAtIndex(0);\r\n    }\r\n}\r\n\r\nexport async function getAnalysis(track) {\r\n    if (track.hasAnalysis()) return track.getAnalysis();\r\n    return spotify\r\n        .getAudioAnalysisForTrack(track.getId())\r\n        .then((analysis) => {\r\n            console.log(\"Got analysis from api\");\r\n            track.setAnalysis(analysis);\r\n            console.log(\"Track has done everything with analysis\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n\r\nexport async function search(query) {\r\n    spotify\r\n        .search(query, [\"track\"])\r\n        .then((results) => {\r\n            loadTracksFromSpotify(results.tracks.items, true);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n}\r\n","<template>\r\n    <div>\r\n        <v-slide-group\r\n            v-model=\"selected\"\r\n            center-active\r\n            class=\"pt-2\"\r\n            v-on:scroll.native=\"onScroll\"\r\n            mandatory\r\n        >\r\n            <v-slide-item\r\n                v-for=\"(track, index) in tracks\"\r\n                :key=\"index\"\r\n                v-slot:default=\"{ active, toggle }\"\r\n                class=\"mx-2 my-1\"\r\n            >\r\n                <Album :album=\"track.trackData\" :imgSize=\"active ? albumSize*1.5 : albumSize\" :active=\"active\" @clicked=\"toggle\"/>\r\n            </v-slide-item>\r\n        </v-slide-group>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Album from \"../components/Album\"\r\nimport * as app from \"../app/app\"\r\n\r\nexport default {\r\n  name: 'TrackSelector',\r\n  props: [\r\n      'tracks',\r\n      'albumSize'\r\n  ],\r\n  components: {\r\n      Album\r\n  },\r\n  data(){\r\n      return {\r\n          selected: 0,\r\n      }\r\n  },\r\n  computed:{\r\n      selectedFromStore(){\r\n          return this.$store.getters.selectedIndex;\r\n      }\r\n  },\r\n  watch: {\r\n      selected: 'selectedChanged',\r\n      selectedFromStore: 'selectedFromStoreChanged'\r\n  },\r\n  mounted () {\r\n  },\r\n  methods:{\r\n        selectedChanged(newIndex, oldIndex){\r\n            app.selectTrackAtIndex(newIndex);\r\n        },\r\n        selectedFromStoreChanged(newIndex, oldIndex){\r\n            this.selected = newIndex;\r\n        }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackSelector.vue?vue&type=template&id=55b03592&\"\nimport script from \"./TrackSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlideGroup } from 'vuetify/lib/components/VSlideGroup';\nimport { VSlideItem } from 'vuetify/lib/components/VSlideGroup';\ninstallComponents(component, {VSlideGroup,VSlideItem})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex pa-2\"},[_c('v-row',[_c('v-layout',{staticClass:\"ml-10\"},[_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Raw Pitch Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawPitch.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawPitch, \"draw\", $$v)},expression:\"canvasVis.rawPitch.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Raw Timbre Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawTimbre.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawTimbre, \"draw\", $$v)},expression:\"canvasVis.rawTimbre.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Rhythm Data\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.rawRhythm.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.rawRhythm, \"draw\", $$v)},expression:\"canvasVis.rawRhythm.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Tonality\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.tonality.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.tonality, \"draw\", $$v)},expression:\"canvasVis.tonality.draw\"}}),_c('v-switch',{staticClass:\"mx-5\",attrs:{\"label\":\"Similarity Matrix\",\"hide-details\":\"\"},model:{value:(_vm.canvasVis.ssm.draw),callback:function ($$v) {_vm.$set(_vm.canvasVis.ssm, \"draw\", $$v)},expression:\"canvasVis.ssm.draw\"}})],1),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-10\",attrs:{\"color\":\"primary\",\"fab\":\"\",\"dark\":\"\",\"small\":\"\"},on:{\"click\":_vm.zoom}},[_c('v-icon',[_vm._v(\"mdi-magnify-plus-outline\")])],1)],1)],1),_c('div',{staticClass:\"vis\",on:{\"click\":_vm.clickedVis}},[(!_vm.loadingTrack)?_c('svg',{staticClass:\"visSeeker\"},[_c('rect',{attrs:{\"x\":this.zoomed ? this.padding + this.canvasWidth / 2 : _vm.padding + (this.seeker / 1000.0) * _vm.scale - 1,\"y\":0,\"width\":2,\"height\":_vm.canvasHeight,\"fill\":\"#ffffff\",\"opacity\":0.5}})]):_vm._e(),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loadingTrack),expression:\"!loadingTrack\"}],ref:\"visCanvas\",staticClass:\"visCanvas pa-0 ma-0\",attrs:{\"id\":\"visCanvas\"}}),_c('canvas',{staticClass:\"visCanvas pa-0 ma-0\",attrs:{\"id\":\"gl-canvas\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { spotify } from '../app/app';\r\nimport store from \"../store\";\r\n\r\nexport let deviceId = null;\r\nlet playerRef;\r\nlet trackIsLoaded = false;\r\nlet currentTrackURI = \"\";\r\nlet nextTrackURI = \"\";\r\nlet nexStartPosition = 0;\r\nlet playingSegment = null;\r\nexport async function setTrack(trackUri, startPosition) {\r\n    nextTrackURI = trackUri;\r\n    nexStartPosition = startPosition;\r\n}\r\n\r\nexport async function resume(position) {\r\n    if (deviceId) {\r\n        if (trackIsLoaded && nextTrackURI === \"\") {\r\n            seek(position);\r\n            return playerRef.resume().then(() => {\r\n                store.commit('setPlaying', true)\r\n            }).catch((err) => { console.log(err) });\r\n        } else { // Start new track\r\n            return spotify.play({ device_id: deviceId, uris: [nextTrackURI], position_ms: position || nexStartPosition }).then(() => {\r\n                trackIsLoaded = true;\r\n                currentTrackURI = nextTrackURI;\r\n                nextTrackURI = \"\";\r\n                nexStartPosition = 0;\r\n                store.commit('setPlaying', true)\r\n            }).catch((err) => { console.log(err) });\r\n        }\r\n    }\r\n}\r\n\r\nexport async function pause() {\r\n    if (deviceId && trackIsLoaded) {\r\n        return playerRef.pause().then(() => {\r\n            store.commit('setPlaying', false)\r\n        }).catch((err) => { console.log(err) });\r\n    }\r\n}\r\n\r\nexport async function seek(time) {\r\n    if (deviceId && trackIsLoaded) {\r\n        return playerRef.seek(time).catch((err) => { console.log(err) })\r\n    }\r\n}\r\n\r\nexport async function playSegment(segment) {\r\n    console.log(\"playing segment\", segment)\r\n    resume(segment.start * 1000).then(() => {\r\n        playingSegment = segment;\r\n        window.setTimeout(() => {\r\n            if(playingSegment === segment){\r\n                pause();\r\n            }\r\n        }, segment.duration * 1000)\r\n    });\r\n}\r\n\r\nexport async function deviceIdSet() {\r\n    return new Promise((resolve, reject) => {\r\n        let timeWas = new Date();\r\n        let wait = setInterval(function () {\r\n            if (deviceId !== null) {\r\n                console.log(\"resolved after\", new Date() - timeWas, \"ms\");\r\n                clearInterval(wait);\r\n                resolve();\r\n            } else if (new Date() - timeWas > 10000) { // Timeout\r\n                console.log(\"rejected after\", new Date() - timeWas, \"ms\");\r\n                clearInterval(wait);\r\n                reject();\r\n            }\r\n        }, 20);\r\n    });\r\n}\r\n\r\nexport function setVolume(volume) {\r\n    if (playerRef) {\r\n        playerRef.setVolume(volume);\r\n    }\r\n}\r\n\r\nasync function waitForSpotifyWebPlaybackSDKToLoad() {\r\n    console.log(\"waiting\");\r\n    return new Promise(resolve => {\r\n        if (window.Spotify) {\r\n            resolve(window.Spotify);\r\n        } else {\r\n            window.onSpotifyWebPlaybackSDKReady = () => {\r\n                resolve(window.Spotify);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\nexport async function initialize(token, stateChangedCallback) {\r\n    waitForSpotifyWebPlaybackSDKToLoad().then(() => {\r\n        playerRef = new window.Spotify.Player({\r\n            name: 'Music Structure Visualizer',\r\n            getOAuthToken: cb => { cb(token); },\r\n            volume: 0.5,\r\n        });\r\n    \r\n        // Error handling\r\n        playerRef.addListener('initialization_error', ({ message }) => { console.error(message); });\r\n        playerRef.addListener('authentication_error', ({ message }) => { console.error(message); });\r\n        playerRef.addListener('account_error', ({ message }) => { console.error(message); });\r\n        playerRef.addListener('playback_error', ({ message }) => { console.error(message); });\r\n        // Playback status updates\r\n        playerRef.addListener('player_state_changed', ({\r\n            position,\r\n            duration,\r\n            track_window: { current_track }\r\n        }) => {\r\n            stateChangedCallback({ current_track, position, duration });\r\n        });\r\n    \r\n        // Ready\r\n        playerRef.addListener('ready', ({ device_id }) => {\r\n            deviceId = device_id;\r\n            console.log('Ready with Device ID', device_id);\r\n        });\r\n    \r\n        // Not Ready\r\n        playerRef.addListener('not_ready', ({ device_id }) => {\r\n            console.log('Device ID has gone offline', device_id);\r\n        });\r\n    \r\n        // Connect to the player!\r\n        playerRef.connect().then(() => {\r\n            console.log(\"Connected succesfully!!!\");\r\n        }).catch((err) => {\r\n            console.log(\"Could not connect\");\r\n        })\r\n    })\r\n\r\n}\r\n","import * as d3 from 'd3';\r\nimport * as audioUtil from './audioUtil'\r\n\r\nexport const zeroOneColor = d3.scaleSequential().domain([0,1]).interpolator(d3.interpolateViridis);\r\nexport const pitchColor = zeroOneColor;\r\nexport const greyScaleColor = d3.scaleSequential().domain([1,0]).interpolator(d3.interpolateGreys);\r\nexport const timbreColor = d3.scaleSequential().domain([-1,1]).interpolator(d3.interpolateViridis);\r\nexport const rainbowColor = d3.scaleSequential().domain([0, 11]).interpolator(d3.interpolateRainbow);\r\nexport const diverging = d3.scaleDiverging().domain([-1, 0, 1]).interpolator(d3.interpolateRdBu);\r\n\r\nexport function renderRawPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = pitchColor(segment.segment.pitches[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\n\r\nexport function renderPercussionPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment, segmentIndex)=>{\r\n        const x=left+segment.start*scale;\r\n        const segmentHeight=height/3-2;\r\n        let y=yOffset+0*(segmentHeight+2);\r\n        const segmentWidth=segment.duration*scale; \r\n        ctx.fillStyle = pitchColor(segment.tonalityEnergy*2-.5);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        y=yOffset+1*(segmentHeight+2);\r\n        ctx.fillStyle = pitchColor(1-segment.tonalityRadius);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        y=yOffset+2*(segmentHeight+2);\r\n        ctx.fillStyle = segment.duration > 0.15 ? pitchColor(0) : pitchColor(segment.percussiony);\r\n        ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n    })\r\n}\r\n\r\nexport function renderProcessedPitch(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = pitchColor(segment.pitches[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\nexport function renderRawTimbre(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment, segmentIndex)=>{\r\n        for(let i = 0; i < 12; i++){\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height/12-2;\r\n            const y=yOffset+(11-i)*(segmentHeight+2);\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = diverging(track.getProcessedTimbre(segmentIndex)[i]);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n        }\r\n    })\r\n}\r\n\r\nexport function renderRawRhythm(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getBars().forEach((bar)=>{\r\n        const x=left+bar.start*scale;\r\n        const y=yOffset;\r\n        ctx.fillStyle = greyScaleColor(0.3+bar.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n    track.getBeats().forEach((beat)=>{\r\n        const x=left+beat.start*scale;\r\n        const y=yOffset+height/3;\r\n        ctx.fillStyle = greyScaleColor(0.3+beat.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n    track.getTatums().forEach((tatum)=>{\r\n        const x=left+tatum.start*scale;\r\n        const y=yOffset + height/3*2;\r\n        ctx.fillStyle = greyScaleColor(0.3+tatum.confidence);\r\n        ctx.fillRect(x, y, 1, height/3);\r\n    });\r\n}\r\n\r\nexport function renderTonality(track, left, width, yOffset, height, ctx){\r\n    const scale = width/track.getAnalysis().track.duration;\r\n    track.getSegments().forEach((segment)=>{\r\n            const x=left+segment.start*scale;\r\n            const segmentHeight=height;\r\n            const y=yOffset;\r\n            const segmentWidth=segment.duration*scale; \r\n            ctx.fillStyle = audioUtil.tonalVectorColor(segment.pitches);\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n    })\r\n}\r\n\r\n\r\n\r\nexport function renderSSM(track, left, width, yOffset, height, ctx){\r\n    console.log(\"Rendering ssm...\")\r\n    const scale = height/track.getAnalysis().track.duration;\r\n    const size = track.getSegments().length;\r\n    for(let i = 0; i < size; i++){\r\n        for(let j = i; j < size; j++){\r\n            const segmentA = track.getSegment(i)\r\n            const segmentB = track.getSegment(j)\r\n\r\n            const pitch = track.getSSM()[i][j-i][0];\r\n\r\n            ctx.fillStyle = greyScaleColor(Math.pow(pitch,4));\r\n\r\n            const x=left+segmentA.start*scale;\r\n            const segmentWidth=segmentA.duration*scale; \r\n\r\n            const y=yOffset+segmentB.start*scale;\r\n            const segmentHeight=segmentB.duration*scale;\r\n            if(!segmentHeight){\r\n                return;\r\n            }\r\n            ctx.fillRect(x, y, segmentWidth, segmentHeight);\r\n\r\n            const timbre = track.getSSM()[i][j-i][1];\r\n\r\n            ctx.fillStyle = greyScaleColor(Math.pow(timbre,5));\r\n            ctx.fillRect(y+left-yOffset, x-left+yOffset, segmentHeight, segmentWidth);\r\n        }\r\n    }\r\n}","let gl;\r\nlet program;\r\nlet bufferSize = 0;\r\nexport function init(canvas) {\r\n    gl = canvas.getContext(\"webgl2\");\r\n\r\n    if (!gl) {\r\n        console.log(\"WebGL not supported, falling back on experimental WebGL\");\r\n        gl = canvas.getContext(\"experimental-webgl2\");\r\n        if (!gl) alert(\"Your browser does not support WebGL\");\r\n    }\r\n\r\n    gl.clearColor(0.2, 0.2, 0.2, 1.0);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    let vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n    let fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\r\n    gl.shaderSource(vertexShader, vertexShaderText);\r\n    gl.shaderSource(fragmentShader, fragmentShaderText);\r\n\r\n    gl.compileShader(vertexShader);\r\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\r\n        console.error(\"ERROR compiling vertex shader!\", gl.getShaderInfoLog(vertexShader));\r\n        return;\r\n    }\r\n    gl.compileShader(fragmentShader);\r\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\r\n        console.error(\"ERROR compiling fragment shader!\", gl.getShaderInfoLog(fragmentShader));\r\n        return;\r\n    }\r\n\r\n    program = gl.createProgram();\r\n    gl.attachShader(program, vertexShader);\r\n    gl.attachShader(program, fragmentShader);\r\n    gl.linkProgram(program);\r\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n        console.error(\"ERROR linking program!\", gl.getProgramInfoLof(program));\r\n        return;\r\n    }\r\n\r\n    gl.validateProgram(program);\r\n    if (!gl.getProgramParameter(program, gl.VALIDATE_STATUS)) {\r\n        console.error(\"ERROR validating program!\", gl.getProgramInfoLog(program));\r\n        return;\r\n    }\r\n\r\n    const size = 10;\r\n    const ssmVertices = [];\r\n    for (let y = 0; y < size; y++) {\r\n        for (let x = 0; x < size; x++) {\r\n            ssmVertices.push(x * 0.1, y * 0.1, (y * size + x) / (size * size));\r\n        }\r\n        ssmVertices.push(size * 0.1, y * 0.1, 0); // .1 is duration of segment(i)\r\n    }\r\n    for (let x = 0; x < size; x++) {\r\n        ssmVertices.push(x * 0.1, size * 0.1, 0); // size * 0.1 in reality is segment(size-1).start + segment(size-1).duration\r\n    }\r\n    ssmVertices.push(size * 0.1, size * 0.1, 0); // size * 0.1 in reality is segment(size-1).start + segment(size-1).duration\r\n\r\n    // Fill the current element array buffer with data\r\n    const ssmIndeces = [];\r\n    for (let y = 0; y < size; y++) {\r\n        for (let x = 0; x < size; x++) {\r\n            // 1 rect = 2 triangles counterclockwise divided by backward slash \\\r\n            const topleft = y * (size + 1) + x;\r\n            const bottomleft = (y + 1) * (size + 1) + x;\r\n            ssmIndeces.push(bottomleft, bottomleft + 1, topleft);\r\n            ssmIndeces.push(bottomleft + 1, topleft + 1, topleft);\r\n        }\r\n    }\r\n    // create the buffer\r\n    const indexBuffer = gl.createBuffer();\r\n    // make this buffer the current 'ELEMENT_ARRAY_BUFFER'\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(ssmIndeces), gl.STATIC_DRAW);\r\n\r\n    const rectangleVertexBufferObject = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, rectangleVertexBufferObject);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(ssmVertices), gl.STATIC_DRAW);\r\n\r\n    const vertAttribLocation = gl.getAttribLocation(program, \"vert\");\r\n    gl.vertexAttribPointer(\r\n        vertAttribLocation,\r\n        3, // Number of elements per attribute (x, y, value)\r\n        gl.FLOAT, // Type of element\r\n        gl.FALSE, // data normalized\r\n        3 * Float32Array.BYTES_PER_ELEMENT, // Size of one vertex\r\n        0 // Offset from beginning of single vertex\r\n    );\r\n    gl.enableVertexAttribArray(vertAttribLocation);\r\n\r\n    bufferSize = size * size * 6;\r\n}\r\n\r\nexport function clear() {\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n}\r\n\r\nexport function setSSMDataArray(track) {\r\n    const segments = track.segmentObjects;\r\n    const ssm = track.ssm;\r\n    const size = segments.length;\r\n    console.log(\"Number of segments: \", size);\r\n\r\n    const halfDuration = track.getAnalysisDuration() / 2;\r\n    function st(pos) {\r\n        return pos / halfDuration - 1;\r\n    } // Scale and translate\r\n\r\n    const ssmVertices = [];\r\n\r\n    for (let y = 0; y < size; y++) {\r\n        for (let x = 0; x < size; x++) {\r\n            const value = Math.pow(y >= x ? ssm[x][y - x][0] : ssm[y][x - y - 1][1], 4);\r\n            const left = st(segments[x].start);\r\n            const top = -st(segments[y].start);\r\n            const right = st(segments[x].start + segments[x].duration);\r\n            const bottom = -st(segments[y].start + segments[y].duration);\r\n            ssmVertices.push(\r\n                left,\r\n                top,\r\n                value,\r\n                left,\r\n                bottom,\r\n                value,\r\n                right,\r\n                top,\r\n                value,\r\n                right,\r\n                top,\r\n                value,\r\n                left,\r\n                bottom,\r\n                value,\r\n                right,\r\n                bottom,\r\n                value\r\n            );\r\n        }\r\n    }\r\n\r\n    const rectangleVertexBufferObject = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, rectangleVertexBufferObject);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(ssmVertices), gl.STATIC_DRAW);\r\n\r\n    const vertAttribLocation = gl.getAttribLocation(program, \"vert\");\r\n    gl.vertexAttribPointer(\r\n        vertAttribLocation,\r\n        3, // Number of elements per attribute (x, y, value)\r\n        gl.FLOAT, // Type of element\r\n        gl.FALSE, // data normalized\r\n        3 * Float32Array.BYTES_PER_ELEMENT, // Size of one vertex\r\n        0 // Offset from beginning of single vertex\r\n    );\r\n    gl.enableVertexAttribArray(vertAttribLocation);\r\n    bufferSize = size * size * 6;\r\n    console.log(\"Created buffer of size:\", bufferSize);\r\n}\r\n\r\nexport function setSSMData(track) {\r\n    const segments = track.segmentObjects;\r\n    const ssm = track.ssm;\r\n    const size = segments.length;\r\n    console.log(\"Number of segments: \", size);\r\n\r\n    const halfDuration = track.getAnalysisDuration() / 2;\r\n    function st(pos) {\r\n        return pos / halfDuration - 1;\r\n    } // Scale and translate\r\n\r\n    const end = st(segments[size - 1].start + segments[size - 1].duration);\r\n    const ssmVertices = [];\r\n\r\n    for (let y = 0; y < size; y++) {\r\n        for (let x = 0; x < size; x++) {\r\n            const value = Math.min(1, x >= y ? ssm[y][x - y][0] : 0);\r\n            ssmVertices.push(st(segments[x].start), st(segments[y].start), 1);\r\n        }\r\n        ssmVertices.push(end, st(segments[y].start), 0); // .1 is duration of segment(i)\r\n    }\r\n    for (let x = 0; x < size; x++) {\r\n        ssmVertices.push(st(segments[x].start), end, 0); // size * 0.1 in reality is segment(size-1).start + segment(size-1).duration\r\n    }\r\n    ssmVertices.push(end, end, 0); // size * 0.1 in reality is segment(size-1).start + segment(size-1).duration\r\n\r\n    // Fill the current element array buffer with data\r\n    const ssmIndeces = [];\r\n    for (let y = 0; y < size; y++) {\r\n        for (let x = 0; x < size; x++) {\r\n            // 1 rect = 2 triangles counterclockwise divided by backward slash \\\r\n            const topleft = y * (size + 1) + x;\r\n            const bottomleft = (y + 1) * (size + 1) + x;\r\n            ssmIndeces.push(bottomleft, bottomleft + 1, topleft);\r\n            ssmIndeces.push(bottomleft + 1, topleft + 1, topleft);\r\n        }\r\n    }\r\n    // create the buffer\r\n    const indexBuffer = gl.createBuffer();\r\n    // make this buffer the current 'ELEMENT_ARRAY_BUFFER'\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(ssmIndeces), gl.STATIC_DRAW);\r\n\r\n    const rectangleVertexBufferObject = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, rectangleVertexBufferObject);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(ssmVertices), gl.STATIC_DRAW);\r\n\r\n    const vertAttribLocation = gl.getAttribLocation(program, \"vert\");\r\n    gl.vertexAttribPointer(\r\n        vertAttribLocation,\r\n        3, // Number of elements per attribute (x, y, value)\r\n        gl.FLOAT, // Type of element\r\n        gl.FALSE, // data normalized\r\n        3 * Float32Array.BYTES_PER_ELEMENT, // Size of one vertex\r\n        0 // Offset from beginning of single vertex\r\n    );\r\n    gl.enableVertexAttribArray(vertAttribLocation);\r\n    bufferSize = size * size * 6;\r\n}\r\n\r\nexport function drawSSM() {\r\n    //Main render loop\r\n\r\n    gl.useProgram(program);\r\n    //gl.drawElements(gl.TRIANGLES, bufferSize, gl.UNSIGNED_SHORT, 0);\r\n    gl.drawArrays(gl.TRIANGLES, 0, bufferSize);\r\n}\r\n\r\nconst vertexShaderText = [\r\n    \"#version 300 es\",\r\n    \"precision mediump float;\",\r\n    \"\",\r\n    \"in vec3 vert;\",\r\n    \"flat out float color;\",\r\n    \"\",\r\n    \"void main()\",\r\n    \"{\",\r\n    \" gl_Position = vec4(vert.xy, 0.0, 1.0);\",\r\n    \" color = vert.z;\",\r\n    \"}\",\r\n].join(\"\\n\");\r\n\r\nconst fragmentShaderText = [\r\n    \"#version 300 es\",\r\n    \"precision mediump float;\",\r\n    \"\",\r\n    \"flat in float color;\",\r\n    \"out vec4 fragColor;\",\r\n    \"void main()\",\r\n    \"{\",\r\n    \" fragColor = vec4(color, color, color, 1.0);\",\r\n    \"}\",\r\n].join(\"\\n\");\r\n","<template>\r\n    <div>\r\n        <div class=\"d-flex pa-2\">\r\n            <v-row>\r\n                <v-layout class=\"ml-10\">\r\n                    <v-switch\r\n                        v-model=\"canvasVis.rawPitch.draw\"\r\n                        label=\"Raw Pitch Data\"\r\n                        class=\"mx-5\"\r\n                        hide-details\r\n                    ></v-switch>\r\n                    <v-switch\r\n                        v-model=\"canvasVis.rawTimbre.draw\"\r\n                        label=\"Raw Timbre Data\"\r\n                        class=\"mx-5\"\r\n                        hide-details\r\n                    ></v-switch>\r\n                    <v-switch\r\n                        v-model=\"canvasVis.rawRhythm.draw\"\r\n                        label=\"Rhythm Data\"\r\n                        class=\"mx-5\"\r\n                        hide-details\r\n                    ></v-switch>\r\n                    <v-switch v-model=\"canvasVis.tonality.draw\" label=\"Tonality\" class=\"mx-5\" hide-details></v-switch>\r\n                    <v-switch\r\n                        v-model=\"canvasVis.ssm.draw\"\r\n                        label=\"Similarity Matrix\"\r\n                        class=\"mx-5\"\r\n                        hide-details\r\n                    ></v-switch>\r\n                </v-layout>\r\n                <v-spacer />\r\n                <v-btn color=\"primary\" fab dark small class=\"mr-10\" @click=\"zoom\">\r\n                    <v-icon>mdi-magnify-plus-outline</v-icon>\r\n                </v-btn>\r\n            </v-row>\r\n        </div>\r\n        <div class=\"vis\" @click=\"clickedVis\">\r\n            <svg v-if=\"!loadingTrack\" class=\"visSeeker\">\r\n                <rect\r\n                    :x=\"\r\n                        this.zoomed ? this.padding + this.canvasWidth / 2 : padding + (this.seeker / 1000.0) * scale - 1\r\n                    \"\r\n                    :y=\"0\"\r\n                    :width=\"2\"\r\n                    :height=\"canvasHeight\"\r\n                    fill=\"#ffffff\"\r\n                    :opacity=\"0.5\"\r\n                />\r\n            </svg>\r\n            <canvas v-show=\"!loadingTrack\" id=\"visCanvas\" ref=\"visCanvas\" class=\"visCanvas pa-0 ma-0\"></canvas>\r\n            <!--<svg v-if=\"!loadingTrack\" class=\"svgContainer\">\r\n        <g v-if=\"drawClusters\">\r\n          <rect\r\n            v-for=\"(segment, index) in segments\"\r\n            :key=\"index\"\r\n            :x=\"padding+segment.start*scale\"\r\n            :y=\"segment.cluster*10\"\r\n            :width=\"segment.duration*scale\"\r\n            :height=\"10\"\r\n            :fill=\"clusterColor(segment.cluster)\"\r\n            @click=\"clickedCluster(segment.cluster, segment)\"\r\n          />\r\n        </g>\r\n      </svg>\r\n      <svg\r\n        v-if=\"!loadingTrack && $store.state.tsneReady\"\r\n        class=\"tsneContainer\"\r\n        @click=\"clickedTSNE\"\r\n        :style=\"`height: ${tsneSize+padding}px; left: ${padding}`\"\r\n      >\r\n        <circle\r\n          v-for=\"(segment, index) in segments\"\r\n          :key=\"index\"\r\n          :class=\"playingSegment(segment) ? 'segmentCirclePlaying' : 'segmentCircle'\"\r\n          :r=\"(2+Math.min(2,segment.duration)*5) * (playingSegment(segment) ? 3: 1)\"\r\n          :cx=\"(segment.tsneCoord[0]+1)*tsneSize/2\"\r\n          :cy=\"(segment.tsneCoord[1]+1)*tsneSize/2\"\r\n          :fill=\"playingSegment(segment)? 'white': clusterColor(segment.cluster)\"\r\n          @click=\"clickedSegment(segment)\"\r\n        />\r\n      </svg>-->\r\n            <canvas id=\"gl-canvas\" class=\"visCanvas pa-0 ma-0\"></canvas>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from \"d3\";\r\nimport * as audioUtil from \"../app/audioUtil\";\r\n\r\nimport * as player from \"../app/player\";\r\nimport * as app from \"../app/app\";\r\nimport * as vis from \"../app/vis\";\r\nimport Segment from \"../app/Segment\";\r\nimport * as webGL from \"../app/webGL\";\r\n\r\nconst d3ClusterColor = d3.scaleOrdinal(d3.schemeCategory10);\r\nexport default {\r\n    props: [\"padding\"],\r\n    data() {\r\n        return {\r\n            canvas: null,\r\n            ctx: null,\r\n            hover: 0,\r\n            windowWidth: window.innerWidth,\r\n            spotifyVisualizer: null,\r\n            power: 1,\r\n            zoomed: false,\r\n            scaleX: 4,\r\n            visSpaceBetween: 5,\r\n            drawClusters: true,\r\n            canvasVis: {\r\n                rawPitch: { draw: true, height: 150, function: vis.renderRawPitch },\r\n                percussionPitch: {\r\n                    draw: false,\r\n                    height: 30,\r\n                    function: vis.renderPercussionPitch,\r\n                },\r\n                rawTimbre: { draw: true, height: 150, function: vis.renderRawTimbre },\r\n                ssm: {\r\n                    draw: false,\r\n                    height: window.innerWidth - this.padding * 2,\r\n                    function: vis.renderSSM,\r\n                },\r\n                tonality: { draw: true, height: 25, function: vis.renderTonality },\r\n                rawRhythm: { draw: true, height: 30, function: vis.renderRawRhythm },\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        track() {\r\n            return this.$store.getters.selectedTrack;\r\n        },\r\n        analysis() {\r\n            return this.track.getAnalysis();\r\n        },\r\n        segments() {\r\n            return this.track.getSegments();\r\n        },\r\n        scale() {\r\n            return this.width / this.analysis.track.duration;\r\n        },\r\n        width() {\r\n            return this.windowWidth * (this.zoomed ? this.scaleX : 1) - this.padding * 2;\r\n        },\r\n        canvasWidth() {\r\n            return this.windowWidth - this.padding * 2;\r\n        },\r\n        tsneSize() {\r\n            return this.canvasWidth / 2;\r\n        },\r\n        canvasHeight() {\r\n            let height = 0;\r\n            for (const [key, vis] of Object.entries(this.canvasVis)) {\r\n                height += vis.draw ? this.visSpaceBetween + vis.height : 0;\r\n            }\r\n            return height;\r\n        },\r\n        loadingTrack() {\r\n            return this.$store.state.loadingTrack;\r\n        },\r\n        duration() {\r\n            return Math.round(this.track.getAnalysis().track.duration * 1000);\r\n        },\r\n        seeker() {\r\n            return this.$store.state.seeker;\r\n        },\r\n    },\r\n    watch: {\r\n        loadingTrack: \"loadingTrackChanged\",\r\n        seeker: \"seekerChanged\",\r\n        canvasHeight: \"canvasHeightChanged\",\r\n        canvasVis: {\r\n            deep: true,\r\n            handler(newVis, oldVis) {\r\n                this.canvasVisChanged(newVis, oldVis);\r\n            },\r\n        },\r\n    },\r\n    mounted() {\r\n        window.addEventListener(\"resize\", () => {\r\n            this.windowWidth = window.innerWidth;\r\n            //this.setupCanvas(document.getElementById(\"visCanvas\"));\r\n            //this.draw(0);\r\n        });\r\n        this.webGLSetup();\r\n        //this.setupCanvas(document.getElementById(\"visCanvas\"));\r\n        //this.draw(0);\r\n    },\r\n    methods: {\r\n        webGLSetup() {\r\n            const glCanvas = document.getElementById(\"gl-canvas\");\r\n            glCanvas.width = this.windowWidth;\r\n            glCanvas.height = this.windowWidth;\r\n            webGL.init(glCanvas);\r\n        },\r\n        drawSSM() {\r\n            console.log(\"Drawing SSM\");\r\n            webGL.clear();\r\n            webGL.setSSMDataArray(this.track);\r\n            webGL.drawSSM();\r\n        },\r\n        clickedVis(event) {\r\n            console.log(event);\r\n            if (event.srcElement.id === \"visCanvas\" && event.offsetY <= this.canvasHeight) {\r\n                const posX = Math.min(Math.max(0, event.clientX - this.padding) / this.width, 1);\r\n                const ms = posX * this.duration;\r\n                this.$store.commit(\"setSeeker\", ms);\r\n                player.seek(ms);\r\n            }\r\n        },\r\n        loudness(db) {\r\n            return audioUtil.loudness(db);\r\n        },\r\n        pitchColorRange(value) {\r\n            return vis.pitchColor(value);\r\n        },\r\n        timbreColorRange(value) {\r\n            return vis.timbreColor(value);\r\n        },\r\n        rainbowColorRange(value) {\r\n            return vis.rainbowColor(value);\r\n        },\r\n        clusterColor(cluster) {\r\n            return d3ClusterColor(cluster);\r\n        },\r\n        loadingTrackChanged(newVal, oldVal) {\r\n            if (this.loadingTrack) {\r\n                this.canvasVis.ssm.draw = false;\r\n            } else {\r\n                //this.draw(0);\r\n            }\r\n        },\r\n        setupCanvas(canvas) {\r\n            if (!canvas) {\r\n                console.log(\"canvas not ready\");\r\n                return;\r\n            }\r\n            console.log(\"canvas ready: draw()\");\r\n            this.canvas = canvas;\r\n            this.ctx = canvas.getContext(\"2d\");\r\n\r\n            // get current size of the canvas\r\n            let rect = canvas.getBoundingClientRect();\r\n\r\n            // increase the actual size of our canvas\r\n            this.canvas.width = this.windowWidth * devicePixelRatio;\r\n            this.canvas.height = this.canvasHeight * devicePixelRatio;\r\n\r\n            // ensure all drawing operations are scaled\r\n            this.ctx.scale(devicePixelRatio, devicePixelRatio);\r\n\r\n            // scale everything down using CSS\r\n            this.canvas.style.width = this.windowWidth + \"px\";\r\n            this.canvas.style.height = this.canvasHeight + \"px\";\r\n\r\n            this.ctx.webkitImageSmoothingEnabled = false;\r\n            this.ctx.mozImageSmoothingEnabled = false;\r\n            this.ctx.imageSmoothingEnabled = false;\r\n\r\n            //this.draw();\r\n        },\r\n        draw(xOffset) {\r\n            console.log(\"draw\", xOffset);\r\n            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n            let y = 0;\r\n\r\n            for (const [key, vis] of Object.entries(this.canvasVis)) {\r\n                if (vis.draw) {\r\n                    vis.function(this.track, this.padding - xOffset, this.width, y, vis.height, this.ctx);\r\n                    y += this.visSpaceBetween + vis.height;\r\n                }\r\n            }\r\n        },\r\n        zoom() {\r\n            console.log(\"zooming\");\r\n            //this.transform();\r\n            this.zoomed = !this.zoomed;\r\n            this.redraw();\r\n        },\r\n        redraw() {\r\n            const xOffset = ((this.seeker / 1000.0) * this.width) / this.analysis.track.duration;\r\n            const offsetToMiddle = this.canvasWidth / 2;\r\n            this.draw(this.zoomed ? xOffset - offsetToMiddle : 0);\r\n        },\r\n        seekerChanged(newSeek, oldSeek) {\r\n            if (this.zoomed) {\r\n                this.redraw();\r\n            }\r\n        },\r\n        transform() {\r\n            this.ctx.save();\r\n            this.ctx.translate(this.width * 0.5, this.canvasHeight * 0.5);\r\n            this.ctx.scale(2, 2);\r\n            this.ctx.drawImage(this.canvas, -this.width * 0.5, -this.canvasHeight * 0.5);\r\n            this.ctx.restore();\r\n        },\r\n        clickedCluster(clusterIndex, segment) {\r\n            console.log(\"playing cluster\", clusterIndex);\r\n            let totalDuration = 0;\r\n            const clusterSize = this.track.clusters[clusterIndex].length;\r\n            const randomSegmentIndex = Math.floor(Math.random() * clusterSize);\r\n            const randomSegment = segment; //this.track.clusters[clusterIndex][randomSegmentIndex];\r\n            player.playSegment(randomSegment);\r\n            this.$store.commit(\"setSeeker\", randomSegment.start * 1000);\r\n        },\r\n        clickedSegment(segment) {\r\n            player.playSegment(segment);\r\n            this.$store.commit(\"setSeeker\", segment.start * 1000);\r\n        },\r\n        clickedTSNE(event) {\r\n            const x = (event.offsetX / this.tsneSize) * 2 - 1;\r\n            const y = (event.offsetY / this.tsneSize) * 2 - 1;\r\n            const segment = this.track.getClosestSegment([x, y]);\r\n            this.clickedSegment(segment);\r\n        },\r\n        playingSegment(segment) {\r\n            return (\r\n                this.$store.getters.playing &&\r\n                this.seeker / 1000 >= segment.start &&\r\n                this.seeker / 1000 < segment.start + segment.duration - 0.01\r\n            );\r\n        },\r\n        canvasHeightChanged(newHeight, oldHeight) {\r\n            console.log(\"CanvasHeight change\");\r\n            //this.setupCanvas(this.canvas);\r\n            //this.draw(0);\r\n        },\r\n        canvasVisChanged() {\r\n            //this.setupCanvas(this.canvas);\r\n            //this.draw(0);\r\n            if (this.canvasVis.ssm.draw) {\r\n                this.drawSSM();\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style>\r\n.vis {\r\n    padding-top: 10px;\r\n    position: relative;\r\n}\r\n.visCanvas {\r\n    image-rendering: optimizeSpeed;\r\n    image-rendering: -moz-crisp-edges;\r\n    image-rendering: -webkit-optimize-contrast;\r\n    image-rendering: -o-crisp-edges;\r\n    image-rendering: crisp-edges;\r\n    -ms-interpolation-mode: nearest-neighbor;\r\n}\r\n.visSeeker {\r\n    position: absolute;\r\n    z-index: 3;\r\n    width: 100%;\r\n    overflow: visible;\r\n}\r\n.svgContainer {\r\n    position: relative;\r\n    padding-top: 10px;\r\n    background-color: \"white\";\r\n    top: 0px;\r\n    left: 0px;\r\n    z-index: 2;\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: visible;\r\n}\r\n.tsneContainer {\r\n    display: block;\r\n    position: relative;\r\n    background-color: \"white\";\r\n    top: 0px;\r\n    left: 0px;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    overflow: visible;\r\n}\r\n\r\n.segmentCircle {\r\n    transition: r 1.5s ease-out, fill 1.5s ease-out; /*, cx 1s ease, cy 1s ease;*/\r\n}\r\n.segmentCirclePlaying {\r\n    transition: r 0.1s ease-in, fill 0.1s ease-in;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visualization.vue?vue&type=template&id=bfa2d788&\"\nimport script from \"./Visualization.vue?vue&type=script&lang=js&\"\nexport * from \"./Visualization.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Visualization.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VIcon,VLayout,VRow,VSpacer,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player\"},[_c('div',{staticClass:\"d-flex justify-center pa-4\"},[(_vm.$store.state.playerReady)?_c('div',[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-btn',{attrs:{\"elevation\":hover ? 5 : 0,\"outlined\":\"\",\"fab\":\"\"},on:{\"click\":_vm.playPause}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-\"+_vm._s(_vm.playing ? 'pause' : 'play'))])],1)]}}],null,false,2020131878)})],1):_vm._e(),(!_vm.$store.state.playerReady)?_c('div',[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"56\"}})],1):_vm._e()]),(!_vm.$store.state.loadingTrack)?_c('div',{attrs:{\"id\":\"timeseeker\"}},[_c('svg',{staticClass:\"waveform\",attrs:{\"height\":_vm.verticalScale},on:{\"click\":_vm.clickedSVG}},[_vm._l((_vm.track.getSegments()),function(segment,index){return _c('rect',{key:index,staticClass:\"loudnessBlock\",attrs:{\"width\":segment.duration*_vm.scale,\"height\":(_vm.loudness(segment.loudness_max))*_vm.verticalScale,\"x\":_vm.padding+segment.start*_vm.scale,\"y\":_vm.verticalScale-_vm.loudness(segment.loudness_max)*_vm.verticalScale,\"fill\":segment.start+segment.duration/2 < _vm.$store.state.seeker/1000 ? 'grey' : _vm.baseColor}})}),_c('rect',{attrs:{\"x\":_vm.padding+((_vm.seeker/1000.0)*_vm.scale)-1,\"y\":0,\"width\":2,\"height\":_vm.verticalScale,\"fill\":\"#1DB954\"}})],2)]):_vm._e(),(_vm.$store.state.loadingTrack)?_c('div',[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"success\"}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"player\">\r\n        <div class=\"d-flex justify-center pa-4\">\r\n            <div v-if=\"$store.state.playerReady\" >\r\n                <v-hover v-slot:default=\"{ hover }\" >\r\n                    <v-btn :elevation=\"hover ? 5 : 0\" outlined fab @click=\"playPause\" >\r\n                        <v-icon large>mdi-{{playing ? 'pause' : 'play'}}</v-icon>\r\n                    </v-btn>\r\n                </v-hover>\r\n            </div>\r\n            <div v-if=\"!$store.state.playerReady\">\r\n                <v-progress-circular\r\n                    indeterminate\r\n                    size=56\r\n                ></v-progress-circular>\r\n            </div>\r\n        </div>\r\n        <div id=\"timeseeker\" v-if=\"!$store.state.loadingTrack\">\r\n            <svg class=\"waveform\" :height=\"verticalScale\" @click=\"clickedSVG\">\r\n                <rect v-for=\"(segment, index) in track.getSegments()\"\r\n                    class=\"loudnessBlock\"\r\n                    :key=\"index\"\r\n                    :width=\"segment.duration*scale\" \r\n                    :height=\"(loudness(segment.loudness_max))*verticalScale\"\r\n                    :x=\"padding+segment.start*scale\"\r\n                    :y=\"verticalScale-loudness(segment.loudness_max)*verticalScale\"\r\n                    :fill=\"segment.start+segment.duration/2 < $store.state.seeker/1000 ? 'grey' : baseColor\"\r\n                />\r\n                <rect\r\n                    :x=\"padding+((seeker/1000.0)*scale)-1\"\r\n                    :y=\"0\"\r\n                    :width=\"2\"\r\n                    :height=\"verticalScale\"\r\n                    fill=\"#1DB954\"\r\n                />\r\n            </svg>\r\n        </div>\r\n        <div v-if=\"$store.state.loadingTrack\">\r\n            <v-progress-linear\r\n                indeterminate\r\n                color=\"success\"\r\n            ></v-progress-linear>\r\n         </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as player from \"../app/player\"\r\nimport * as app from \"../app/app\"\r\nimport * as auth from '../app/authentication';\r\nimport * as audioUtil from '../app/audioUtil'\r\nimport Track from \"../app/Track\"\r\nimport {spotify} from '../app/app';\r\n\r\nexport default {\r\n    inject: ['theme'],\r\n    props:[\r\n        'padding',\r\n    ],\r\n    data () {\r\n        return {\r\n            verticalScale: 50,\r\n            windowWidth: window.innerWidth,\r\n            hover: 0,\r\n            ending: false,\r\n        }\r\n    },\r\n    beforeCreate () {\r\n        player.initialize(auth.token, (newState) => this.stateChanged(newState));\r\n        player.deviceIdSet().then(()=>{ \r\n            this.$store.commit('playerReady', true);\r\n        })\r\n    },\r\n    mounted(){\r\n        \r\n    },\r\n    computed: {\r\n        track(){\r\n            return this.$store.getters.selectedTrack;\r\n        },\r\n        baseColor(){\r\n            return this.theme.isDark ? 'white' : 'black'\r\n        },\r\n        scale(){\r\n            if(this.$store.getters.loadingTrack){\r\n                return 0;\r\n            }\r\n            return this.width/this.track.getAnalysisDuration();\r\n        },\r\n        width(){\r\n            return this.windowWidth - this.padding*2;\r\n        },\r\n        duration(){\r\n            if(this.$store.getters.loadingTrack){\r\n                return 0;\r\n            }\r\n            return Math.round(this.track.getAnalysisDuration()*1000);\r\n        },\r\n        playing(){\r\n            return this.$store.getters.playing;\r\n        },\r\n        seeker(){\r\n            return this.$store.getters.seeker;\r\n        }\r\n    },\r\n    watch: {\r\n        track: 'trackChanged',\r\n    },\r\n    methods: {\r\n        clickedSVG(event){\r\n            const posX = Math.min(Math.max(0,event.clientX-this.padding)/this.width, 1);\r\n            const ms = posX*this.duration;\r\n            this.$store.commit('setSeeker', ms);\r\n            player.seek(this.seeker);\r\n        },\r\n        trackChanged(newTrack, oldTrack){\r\n            this.reset().then(()=>{\r\n                player.setTrack(this.track.getUri(), 0);\r\n                this.$store.commit('setSeeker', 0);\r\n            });\r\n        },\r\n        resume () {\r\n            if(!this.playing){\r\n                player.resume(this.seeker).then(() => {\r\n                    this.$store.commit('setPlaying', true);\r\n                    this.interval = setInterval(() => this.seekerTimer(33), 33);\r\n                });\r\n            }\r\n        },\r\n        pause () {\r\n            if(this.playing){\r\n                player.pause();\r\n                this.$store.commit('setPlaying', false);\r\n                clearInterval(this.interval);\r\n            }\r\n        },\r\n        playPause () {\r\n            this.playing ? this.pause() : this.resume();\r\n        },\r\n        async reset(){\r\n            this.ending = false;\r\n            return player.pause().then(() => {\r\n                this.$store.commit('setSeeker', 0);\r\n                clearInterval(this.interval);\r\n                this.$store.commit('setPlaying', false);\r\n            }).catch((err) => console.log(err));\r\n        },\r\n        clickedTimeSeeker () {\r\n            player.seek(this.seekTime);\r\n        \r\n        },\r\n        seekerTimer(increment){\r\n            const now = new Date();\r\n            let elapsed = increment\r\n            if(this.lastTimePoll){\r\n                elapsed = now-this.lastTimePoll;\r\n            }\r\n            this.lastTimePoll = now;\r\n            this.seekTime+=elapsed;\r\n            this.$store.state.seeker+=elapsed;\r\n        },\r\n        loudness(db){\r\n            return audioUtil.loudness(db);\r\n        },\r\n        stateChanged(state){\r\n            if(this.playing){\r\n                const {current_track, position, duration} = state;\r\n                this.$store.commit('setSeeker', position);\r\n\r\n                // if state gotten at the end, assume it is a stop and reset when next state position is 0\r\n                if(this.ending && state.position === 0){\r\n                    this.reset();\r\n                }\r\n                if(!this.ending && (state.duration - state.position) < 500){\r\n                    this.ending = true;\r\n                }\r\n                \r\n            }\r\n\r\n        }\r\n    },\r\n    components:{\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.waveform{\r\n  overflow: visible;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n.loudnessBlock{\r\n    transition: fill 200ms ease;\r\n    cursor: pointer\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=797175ce&\"\nimport script from \"./Player.vue?vue&type=script&lang=js&\"\nexport * from \"./Player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Player.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBtn,VHover,VIcon,VProgressCircular,VProgressLinear})\n","<template>\r\n  <div class=\"home\">\r\n    <v-app-bar dark>\r\n      <v-toolbar-title>Music Structure Visualizer</v-toolbar-title>\r\n\r\n      <v-spacer></v-spacer>\r\n\r\n      <form v-on:submit.prevent=\"search\">\r\n        <v-text-field\r\n          v-model=\"searchQuery\"\r\n          hide-details\r\n          append-icon=\"mdi-magnify\"\r\n          single-line\r\n          rounded\r\n          dense\r\n          filled\r\n        ></v-text-field>\r\n      </form>\r\n      <div class=\"volumeSlider\">\r\n        <v-container>\r\n          <v-slider\r\n            @click:prepend=\"clickVolume\"\r\n            :prepend-icon=\"getVolumeIcon(volume)\"\r\n            v-model=\"volume\"\r\n            :min=\"0\"\r\n            :max=\"1\"\r\n            :step=\"0.02\"\r\n          ></v-slider>\r\n        </v-container>\r\n      </div>\r\n\r\n      <v-btn icon>\r\n        <v-icon>mdi-heart</v-icon>\r\n      </v-btn>\r\n      <v-btn icon>\r\n        <v-icon>mdi-dots-vertical</v-icon>\r\n      </v-btn>\r\n    </v-app-bar>\r\n    <TrackSelector :tracks=\"trackList\" :album-size=\"120\" />\r\n    <Player :padding=\"padding\" />\r\n    <Visualization :padding=\"padding\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TrackSelector from \"../components/TrackSelector\";\r\nimport Visualization from \"../components/Visualization\";\r\nimport Player from \"../components/Player\";\r\nimport * as app from \"../app/app\";\r\nimport * as auth from \"../app/authentication\";\r\nimport * as player from \"../app/player\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      volume: 0.75,\r\n      prevVolume: 0.75,\r\n      padding: 50,\r\n    };\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.getters.user;\r\n    },\r\n    trackList() {\r\n      return this.$store.getters.trackList;\r\n    },\r\n    selectedIndex() {\r\n      return this.$store.getters.selectedIndex;\r\n    },\r\n    selectedTrack() {\r\n      return this.$store.getters.selectedTrack;\r\n    },\r\n    seeker() {\r\n      return this.$store.getters.seeker;\r\n    },\r\n  },\r\n  watch: {\r\n    selectedIndex(newIndex, oldIndex) {\r\n      //console.log(`We have ${newVal} selected!`)\r\n    },\r\n    selectedTrack(newTrack, oldTrack) {\r\n      console.log(`We have ${newTrack.getName()} selected!`);\r\n    },\r\n    volume(newVol, oldVol) {\r\n      player.setVolume(Math.pow(this.volume, 2));\r\n    },\r\n  },\r\n  components: {\r\n    TrackSelector,\r\n    Visualization,\r\n    Player,\r\n  },\r\n  beforeCreate() {\r\n    console.log(\"Initializing app\")\r\n    app.initialize();\r\n  },\r\n  methods: {\r\n    search() {\r\n      app.search(this.searchQuery);\r\n    },\r\n    selectedTrackChanged() {\r\n      console.log(\"selected track\", this.trackList[this.selected].name);\r\n      this.getAnalsysisFor(this.selected);\r\n    },\r\n    getAnalsysisFor(index) {\r\n      const selectedTrackId = this.trackList[index].id;\r\n      if (!this.trackAnalysis.has(selectedTrackId)) {\r\n        this.analysisReady = false;\r\n        console.log(\"Getting analysis for: \", this.trackList[index].name);\r\n      }\r\n    },\r\n    getVolumeIcon(volume) {\r\n      if (volume > 0.6) return \"mdi-volume-high\";\r\n      if (volume > 0.2) return \"mdi-volume-medium\";\r\n      if (volume > 0) return \"mdi-volume-low\";\r\n      return \"mdi-volume-off\";\r\n    },\r\n    clickVolume() {\r\n      if (this.volume > 0) {\r\n        this.prevVolume = this.volume;\r\n        this.volume = 0;\r\n      } else {\r\n        this.volume = this.prevVolume;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.volumeSlider {\r\n  height: 100%;\r\n  width: 10%;\r\n}\r\n.trackScroll {\r\n  /*overflow-x: auto;*/\r\n}\r\n.trackScroll::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2bf05ad4&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VContainer,VIcon,VSlider,VSpacer,VTextField,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"callback\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"callback\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { requestFirstToken } from \"../app/authentication\"\r\n\r\nexport default {\r\n  name: 'Callback',\r\n  components: {\r\n  },\r\n  beforeCreate () {\r\n      let params = new URLSearchParams(window.location.search);\r\n      let code = params.get('code')\r\n      requestFirstToken(code).then(()=>{\r\n        this.$router.push('/home');\r\n      })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.callback{\r\n  height: 100%,\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Callback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Callback.vue?vue&type=template&id=e48c1e1c&\"\nimport script from \"./Callback.vue?vue&type=script&lang=js&\"\nexport * from \"./Callback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Callback.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-card',{staticClass:\"mx-auto elevation-15\"},[_c('v-card-title',{staticClass:\"justify-center\"},[_vm._v(\"Music Structure Visualizer\")]),_c('v-card-subtitle',{staticClass:\"text-center\"},[_vm._v(\" Visualize the structure of music in your own library! \")]),_c('v-card-text',{staticClass:\"text-center\"},[_vm._v(\" Logging in with spotify enables the app to play music using your spotify account. \")]),_c('v-card-actions',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.spotifyAuthorize}},[_vm._v(\"Log in with Spotify\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login\">\r\n        <v-container fill-height>\r\n            <v-layout align-center>\r\n                <v-card class=\"mx-auto elevation-15\">\r\n                    <v-card-title class=\"justify-center\">Music Structure Visualizer</v-card-title>\r\n                    <v-card-subtitle class=\"text-center\">\r\n                        Visualize the structure of music in your own library!\r\n                    </v-card-subtitle>\r\n                    <v-card-text class=\"text-center\">\r\n                        Logging in with spotify enables the app to play music using your spotify account.\r\n                    </v-card-text>\r\n                    <v-card-actions>\r\n                        <v-btn class=\"mx-auto\" color=\"success\" @click=\"spotifyAuthorize\">Log in with Spotify</v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-layout>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: {\r\n  },\r\n  methods: {\r\n      spotifyAuthorize () {\r\n          window.location.href= process.env.VUE_APP_HOST_URL + \"/api/spotify/login\"\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login{\r\n    height: 100%\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=acb05ff4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VContainer,VLayout})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Callback from '../views/Callback.vue'\nimport Login from '../views/Login.vue'\nimport * as app from '../app/app'\nimport * as auth from '../app/authentication'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/home',\n    name: 'Home',\n    component: Home,\n    beforeEnter(to, from, next) {\n      if (auth.isAuthorized()) {\n        next();\n      }else{\n        next('/');\n      }\n    }\n  },\n  {\n    path: '/callback',\n    name: 'Callback',\n    component: Callback\n  },\n\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        dark: true,\n        themes:{\n            // Spotify green = 1DB954\n            // Spotify black = 191414\n            light: {\n                primary: '#1DB954',//'#1976D2',\n                secondary: '#424242',\n                accent: '#82B1FF',\n                error: '#FF5252',\n                info: '#2196F3',\n                success: '#1DB954',//'#4CAF50',\n                warning: '#FFC107',\n            },\n            dark: {\n                primary: '#1DB954',//'#1976D2',\n                success: '#1DB954',//'#4CAF50',\n            }\n        }\n    }\n});\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/my.worker.f341e2ed.worker.js\");\n}\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport vuetify from \"./plugins/vuetify\";\r\nimport store from \"./store\";\r\n\r\nimport(\"./app/wasm/pkg\").then((lib) => {\r\n    console.log(`707 + 707 = ${lib.add(707, 707)}`);\r\n});\r\n\r\nimport Worker from \"./app/newworkers/my.worker.js\";\r\nconst worker = new Worker();\r\n\r\nworker.onmessage = (event) => {\r\n    console.log(\"Got back from worker\", JSON.stringify(event.data));\r\n};\r\n\r\nconsole.log(\"Sending message to worker\");\r\nworker.postMessage({ message: \"Are u awake?\", now: performance.now() });\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n    router,\r\n    vuetify,\r\n    store,\r\n    render: (h) => h(App),\r\n}).$mount(\"#app\");\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visualization.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}